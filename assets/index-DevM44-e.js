var oS=Object.defineProperty;var aS=(n,e,t)=>e in n?oS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ll=(n,e,t)=>aS(n,typeof e!="symbol"?e+"":e,t);function lS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function uS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rp={exports:{}},Vl={},ip={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function cS(){if(Dv)return De;Dv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function L(B,Z,me){this.props=B,this.context=Z,this.refs=N,this.updater=me||b}L.prototype.isReactComponent={},L.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},L.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function K(){}K.prototype=L.prototype;function Y(B,Z,me){this.props=B,this.context=Z,this.refs=N,this.updater=me||b}var W=Y.prototype=new K;W.constructor=Y,D(W,L.prototype),W.isPureReactComponent=!0;var z=Array.isArray,j=Object.prototype.hasOwnProperty,Q={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(B,Z,me){var Te,xe={},Oe=null,Fe=null;if(Z!=null)for(Te in Z.ref!==void 0&&(Fe=Z.ref),Z.key!==void 0&&(Oe=""+Z.key),Z)j.call(Z,Te)&&!P.hasOwnProperty(Te)&&(xe[Te]=Z[Te]);var Le=arguments.length-2;if(Le===1)xe.children=me;else if(1<Le){for(var je=Array(Le),Xe=0;Xe<Le;Xe++)je[Xe]=arguments[Xe+2];xe.children=je}if(B&&B.defaultProps)for(Te in Le=B.defaultProps,Le)xe[Te]===void 0&&(xe[Te]=Le[Te]);return{$$typeof:n,type:B,key:Oe,ref:Fe,props:xe,_owner:Q.current}}function R(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function _(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function x(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return Z[me]})}var V=/\/+/g;function A(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?x(""+B.key):Z.toString(36)}function ve(B,Z,me,Te,xe){var Oe=typeof B;(Oe==="undefined"||Oe==="boolean")&&(B=null);var Fe=!1;if(B===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(B.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=B,xe=xe(Fe),B=Te===""?"."+A(Fe,0):Te,z(xe)?(me="",B!=null&&(me=B.replace(V,"$&/")+"/"),ve(xe,Z,me,"",function(Xe){return Xe})):xe!=null&&(_(xe)&&(xe=R(xe,me+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+B)),Z.push(xe)),1;if(Fe=0,Te=Te===""?".":Te+":",z(B))for(var Le=0;Le<B.length;Le++){Oe=B[Le];var je=Te+A(Oe,Le);Fe+=ve(Oe,Z,me,je,xe)}else if(je=S(B),typeof je=="function")for(B=je.call(B),Le=0;!(Oe=B.next()).done;)Oe=Oe.value,je=Te+A(Oe,Le++),Fe+=ve(Oe,Z,me,je,xe);else if(Oe==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Pe(B,Z,me){if(B==null)return B;var Te=[],xe=0;return ve(B,Te,"","",function(Oe){return Z.call(me,Oe,xe++)}),Te}function be(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var Ne={current:null},se={transition:null},he={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:se,ReactCurrentOwner:Q};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:Pe,forEach:function(B,Z,me){Pe(B,function(){Z.apply(this,arguments)},me)},count:function(B){var Z=0;return Pe(B,function(){Z++}),Z},toArray:function(B){return Pe(B,function(Z){return Z})||[]},only:function(B){if(!_(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},De.Component=L,De.Fragment=t,De.Profiler=o,De.PureComponent=Y,De.StrictMode=i,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,De.act=le,De.cloneElement=function(B,Z,me){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Te=D({},B.props),xe=B.key,Oe=B.ref,Fe=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Oe=Z.ref,Fe=Q.current),Z.key!==void 0&&(xe=""+Z.key),B.type&&B.type.defaultProps)var Le=B.type.defaultProps;for(je in Z)j.call(Z,je)&&!P.hasOwnProperty(je)&&(Te[je]=Z[je]===void 0&&Le!==void 0?Le[je]:Z[je])}var je=arguments.length-2;if(je===1)Te.children=me;else if(1<je){Le=Array(je);for(var Xe=0;Xe<je;Xe++)Le[Xe]=arguments[Xe+2];Te.children=Le}return{$$typeof:n,type:B.type,key:xe,ref:Oe,props:Te,_owner:Fe}},De.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},De.createElement=C,De.createFactory=function(B){var Z=C.bind(null,B);return Z.type=B,Z},De.createRef=function(){return{current:null}},De.forwardRef=function(B){return{$$typeof:d,render:B}},De.isValidElement=_,De.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:be}},De.memo=function(B,Z){return{$$typeof:m,type:B,compare:Z===void 0?null:Z}},De.startTransition=function(B){var Z=se.transition;se.transition={};try{B()}finally{se.transition=Z}},De.unstable_act=le,De.useCallback=function(B,Z){return Ne.current.useCallback(B,Z)},De.useContext=function(B){return Ne.current.useContext(B)},De.useDebugValue=function(){},De.useDeferredValue=function(B){return Ne.current.useDeferredValue(B)},De.useEffect=function(B,Z){return Ne.current.useEffect(B,Z)},De.useId=function(){return Ne.current.useId()},De.useImperativeHandle=function(B,Z,me){return Ne.current.useImperativeHandle(B,Z,me)},De.useInsertionEffect=function(B,Z){return Ne.current.useInsertionEffect(B,Z)},De.useLayoutEffect=function(B,Z){return Ne.current.useLayoutEffect(B,Z)},De.useMemo=function(B,Z){return Ne.current.useMemo(B,Z)},De.useReducer=function(B,Z,me){return Ne.current.useReducer(B,Z,me)},De.useRef=function(B){return Ne.current.useRef(B)},De.useState=function(B){return Ne.current.useState(B)},De.useSyncExternalStore=function(B,Z,me){return Ne.current.useSyncExternalStore(B,Z,me)},De.useTransition=function(){return Ne.current.useTransition()},De.version="18.3.1",De}var Lv;function mm(){return Lv||(Lv=1,ip.exports=cS()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function hS(){if(Vv)return Vl;Vv=1;var n=mm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,E={},S=null,b=null;m!==void 0&&(S=""+m),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(b=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:d,key:S,ref:b,props:E,_owner:o.current}}return Vl.Fragment=t,Vl.jsx=u,Vl.jsxs=u,Vl}var Mv;function dS(){return Mv||(Mv=1,rp.exports=hS()),rp.exports}var k=dS(),U=mm();const xn=uS(U),gh=lS({__proto__:null,default:xn},[U]);var Hc={},sp={exports:{}},An={},op={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function fS(){return Fv||(Fv=1,function(n){function e(se,he){var le=se.length;se.push(he);e:for(;0<le;){var B=le-1>>>1,Z=se[B];if(0<o(Z,he))se[B]=he,se[le]=Z,le=B;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var he=se[0],le=se.pop();if(le!==he){se[0]=le;e:for(var B=0,Z=se.length,me=Z>>>1;B<me;){var Te=2*(B+1)-1,xe=se[Te],Oe=Te+1,Fe=se[Oe];if(0>o(xe,le))Oe<Z&&0>o(Fe,xe)?(se[B]=Fe,se[Oe]=le,B=Oe):(se[B]=xe,se[Te]=le,B=Te);else if(Oe<Z&&0>o(Fe,le))se[B]=Fe,se[Oe]=le,B=Oe;else break e}}return he}function o(se,he){var le=se.sortIndex-he.sortIndex;return le!==0?le:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,E=null,S=3,b=!1,D=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(se){for(var he=t(m);he!==null;){if(he.callback===null)i(m);else if(he.startTime<=se)i(m),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(m)}}function z(se){if(N=!1,W(se),!D)if(t(f)!==null)D=!0,be(j);else{var he=t(m);he!==null&&Ne(z,he.startTime-se)}}function j(se,he){D=!1,N&&(N=!1,K(C),C=-1),b=!0;var le=S;try{for(W(he),E=t(f);E!==null&&(!(E.expirationTime>he)||se&&!x());){var B=E.callback;if(typeof B=="function"){E.callback=null,S=E.priorityLevel;var Z=B(E.expirationTime<=he);he=n.unstable_now(),typeof Z=="function"?E.callback=Z:E===t(f)&&i(f),W(he)}else i(f);E=t(f)}if(E!==null)var me=!0;else{var Te=t(m);Te!==null&&Ne(z,Te.startTime-he),me=!1}return me}finally{E=null,S=le,b=!1}}var Q=!1,P=null,C=-1,R=5,_=-1;function x(){return!(n.unstable_now()-_<R)}function V(){if(P!==null){var se=n.unstable_now();_=se;var he=!0;try{he=P(!0,se)}finally{he?A():(Q=!1,P=null)}}else Q=!1}var A;if(typeof Y=="function")A=function(){Y(V)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Pe=ve.port2;ve.port1.onmessage=V,A=function(){Pe.postMessage(null)}}else A=function(){L(V,0)};function be(se){P=se,Q||(Q=!0,A())}function Ne(se,he){C=L(function(){se(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){D||b||(D=!0,be(j))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var le=S;S=he;try{return se()}finally{S=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=S;S=se;try{return he()}finally{S=le}},n.unstable_scheduleCallback=function(se,he,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,se={id:v++,callback:he,priorityLevel:se,startTime:le,expirationTime:Z,sortIndex:-1},le>B?(se.sortIndex=le,e(m,se),t(f)===null&&se===t(m)&&(N?(K(C),C=-1):N=!0,Ne(z,le-B))):(se.sortIndex=Z,e(f,se),D||b||(D=!0,be(j))),se},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(se){var he=S;return function(){var le=S;S=he;try{return se.apply(this,arguments)}finally{S=le}}}}(ap)),ap}var Bv;function pS(){return Bv||(Bv=1,op.exports=fS()),op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function mS(){if(jv)return An;jv=1;var n=mm(),e=pS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(r){return f.call(E,r)?!0:f.call(v,r)?!1:m.test(r)?E[r]=!0:(v[r]=!0,!1)}function b(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,h){if(s===null||typeof s>"u"||b(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,Y);L[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,Y);L[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,Y);L[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,l,h){var p=L.hasOwnProperty(s)?L[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,p,h)&&(l=null),h||p===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),Q=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,B;function Z(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var me=!1;function Te(r,s){if(!r||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var h=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){h=G}r.call(s.prototype)}else{try{throw Error()}catch(G){h=G}r()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,O=y.length-1;1<=T&&0<=O&&p[T]!==y[O];)O--;for(;1<=T&&0<=O;T--,O--)if(p[T]!==y[O]){if(T!==1||O!==1)do if(T--,O--,0>O||p[T]!==y[O]){var M=`
`+p[T].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=T&&0<=O);break}}}finally{me=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function xe(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=Te(r.type,!1),r;case 11:return r=Te(r.type.render,!1),r;case 1:return r=Te(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case Q:return"Portal";case R:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case _:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case be:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xe(r){var s=je(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ue(r){r._valueTracker||(r._valueTracker=Xe(r))}function st(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=je(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function mt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function vn(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ht(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Le(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function _n(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function Wt(r,s){_n(r,s);var l=Le(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?tn(r,s.type,l):s.hasOwnProperty("defaultValue")&&tn(r,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function qt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function tn(r,s,l){(s!=="number"||mt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var lr=Array.isArray;function Kn(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Le(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ws(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Se(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(lr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Le(l)}}function Xr(r,s){var l=Le(s.value),h=Le(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Es(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Jr,Wa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Jr=Jr||document.createElement("div"),Jr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Jr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Ai(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ss=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(r){Ss.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ts[s]=Ts[r]})});function qa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ts.hasOwnProperty(r)&&Ts[r]?(""+s).trim():s+"px"}function Ka(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=qa(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Ga=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(r,s){if(s){if(Ga[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ya(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Is=null;function go(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yo=null,Gn=null,kr=null;function vo(r){if(r=wl(r)){if(typeof yo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=sc(s),yo(r.stateNode,r.type,s))}}function Ar(r){Gn?kr?kr.push(r):kr=[r]:Gn=r}function Xa(){if(Gn){var r=Gn,s=kr;if(kr=Gn=null,vo(r),s)for(r=0;r<s.length;r++)vo(s[r])}}function Cs(r,s){return r(s)}function Ja(){}var Zr=!1;function Za(r,s,l){if(Zr)return r(s,l);Zr=!0;try{return Cs(r,s,l)}finally{Zr=!1,(Gn!==null||kr!==null)&&(Ja(),Xa())}}function wt(r,s){var l=r.stateNode;if(l===null)return null;var h=sc(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var _o=!1;if(d)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){_o=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{_o=!1}function ks(r,s,l,h,p,y,T,O,M){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(re){this.onError(re)}}var As=!1,wo=null,cr=!1,el=null,xd={onError:function(r){As=!0,wo=r}};function Eo(r,s,l,h,p,y,T,O,M){As=!1,wo=null,ks.apply(xd,arguments)}function xu(r,s,l,h,p,y,T,O,M){if(Eo.apply(this,arguments),As){if(As){var G=wo;As=!1,wo=null}else throw Error(t(198));cr||(cr=!0,el=G)}}function hr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Rs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function dr(r){if(hr(r)!==r)throw Error(t(188))}function bu(r){var s=r.alternate;if(!s){if(s=hr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return dr(p),r;if(y===h)return dr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,O=p.child;O;){if(O===l){T=!0,l=p,h=y;break}if(O===h){T=!0,h=p,l=y;break}O=O.sibling}if(!T){for(O=y.child;O;){if(O===l){T=!0,l=y,h=p;break}if(O===h){T=!0,h=y,l=p;break}O=O.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function tl(r){return r=bu(r),r!==null?To(r):null}function To(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=To(r);if(s!==null)return s;r=r.sibling}return null}var So=e.unstable_scheduleCallback,nl=e.unstable_cancelCallback,Nu=e.unstable_shouldYield,bd=e.unstable_requestPaint,rt=e.unstable_now,Ou=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,rl=e.unstable_LowPriority,Du=e.unstable_IdlePriority,xs=null,Dn=null;function Lu(r){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(xs,r,void 0,(r.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Mu,il=Math.log,Vu=Math.LN2;function Mu(r){return r>>>=0,r===0?32:31-(il(r)/Vu|0)|0}var Io=64,Co=4194304;function Pi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function bs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var O=T&~p;O!==0?h=Pi(O):(y&=T,y!==0&&(h=Pi(y)))}else T=l&~p,T!==0?h=Pi(T):y!==0&&(h=Pi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-fn(s),p=1<<l,h|=r[l],s&=~p;return h}function Nd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-fn(y),O=1<<T,M=p[T];M===-1?((O&l)===0||(O&h)!==0)&&(p[T]=Nd(O,s)):M<=s&&(r.expiredLanes|=O),y&=~O}}function Ln(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ns(){var r=Io;return Io<<=1,(Io&4194240)===0&&(Io=64),r}function xi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function bi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-fn(s),r[s]=l}function Ze(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-fn(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function Ni(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-fn(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var Be=0;function Oi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Fu,ko,Bu,ju,Uu,sl=!1,Rr=[],Kt=null,fr=null,pr=null,Di=new Map,Yn=new Map,Pr=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(r,s){switch(r){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(s.pointerId)}}function wn(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=wl(s),s!==null&&ko(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Dd(r,s,l,h,p){switch(s){case"focusin":return Kt=wn(Kt,r,s,l,h,p),!0;case"dragenter":return fr=wn(fr,r,s,l,h,p),!0;case"mouseover":return pr=wn(pr,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return Di.set(y,wn(Di.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Yn.set(y,wn(Yn.get(y)||null,r,s,l,h,p)),!0}return!1}function zu(r){var s=Ms(r.target);if(s!==null){var l=hr(s);if(l!==null){if(s=l.tag,s===13){if(s=Rs(l),s!==null){r.blockedOn=s,Uu(r.priority,function(){Bu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ti(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Ao(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Is=h,l.target.dispatchEvent(h),Is=null}else return s=wl(l),s!==null&&ko(s),r.blockedOn=l,!1;s.shift()}return!0}function Os(r,s,l){ti(r)&&l.delete(s)}function Hu(){sl=!1,Kt!==null&&ti(Kt)&&(Kt=null),fr!==null&&ti(fr)&&(fr=null),pr!==null&&ti(pr)&&(pr=null),Di.forEach(Os),Yn.forEach(Os)}function mr(r,s){r.blockedOn===s&&(r.blockedOn=null,sl||(sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hu)))}function gr(r){function s(p){return mr(p,r)}if(0<Rr.length){mr(Rr[0],r);for(var l=1;l<Rr.length;l++){var h=Rr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Kt!==null&&mr(Kt,r),fr!==null&&mr(fr,r),pr!==null&&mr(pr,r),Di.forEach(s),Yn.forEach(s),l=0;l<Pr.length;l++)h=Pr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Pr.length&&(l=Pr[0],l.blockedOn===null);)zu(l),l.blockedOn===null&&Pr.shift()}var ni=z.ReactCurrentBatchConfig,Li=!0;function lt(r,s,l,h){var p=Be,y=ni.transition;ni.transition=null;try{Be=1,ol(r,s,l,h)}finally{Be=p,ni.transition=y}}function Ld(r,s,l,h){var p=Be,y=ni.transition;ni.transition=null;try{Be=4,ol(r,s,l,h)}finally{Be=p,ni.transition=y}}function ol(r,s,l,h){if(Li){var p=Ao(r,s,l,h);if(p===null)qd(r,s,h,Ds,l),$u(r,h);else if(Dd(p,r,s,l,h))h.stopPropagation();else if($u(r,h),s&4&&-1<Od.indexOf(r)){for(;p!==null;){var y=wl(p);if(y!==null&&Fu(y),y=Ao(r,s,l,h),y===null&&qd(r,s,h,Ds,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else qd(r,s,h,null,l)}}var Ds=null;function Ao(r,s,l,h){if(Ds=null,r=go(h),r=Ms(r),r!==null)if(s=hr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Rs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ds=r,null}function al(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ou()){case Ps:return 1;case Ri:return 4;case Qn:case rl:return 16;case Du:return 536870912;default:return 16}default:return 16}}var Vn=null,Ro=null,En=null;function ll(){if(En)return En;var r,s=Ro,l=s.length,h,p="value"in Vn?Vn.value:Vn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return En=p.slice(r,1<h?1-h:void 0)}function Po(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function xr(){return!0}function ul(){return!1}function Gt(r){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xr:ul,this.isPropagationStopped=ul,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Gt(yr),br=le({},yr,{view:0,detail:0}),Vd=Gt(br),bo,ri,Vi,Ls=le({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?(bo=r.screenX-Vi.screenX,ri=r.screenY-Vi.screenY):ri=bo=0,Vi=r),bo)},movementY:function(r){return"movementY"in r?r.movementY:ri}}),No=Gt(Ls),cl=le({},Ls,{dataTransfer:0}),Wu=Gt(cl),Oo=le({},br,{relatedTarget:0}),Do=Gt(Oo),qu=le({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),ii=Gt(qu),Ku=le({},yr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gu=Gt(Ku),Qu=le({},yr,{data:0}),hl=Gt(Qu),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yu[r])?!!s[r]:!1}function Nr(){return Xu}var c=le({},br,{key:function(r){if(r.key){var s=Lo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(r){return r.type==="keypress"?Po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Gt(c),w=le({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Gt(w),$=le({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),X=Gt($),ae=le({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=Gt(ae),xt=le({},Ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Gt(xt),Vt=[9,13,27,32],kt=d&&"CompositionEvent"in window,Xn=null;d&&"documentMode"in document&&(Xn=document.documentMode);var Mn=d&&"TextEvent"in window&&!Xn,Vs=d&&(!kt||Xn&&8<Xn&&11>=Xn),Vo=" ",Rg=!1;function Pg(r,s){switch(r){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Mo=!1;function rT(r,s){switch(r){case"compositionend":return xg(s);case"keypress":return s.which!==32?null:(Rg=!0,Vo);case"textInput":return r=s.data,r===Vo&&Rg?null:r;default:return null}}function iT(r,s){if(Mo)return r==="compositionend"||!kt&&Pg(r,s)?(r=ll(),En=Ro=Vn=null,Mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vs&&s.locale!=="ko"?null:s.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!sT[r.type]:s==="textarea"}function Ng(r,s,l,h){Ar(h),s=nc(s,"onChange"),0<s.length&&(l=new xo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var dl=null,fl=null;function oT(r){Yg(r,0)}function Ju(r){var s=$o(r);if(st(s))return r}function aT(r,s){if(r==="change")return s}var Og=!1;if(d){var Md;if(d){var Fd="oninput"in document;if(!Fd){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Fd=typeof Dg.oninput=="function"}Md=Fd}else Md=!1;Og=Md&&(!document.documentMode||9<document.documentMode)}function Lg(){dl&&(dl.detachEvent("onpropertychange",Vg),fl=dl=null)}function Vg(r){if(r.propertyName==="value"&&Ju(fl)){var s=[];Ng(s,fl,r,go(r)),Za(oT,s)}}function lT(r,s,l){r==="focusin"?(Lg(),dl=s,fl=l,dl.attachEvent("onpropertychange",Vg)):r==="focusout"&&Lg()}function uT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ju(fl)}function cT(r,s){if(r==="click")return Ju(s)}function hT(r,s){if(r==="input"||r==="change")return Ju(s)}function dT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vr=typeof Object.is=="function"?Object.is:dT;function pl(r,s){if(vr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!vr(r[p],s[p]))return!1}return!0}function Mg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Fg(r,s){var l=Mg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mg(l)}}function Bg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jg(){for(var r=window,s=mt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=mt(r.document)}return s}function Bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function fT(r){var s=jg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Bg(l.ownerDocument.documentElement,l)){if(h!==null&&Bd(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Fg(l,y);var T=Fg(l,h);p&&T&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var pT=d&&"documentMode"in document&&11>=document.documentMode,Fo=null,jd=null,ml=null,Ud=!1;function Ug(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ud||Fo==null||Fo!==mt(h)||(h=Fo,"selectionStart"in h&&Bd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ml&&pl(ml,h)||(ml=h,h=nc(jd,"onSelect"),0<h.length&&(s=new xo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Fo)))}function Zu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Bo={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},$d={},$g={};d&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function ec(r){if($d[r])return $d[r];if(!Bo[r])return r;var s=Bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in $g)return $d[r]=s[l];return r}var zg=ec("animationend"),Hg=ec("animationiteration"),Wg=ec("animationstart"),qg=ec("transitionend"),Kg=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(r,s){Kg.set(r,s),a(s,[r])}for(var zd=0;zd<Gg.length;zd++){var Hd=Gg[zd],mT=Hd.toLowerCase(),gT=Hd[0].toUpperCase()+Hd.slice(1);Mi(mT,"on"+gT)}Mi(zg,"onAnimationEnd"),Mi(Hg,"onAnimationIteration"),Mi(Wg,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(qg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Qg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,xu(h,s,void 0,r),r.currentTarget=null}function Yg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var O=h[T],M=O.instance,G=O.currentTarget;if(O=O.listener,M!==y&&p.isPropagationStopped())break e;Qg(p,O,G),y=M}else for(T=0;T<h.length;T++){if(O=h[T],M=O.instance,G=O.currentTarget,O=O.listener,M!==y&&p.isPropagationStopped())break e;Qg(p,O,G),y=M}}}if(cr)throw r=el,cr=!1,el=null,r}function ot(r,s){var l=s[Jd];l===void 0&&(l=s[Jd]=new Set);var h=r+"__bubble";l.has(h)||(Xg(s,r,2,!1),l.add(h))}function Wd(r,s,l){var h=0;s&&(h|=4),Xg(l,r,h,s)}var tc="_reactListening"+Math.random().toString(36).slice(2);function yl(r){if(!r[tc]){r[tc]=!0,i.forEach(function(l){l!=="selectionchange"&&(yT.has(l)||Wd(l,!1,r),Wd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[tc]||(s[tc]=!0,Wd("selectionchange",!1,s))}}function Xg(r,s,l,h){switch(al(s)){case 1:var p=lt;break;case 4:p=Ld;break;default:p=ol}l=p.bind(null,s,l,r),p=void 0,!_o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function qd(r,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var O=h.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;T=T.return}for(;O!==null;){if(T=Ms(O),T===null)return;if(M=T.tag,M===5||M===6){h=y=T;continue e}O=O.parentNode}}h=h.return}Za(function(){var G=y,re=go(l),ie=[];e:{var te=Kg.get(r);if(te!==void 0){var ue=xo,fe=r;switch(r){case"keypress":if(Po(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":fe="focus",ue=Do;break;case"focusout":fe="blur",ue=Do;break;case"beforeblur":case"afterblur":ue=Do;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=X;break;case zg:case Hg:case Wg:ue=ii;break;case qg:ue=Je;break;case"scroll":ue=Vd;break;case"wheel":ue=$e;break;case"copy":case"cut":case"paste":ue=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var pe=(s&4)!==0,Et=!pe&&r==="scroll",H=pe?te!==null?te+"Capture":null:te;pe=[];for(var F=G,q;F!==null;){q=F;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,H!==null&&(oe=wt(F,H),oe!=null&&pe.push(vl(F,oe,q)))),Et)break;F=F.return}0<pe.length&&(te=new ue(te,fe,null,l,re),ie.push({event:te,listeners:pe}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",te&&l!==Is&&(fe=l.relatedTarget||l.fromElement)&&(Ms(fe)||fe[si]))break e;if((ue||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=G,fe=fe?Ms(fe):null,fe!==null&&(Et=hr(fe),fe!==Et||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=G),ue!==fe)){if(pe=No,oe="onMouseLeave",H="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(pe=I,oe="onPointerLeave",H="onPointerEnter",F="pointer"),Et=ue==null?te:$o(ue),q=fe==null?te:$o(fe),te=new pe(oe,F+"leave",ue,l,re),te.target=Et,te.relatedTarget=q,oe=null,Ms(re)===G&&(pe=new pe(H,F+"enter",fe,l,re),pe.target=q,pe.relatedTarget=Et,oe=pe),Et=oe,ue&&fe)t:{for(pe=ue,H=fe,F=0,q=pe;q;q=jo(q))F++;for(q=0,oe=H;oe;oe=jo(oe))q++;for(;0<F-q;)pe=jo(pe),F--;for(;0<q-F;)H=jo(H),q--;for(;F--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=jo(pe),H=jo(H)}pe=null}else pe=null;ue!==null&&Jg(ie,te,ue,pe,!1),fe!==null&&Et!==null&&Jg(ie,Et,fe,pe,!0)}}e:{if(te=G?$o(G):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=aT;else if(bg(te))if(Og)ge=hT;else{ge=uT;var _e=lT}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=cT);if(ge&&(ge=ge(r,G))){Ng(ie,ge,l,re);break e}_e&&_e(r,te,G),r==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&tn(te,"number",te.value)}switch(_e=G?$o(G):window,r){case"focusin":(bg(_e)||_e.contentEditable==="true")&&(Fo=_e,jd=G,ml=null);break;case"focusout":ml=jd=Fo=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,Ug(ie,l,re);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":Ug(ie,l,re)}var we;if(kt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Mo?Pg(r,l)&&(Ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Vs&&l.locale!=="ko"&&(Mo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Mo&&(we=ll()):(Vn=re,Ro="value"in Vn?Vn.value:Vn.textContent,Mo=!0)),_e=nc(G,Ie),0<_e.length&&(Ie=new hl(Ie,r,null,l,re),ie.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=xg(l),we!==null&&(Ie.data=we)))),(we=Mn?rT(r,l):iT(r,l))&&(G=nc(G,"onBeforeInput"),0<G.length&&(re=new hl("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:G}),re.data=we))}Yg(ie,s)})}function vl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function nc(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=wt(r,l),y!=null&&h.unshift(vl(r,y,p)),y=wt(r,s),y!=null&&h.push(vl(r,y,p))),r=r.return}return h}function jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Jg(r,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var O=l,M=O.alternate,G=O.stateNode;if(M!==null&&M===h)break;O.tag===5&&G!==null&&(O=G,p?(M=wt(l,y),M!=null&&T.unshift(vl(l,M,O))):p||(M=wt(l,y),M!=null&&T.push(vl(l,M,O)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var vT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function Zg(r){return(typeof r=="string"?r:""+r).replace(vT,`
`).replace(_T,"")}function rc(r,s,l){if(s=Zg(s),Zg(r)!==s&&l)throw Error(t(425))}function ic(){}var Kd=null,Gd=null;function Qd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(r){return ey.resolve(null).then(r).catch(TT)}:Yd;function TT(r){setTimeout(function(){throw r})}function Xd(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),gr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);gr(s)}function Fi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ty(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Or="__reactFiber$"+Uo,_l="__reactProps$"+Uo,si="__reactContainer$"+Uo,Jd="__reactEvents$"+Uo,ST="__reactListeners$"+Uo,IT="__reactHandles$"+Uo;function Ms(r){var s=r[Or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[si]||l[Or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ty(r);r!==null;){if(l=r[Or])return l;r=ty(r)}return s}r=l,l=r.parentNode}return null}function wl(r){return r=r[Or]||r[si],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function $o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function sc(r){return r[_l]||null}var Zd=[],zo=-1;function Bi(r){return{current:r}}function at(r){0>zo||(r.current=Zd[zo],Zd[zo]=null,zo--)}function it(r,s){zo++,Zd[zo]=r.current,r.current=s}var ji={},nn=Bi(ji),Tn=Bi(!1),Fs=ji;function Ho(r,s){var l=r.type.contextTypes;if(!l)return ji;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Sn(r){return r=r.childContextTypes,r!=null}function oc(){at(Tn),at(nn)}function ny(r,s,l){if(nn.current!==ji)throw Error(t(168));it(nn,s),it(Tn,l)}function ry(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Fe(r)||"Unknown",p));return le({},l,h)}function ac(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ji,Fs=nn.current,it(nn,r),it(Tn,Tn.current),!0}function iy(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=ry(r,s,Fs),h.__reactInternalMemoizedMergedChildContext=r,at(Tn),at(nn),it(nn,r)):at(Tn),it(Tn,l)}var oi=null,lc=!1,ef=!1;function sy(r){oi===null?oi=[r]:oi.push(r)}function CT(r){lc=!0,sy(r)}function Ui(){if(!ef&&oi!==null){ef=!0;var r=0,s=Be;try{var l=oi;for(Be=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}oi=null,lc=!1}catch(p){throw oi!==null&&(oi=oi.slice(r+1)),So(Ps,Ui),p}finally{Be=s,ef=!1}}return null}var Wo=[],qo=0,uc=null,cc=0,Jn=[],Zn=0,Bs=null,ai=1,li="";function js(r,s){Wo[qo++]=cc,Wo[qo++]=uc,uc=r,cc=s}function oy(r,s,l){Jn[Zn++]=ai,Jn[Zn++]=li,Jn[Zn++]=Bs,Bs=r;var h=ai;r=li;var p=32-fn(h)-1;h&=~(1<<p),l+=1;var y=32-fn(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,ai=1<<32-fn(s)+p|l<<p|h,li=y+r}else ai=1<<y|l<<p|h,li=r}function tf(r){r.return!==null&&(js(r,1),oy(r,1,0))}function nf(r){for(;r===uc;)uc=Wo[--qo],Wo[qo]=null,cc=Wo[--qo],Wo[qo]=null;for(;r===Bs;)Bs=Jn[--Zn],Jn[Zn]=null,li=Jn[--Zn],Jn[Zn]=null,ai=Jn[--Zn],Jn[Zn]=null}var Fn=null,Bn=null,ut=!1,_r=null;function ay(r,s){var l=rr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ly(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Fn=r,Bn=Fi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Fn=r,Bn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Bs!==null?{id:ai,overflow:li}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=rr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Fn=r,Bn=null,!0):!1;default:return!1}}function rf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function sf(r){if(ut){var s=Bn;if(s){var l=s;if(!ly(r,s)){if(rf(r))throw Error(t(418));s=Fi(l.nextSibling);var h=Fn;s&&ly(r,s)?ay(h,l):(r.flags=r.flags&-4097|2,ut=!1,Fn=r)}}else{if(rf(r))throw Error(t(418));r.flags=r.flags&-4097|2,ut=!1,Fn=r}}}function uy(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fn=r}function hc(r){if(r!==Fn)return!1;if(!ut)return uy(r),ut=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Qd(r.type,r.memoizedProps)),s&&(s=Bn)){if(rf(r))throw cy(),Error(t(418));for(;s;)ay(r,s),s=Fi(s.nextSibling)}if(uy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Bn=Fi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Bn=null}}else Bn=Fn?Fi(r.stateNode.nextSibling):null;return!0}function cy(){for(var r=Bn;r;)r=Fi(r.nextSibling)}function Ko(){Bn=Fn=null,ut=!1}function of(r){_r===null?_r=[r]:_r.push(r)}var kT=z.ReactCurrentBatchConfig;function El(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var O=p.refs;T===null?delete O[y]:O[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function dc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function hy(r){var s=r._init;return s(r._payload)}function dy(r){function s(H,F){if(r){var q=H.deletions;q===null?(H.deletions=[F],H.flags|=16):q.push(F)}}function l(H,F){if(!r)return null;for(;F!==null;)s(H,F),F=F.sibling;return null}function h(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function p(H,F){return H=Qi(H,F),H.index=0,H.sibling=null,H}function y(H,F,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<F?(H.flags|=2,F):q):(H.flags|=2,F)):(H.flags|=1048576,F)}function T(H){return r&&H.alternate===null&&(H.flags|=2),H}function O(H,F,q,oe){return F===null||F.tag!==6?(F=Xf(q,H.mode,oe),F.return=H,F):(F=p(F,q),F.return=H,F)}function M(H,F,q,oe){var ge=q.type;return ge===P?re(H,F,q.props.children,oe,q.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&hy(ge)===F.type)?(oe=p(F,q.props),oe.ref=El(H,F,q),oe.return=H,oe):(oe=Vc(q.type,q.key,q.props,null,H.mode,oe),oe.ref=El(H,F,q),oe.return=H,oe)}function G(H,F,q,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=Jf(q,H.mode,oe),F.return=H,F):(F=p(F,q.children||[]),F.return=H,F)}function re(H,F,q,oe,ge){return F===null||F.tag!==7?(F=Gs(q,H.mode,oe,ge),F.return=H,F):(F=p(F,q),F.return=H,F)}function ie(H,F,q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Xf(""+F,H.mode,q),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return q=Vc(F.type,F.key,F.props,null,H.mode,q),q.ref=El(H,null,F),q.return=H,q;case Q:return F=Jf(F,H.mode,q),F.return=H,F;case be:var oe=F._init;return ie(H,oe(F._payload),q)}if(lr(F)||he(F))return F=Gs(F,H.mode,q,null),F.return=H,F;dc(H,F)}return null}function te(H,F,q,oe){var ge=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:O(H,F,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===ge?M(H,F,q,oe):null;case Q:return q.key===ge?G(H,F,q,oe):null;case be:return ge=q._init,te(H,F,ge(q._payload),oe)}if(lr(q)||he(q))return ge!==null?null:re(H,F,q,oe,null);dc(H,q)}return null}function ue(H,F,q,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(q)||null,O(F,H,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return H=H.get(oe.key===null?q:oe.key)||null,M(F,H,oe,ge);case Q:return H=H.get(oe.key===null?q:oe.key)||null,G(F,H,oe,ge);case be:var _e=oe._init;return ue(H,F,q,_e(oe._payload),ge)}if(lr(oe)||he(oe))return H=H.get(q)||null,re(F,H,oe,ge,null);dc(F,oe)}return null}function fe(H,F,q,oe){for(var ge=null,_e=null,we=F,Ie=F=0,Bt=null;we!==null&&Ie<q.length;Ie++){we.index>Ie?(Bt=we,we=null):Bt=we.sibling;var qe=te(H,we,q[Ie],oe);if(qe===null){we===null&&(we=Bt);break}r&&we&&qe.alternate===null&&s(H,we),F=y(qe,F,Ie),_e===null?ge=qe:_e.sibling=qe,_e=qe,we=Bt}if(Ie===q.length)return l(H,we),ut&&js(H,Ie),ge;if(we===null){for(;Ie<q.length;Ie++)we=ie(H,q[Ie],oe),we!==null&&(F=y(we,F,Ie),_e===null?ge=we:_e.sibling=we,_e=we);return ut&&js(H,Ie),ge}for(we=h(H,we);Ie<q.length;Ie++)Bt=ue(we,H,Ie,q[Ie],oe),Bt!==null&&(r&&Bt.alternate!==null&&we.delete(Bt.key===null?Ie:Bt.key),F=y(Bt,F,Ie),_e===null?ge=Bt:_e.sibling=Bt,_e=Bt);return r&&we.forEach(function(Yi){return s(H,Yi)}),ut&&js(H,Ie),ge}function pe(H,F,q,oe){var ge=he(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var _e=ge=null,we=F,Ie=F=0,Bt=null,qe=q.next();we!==null&&!qe.done;Ie++,qe=q.next()){we.index>Ie?(Bt=we,we=null):Bt=we.sibling;var Yi=te(H,we,qe.value,oe);if(Yi===null){we===null&&(we=Bt);break}r&&we&&Yi.alternate===null&&s(H,we),F=y(Yi,F,Ie),_e===null?ge=Yi:_e.sibling=Yi,_e=Yi,we=Bt}if(qe.done)return l(H,we),ut&&js(H,Ie),ge;if(we===null){for(;!qe.done;Ie++,qe=q.next())qe=ie(H,qe.value,oe),qe!==null&&(F=y(qe,F,Ie),_e===null?ge=qe:_e.sibling=qe,_e=qe);return ut&&js(H,Ie),ge}for(we=h(H,we);!qe.done;Ie++,qe=q.next())qe=ue(we,H,Ie,qe.value,oe),qe!==null&&(r&&qe.alternate!==null&&we.delete(qe.key===null?Ie:qe.key),F=y(qe,F,Ie),_e===null?ge=qe:_e.sibling=qe,_e=qe);return r&&we.forEach(function(sS){return s(H,sS)}),ut&&js(H,Ie),ge}function Et(H,F,q,oe){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var ge=q.key,_e=F;_e!==null;){if(_e.key===ge){if(ge=q.type,ge===P){if(_e.tag===7){l(H,_e.sibling),F=p(_e,q.props.children),F.return=H,H=F;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&hy(ge)===_e.type){l(H,_e.sibling),F=p(_e,q.props),F.ref=El(H,_e,q),F.return=H,H=F;break e}l(H,_e);break}else s(H,_e);_e=_e.sibling}q.type===P?(F=Gs(q.props.children,H.mode,oe,q.key),F.return=H,H=F):(oe=Vc(q.type,q.key,q.props,null,H.mode,oe),oe.ref=El(H,F,q),oe.return=H,H=oe)}return T(H);case Q:e:{for(_e=q.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){l(H,F.sibling),F=p(F,q.children||[]),F.return=H,H=F;break e}else{l(H,F);break}else s(H,F);F=F.sibling}F=Jf(q,H.mode,oe),F.return=H,H=F}return T(H);case be:return _e=q._init,Et(H,F,_e(q._payload),oe)}if(lr(q))return fe(H,F,q,oe);if(he(q))return pe(H,F,q,oe);dc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,F!==null&&F.tag===6?(l(H,F.sibling),F=p(F,q),F.return=H,H=F):(l(H,F),F=Xf(q,H.mode,oe),F.return=H,H=F),T(H)):l(H,F)}return Et}var Go=dy(!0),fy=dy(!1),fc=Bi(null),pc=null,Qo=null,af=null;function lf(){af=Qo=pc=null}function uf(r){var s=fc.current;at(fc),r._currentValue=s}function cf(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Yo(r,s){pc=r,af=Qo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(In=!0),r.firstContext=null)}function er(r){var s=r._currentValue;if(af!==r)if(r={context:r,memoizedValue:s,next:null},Qo===null){if(pc===null)throw Error(t(308));Qo=r,pc.dependencies={lanes:0,firstContext:r}}else Qo=Qo.next=r;return s}var Us=null;function hf(r){Us===null?Us=[r]:Us.push(r)}function py(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,hf(s)):(l.next=p.next,p.next=l),s.interleaved=l,ui(r,h)}function ui(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var $i=!1;function df(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ci(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function zi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,ui(r,l)}return p=h.interleaved,p===null?(s.next=s,hf(h)):(s.next=p.next,p.next=s),h.interleaved=s,ui(r,l)}function mc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ni(r,l)}}function gy(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function gc(r,s,l,h){var p=r.updateQueue;$i=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var M=O,G=M.next;M.next=null,T===null?y=G:T.next=G,T=M;var re=r.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==T&&(O===null?re.firstBaseUpdate=G:O.next=G,re.lastBaseUpdate=M))}if(y!==null){var ie=p.baseState;T=0,re=G=M=null,O=y;do{var te=O.lane,ue=O.eventTime;if((h&te)===te){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var fe=r,pe=O;switch(te=s,ue=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ie=fe.call(ue,ie,te);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ue,ie,te):fe,te==null)break e;ie=le({},ie,te);break e;case 2:$i=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,te=p.effects,te===null?p.effects=[O]:te.push(O))}else ue={eventTime:ue,lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(G=re=ue,M=ie):re=re.next=ue,T|=te;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;te=O,O=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(re===null&&(M=ie),p.baseState=M,p.firstBaseUpdate=G,p.lastBaseUpdate=re,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Hs|=T,r.lanes=T,r.memoizedState=ie}}function yy(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Tl={},Dr=Bi(Tl),Sl=Bi(Tl),Il=Bi(Tl);function $s(r){if(r===Tl)throw Error(t(174));return r}function ff(r,s){switch(it(Il,s),it(Sl,r),it(Dr,Tl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ct(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ct(s,r)}at(Dr),it(Dr,s)}function Xo(){at(Dr),at(Sl),at(Il)}function vy(r){$s(Il.current);var s=$s(Dr.current),l=Ct(s,r.type);s!==l&&(it(Sl,r),it(Dr,l))}function pf(r){Sl.current===r&&(at(Dr),at(Sl))}var dt=Bi(0);function yc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mf=[];function gf(){for(var r=0;r<mf.length;r++)mf[r]._workInProgressVersionPrimary=null;mf.length=0}var vc=z.ReactCurrentDispatcher,yf=z.ReactCurrentBatchConfig,zs=0,ft=null,bt=null,Mt=null,_c=!1,Cl=!1,kl=0,AT=0;function rn(){throw Error(t(321))}function vf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!vr(r[l],s[l]))return!1;return!0}function _f(r,s,l,h,p,y){if(zs=y,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vc.current=r===null||r.memoizedState===null?bT:NT,r=l(h,p),Cl){y=0;do{if(Cl=!1,kl=0,25<=y)throw Error(t(301));y+=1,Mt=bt=null,s.updateQueue=null,vc.current=OT,r=l(h,p)}while(Cl)}if(vc.current=Tc,s=bt!==null&&bt.next!==null,zs=0,Mt=bt=ft=null,_c=!1,s)throw Error(t(300));return r}function wf(){var r=kl!==0;return kl=0,r}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ft.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function tr(){if(bt===null){var r=ft.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var s=Mt===null?ft.memoizedState:Mt.next;if(s!==null)Mt=s,bt=r;else{if(r===null)throw Error(t(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Mt===null?ft.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function Al(r,s){return typeof s=="function"?s(r):s}function Ef(r){var s=tr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=bt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var O=T=null,M=null,G=y;do{var re=G.lane;if((zs&re)===re)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:r(h,G.action);else{var ie={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(O=M=ie,T=h):M=M.next=ie,ft.lanes|=re,Hs|=re}G=G.next}while(G!==null&&G!==y);M===null?T=h:M.next=O,vr(h,s.memoizedState)||(In=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=M,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,ft.lanes|=y,Hs|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Tf(r){var s=tr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);vr(y,s.memoizedState)||(In=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function _y(){}function wy(r,s){var l=ft,h=tr(),p=s(),y=!vr(h.memoizedState,p);if(y&&(h.memoizedState=p,In=!0),h=h.queue,Sf(Sy.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Rl(9,Ty.bind(null,l,h,p,s),void 0,null),Ft===null)throw Error(t(349));(zs&30)!==0||Ey(l,s,p)}return p}function Ey(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Ty(r,s,l,h){s.value=l,s.getSnapshot=h,Iy(s)&&Cy(r)}function Sy(r,s,l){return l(function(){Iy(s)&&Cy(r)})}function Iy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!vr(r,l)}catch{return!0}}function Cy(r){var s=ui(r,1);s!==null&&Sr(s,r,1,-1)}function ky(r){var s=Lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:r},s.queue=r,r=r.dispatch=xT.bind(null,ft,r),[s.memoizedState,r]}function Rl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Ay(){return tr().memoizedState}function wc(r,s,l,h){var p=Lr();ft.flags|=r,p.memoizedState=Rl(1|s,l,void 0,h===void 0?null:h)}function Ec(r,s,l,h){var p=tr();h=h===void 0?null:h;var y=void 0;if(bt!==null){var T=bt.memoizedState;if(y=T.destroy,h!==null&&vf(h,T.deps)){p.memoizedState=Rl(s,l,y,h);return}}ft.flags|=r,p.memoizedState=Rl(1|s,l,y,h)}function Ry(r,s){return wc(8390656,8,r,s)}function Sf(r,s){return Ec(2048,8,r,s)}function Py(r,s){return Ec(4,2,r,s)}function xy(r,s){return Ec(4,4,r,s)}function by(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ny(r,s,l){return l=l!=null?l.concat([r]):null,Ec(4,4,by.bind(null,s,r),l)}function If(){}function Oy(r,s){var l=tr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vf(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Dy(r,s){var l=tr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vf(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Ly(r,s,l){return(zs&21)===0?(r.baseState&&(r.baseState=!1,In=!0),r.memoizedState=l):(vr(l,s)||(l=Ns(),ft.lanes|=l,Hs|=l,r.baseState=!0),s)}function RT(r,s){var l=Be;Be=l!==0&&4>l?l:4,r(!0);var h=yf.transition;yf.transition={};try{r(!1),s()}finally{Be=l,yf.transition=h}}function Vy(){return tr().memoizedState}function PT(r,s,l){var h=Ki(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},My(r))Fy(s,l);else if(l=py(r,s,l,h),l!==null){var p=gn();Sr(l,r,h,p),By(l,s,h)}}function xT(r,s,l){var h=Ki(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(My(r))Fy(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,O=y(T,l);if(p.hasEagerState=!0,p.eagerState=O,vr(O,T)){var M=s.interleaved;M===null?(p.next=p,hf(s)):(p.next=M.next,M.next=p),s.interleaved=p;return}}catch{}finally{}l=py(r,s,p,h),l!==null&&(p=gn(),Sr(l,r,h,p),By(l,s,h))}}function My(r){var s=r.alternate;return r===ft||s!==null&&s===ft}function Fy(r,s){Cl=_c=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function By(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ni(r,l)}}var Tc={readContext:er,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},bT={readContext:er,useCallback:function(r,s){return Lr().memoizedState=[r,s===void 0?null:s],r},useContext:er,useEffect:Ry,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,wc(4194308,4,by.bind(null,s,r),l)},useLayoutEffect:function(r,s){return wc(4194308,4,r,s)},useInsertionEffect:function(r,s){return wc(4,2,r,s)},useMemo:function(r,s){var l=Lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Lr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=PT.bind(null,ft,r),[h.memoizedState,r]},useRef:function(r){var s=Lr();return r={current:r},s.memoizedState=r},useState:ky,useDebugValue:If,useDeferredValue:function(r){return Lr().memoizedState=r},useTransition:function(){var r=ky(!1),s=r[0];return r=RT.bind(null,r[1]),Lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ft,p=Lr();if(ut){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ft===null)throw Error(t(349));(zs&30)!==0||Ey(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Ry(Sy.bind(null,h,y,r),[r]),h.flags|=2048,Rl(9,Ty.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=Lr(),s=Ft.identifierPrefix;if(ut){var l=li,h=ai;l=(h&~(1<<32-fn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=kl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=AT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},NT={readContext:er,useCallback:Oy,useContext:er,useEffect:Sf,useImperativeHandle:Ny,useInsertionEffect:Py,useLayoutEffect:xy,useMemo:Dy,useReducer:Ef,useRef:Ay,useState:function(){return Ef(Al)},useDebugValue:If,useDeferredValue:function(r){var s=tr();return Ly(s,bt.memoizedState,r)},useTransition:function(){var r=Ef(Al)[0],s=tr().memoizedState;return[r,s]},useMutableSource:_y,useSyncExternalStore:wy,useId:Vy,unstable_isNewReconciler:!1},OT={readContext:er,useCallback:Oy,useContext:er,useEffect:Sf,useImperativeHandle:Ny,useInsertionEffect:Py,useLayoutEffect:xy,useMemo:Dy,useReducer:Tf,useRef:Ay,useState:function(){return Tf(Al)},useDebugValue:If,useDeferredValue:function(r){var s=tr();return bt===null?s.memoizedState=r:Ly(s,bt.memoizedState,r)},useTransition:function(){var r=Tf(Al)[0],s=tr().memoizedState;return[r,s]},useMutableSource:_y,useSyncExternalStore:wy,useId:Vy,unstable_isNewReconciler:!1};function wr(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Cf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Sc={isMounted:function(r){return(r=r._reactInternals)?hr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=gn(),p=Ki(r),y=ci(h,p);y.payload=s,l!=null&&(y.callback=l),s=zi(r,y,p),s!==null&&(Sr(s,r,p,h),mc(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=gn(),p=Ki(r),y=ci(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=zi(r,y,p),s!==null&&(Sr(s,r,p,h),mc(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=gn(),h=Ki(r),p=ci(l,h);p.tag=2,s!=null&&(p.callback=s),s=zi(r,p,h),s!==null&&(Sr(s,r,h,l),mc(s,r,h))}};function jy(r,s,l,h,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!pl(l,h)||!pl(p,y):!0}function Uy(r,s,l){var h=!1,p=ji,y=s.contextType;return typeof y=="object"&&y!==null?y=er(y):(p=Sn(s)?Fs:nn.current,h=s.contextTypes,y=(h=h!=null)?Ho(r,p):ji),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Sc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function $y(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Sc.enqueueReplaceState(s,s.state,null)}function kf(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},df(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=er(y):(y=Sn(s)?Fs:nn.current,p.context=Ho(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Cf(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Sc.enqueueReplaceState(p,p.state,null),gc(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Jo(r,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Af(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Rf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var DT=typeof WeakMap=="function"?WeakMap:Map;function zy(r,s,l){l=ci(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){xc||(xc=!0,zf=h),Rf(r,s)},l}function Hy(r,s,l){l=ci(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Rf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Rf(r,s),typeof h!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Wy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new DT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=GT.bind(null,r,s,l),s.then(r,r))}function qy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ky(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ci(-1,1),s.tag=2,zi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var LT=z.ReactCurrentOwner,In=!1;function mn(r,s,l,h){s.child=r===null?fy(s,null,l,h):Go(s,r.child,l,h)}function Gy(r,s,l,h,p){l=l.render;var y=s.ref;return Yo(s,p),h=_f(r,s,l,h,y,p),l=wf(),r!==null&&!In?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,hi(r,s,p)):(ut&&l&&tf(s),s.flags|=1,mn(r,s,h,p),s.child)}function Qy(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!Yf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Yy(r,s,y,h,p)):(r=Vc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:pl,l(T,h)&&r.ref===s.ref)return hi(r,s,p)}return s.flags|=1,r=Qi(y,h),r.ref=s.ref,r.return=s,s.child=r}function Yy(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(pl(y,h)&&r.ref===s.ref)if(In=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(In=!0);else return s.lanes=r.lanes,hi(r,s,p)}return Pf(r,s,l,h,p)}function Xy(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ea,jn),jn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,it(ea,jn),jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,it(ea,jn),jn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,it(ea,jn),jn|=h;return mn(r,s,p,l),s.child}function Jy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Pf(r,s,l,h,p){var y=Sn(l)?Fs:nn.current;return y=Ho(s,y),Yo(s,p),l=_f(r,s,l,h,y,p),h=wf(),r!==null&&!In?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,hi(r,s,p)):(ut&&h&&tf(s),s.flags|=1,mn(r,s,l,p),s.child)}function Zy(r,s,l,h,p){if(Sn(l)){var y=!0;ac(s)}else y=!1;if(Yo(s,p),s.stateNode===null)Cc(r,s),Uy(s,l,h),kf(s,l,h,p),h=!0;else if(r===null){var T=s.stateNode,O=s.memoizedProps;T.props=O;var M=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=er(G):(G=Sn(l)?Fs:nn.current,G=Ho(s,G));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==h||M!==G)&&$y(s,T,h,G),$i=!1;var te=s.memoizedState;T.state=te,gc(s,h,T,p),M=s.memoizedState,O!==h||te!==M||Tn.current||$i?(typeof re=="function"&&(Cf(s,l,re,h),M=s.memoizedState),(O=$i||jy(s,l,O,h,te,M,G))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=M),T.props=h,T.state=M,T.context=G,h=O):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,my(r,s),O=s.memoizedProps,G=s.type===s.elementType?O:wr(s.type,O),T.props=G,ie=s.pendingProps,te=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=er(M):(M=Sn(l)?Fs:nn.current,M=Ho(s,M));var ue=l.getDerivedStateFromProps;(re=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==ie||te!==M)&&$y(s,T,h,M),$i=!1,te=s.memoizedState,T.state=te,gc(s,h,T,p);var fe=s.memoizedState;O!==ie||te!==fe||Tn.current||$i?(typeof ue=="function"&&(Cf(s,l,ue,h),fe=s.memoizedState),(G=$i||jy(s,l,G,h,te,fe,M)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,M)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),T.props=h,T.state=fe,T.context=M,h=G):(typeof T.componentDidUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),h=!1)}return xf(r,s,l,h,y,p)}function xf(r,s,l,h,p,y){Jy(r,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&iy(s,l,!1),hi(r,s,y);h=s.stateNode,LT.current=s;var O=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&T?(s.child=Go(s,r.child,null,y),s.child=Go(s,null,O,y)):mn(r,s,O,y),s.memoizedState=h.state,p&&iy(s,l,!0),s.child}function ev(r){var s=r.stateNode;s.pendingContext?ny(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ny(r,s.context,!1),ff(r,s.containerInfo)}function tv(r,s,l,h,p){return Ko(),of(p),s.flags|=256,mn(r,s,l,h),s.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Nf(r){return{baseLanes:r,cachePool:null,transitions:null}}function nv(r,s,l){var h=s.pendingProps,p=dt.current,y=!1,T=(s.flags&128)!==0,O;if((O=T)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),it(dt,p&1),r===null)return sf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,r=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Mc(T,h,0,null),r=Gs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Nf(l),s.memoizedState=bf,r):Of(s,T));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return VT(r,s,T,h,O,p,l);if(y){y=h.fallback,T=s.mode,p=r.child,O=p.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=M,s.deletions=null):(h=Qi(p,M),h.subtreeFlags=p.subtreeFlags&14680064),O!==null?y=Qi(O,y):(y=Gs(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=r.child.memoizedState,T=T===null?Nf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=bf,h}return y=r.child,r=y.sibling,h=Qi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Of(r,s){return s=Mc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ic(r,s,l,h){return h!==null&&of(h),Go(s,r.child,null,l),r=Of(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function VT(r,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Af(Error(t(422))),Ic(r,s,T,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=Mc({mode:"visible",children:h.children},p,0,null),y=Gs(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Go(s,r.child,null,T),s.child.memoizedState=Nf(T),s.memoizedState=bf,y);if((s.mode&1)===0)return Ic(r,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var O=h.dgst;return h=O,y=Error(t(419)),h=Af(y,h,void 0),Ic(r,s,T,h)}if(O=(T&r.childLanes)!==0,In||O){if(h=Ft,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ui(r,p),Sr(h,r,p,-1))}return Qf(),h=Af(Error(t(421))),Ic(r,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=QT.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Bn=Fi(p.nextSibling),Fn=s,ut=!0,_r=null,r!==null&&(Jn[Zn++]=ai,Jn[Zn++]=li,Jn[Zn++]=Bs,ai=r.id,li=r.overflow,Bs=s),s=Of(s,h.children),s.flags|=4096,s)}function rv(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),cf(r.return,s,l)}function Df(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function iv(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(mn(r,s,h.children,l),h=dt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rv(r,l,s);else if(r.tag===19)rv(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(it(dt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&yc(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Df(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&yc(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Df(s,!0,l,null,y);break;case"together":Df(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Cc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function hi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Hs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Qi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Qi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function MT(r,s,l){switch(s.tag){case 3:ev(s),Ko();break;case 5:vy(s);break;case 1:Sn(s.type)&&ac(s);break;case 4:ff(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;it(fc,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(it(dt,dt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?nv(r,s,l):(it(dt,dt.current&1),r=hi(r,s,l),r!==null?r.sibling:null);it(dt,dt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return iv(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),it(dt,dt.current),h)break;return null;case 22:case 23:return s.lanes=0,Xy(r,s,l)}return hi(r,s,l)}var sv,Lf,ov,av;sv=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lf=function(){},ov=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,$s(Dr.current);var y=null;switch(l){case"input":p=vn(r,p),h=vn(r,h),y=[];break;case"select":p=le({},p,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":p=ws(r,p),h=ws(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ic)}Qa(l,h);var T;l=null;for(G in p)if(!h.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var O=p[G];for(T in O)O.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in h){var M=h[G];if(O=p!=null?p[G]:void 0,h.hasOwnProperty(G)&&M!==O&&(M!=null||O!=null))if(G==="style")if(O){for(T in O)!O.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&O[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(y||(y=[]),y.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,O=O?O.__html:void 0,M!=null&&O!==M&&(y=y||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&ot("scroll",r),y||O===M||(y=[])):(y=y||[]).push(G,M))}l&&(y=y||[]).push("style",l);var G=y;(s.updateQueue=G)&&(s.flags|=4)}},av=function(r,s,l,h){l!==h&&(s.flags|=4)};function Pl(r,s){if(!ut)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function sn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function FT(r,s,l){var h=s.pendingProps;switch(nf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return Sn(s.type)&&oc(),sn(s),null;case 3:return h=s.stateNode,Xo(),at(Tn),at(nn),gf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(hc(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_r!==null&&(qf(_r),_r=null))),Lf(r,s),sn(s),null;case 5:pf(s);var p=$s(Il.current);if(l=s.type,r!==null&&s.stateNode!=null)ov(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return sn(s),null}if(r=$s(Dr.current),hc(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[Or]=s,h[_l]=y,r=(s.mode&1)!==0,l){case"dialog":ot("cancel",h),ot("close",h);break;case"iframe":case"object":case"embed":ot("load",h);break;case"video":case"audio":for(p=0;p<gl.length;p++)ot(gl[p],h);break;case"source":ot("error",h);break;case"img":case"image":case"link":ot("error",h),ot("load",h);break;case"details":ot("toggle",h);break;case"input":Ht(h,y),ot("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},ot("invalid",h);break;case"textarea":Se(h,y),ot("invalid",h)}Qa(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var O=y[T];T==="children"?typeof O=="string"?h.textContent!==O&&(y.suppressHydrationWarning!==!0&&rc(h.textContent,O,r),p=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&rc(h.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&ot("scroll",h)}switch(l){case"input":Ue(h),qt(h,y,!0);break;case"textarea":Ue(h),Es(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ic)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[Or]=s,r[_l]=h,sv(r,s,!1,!1),s.stateNode=r;e:{switch(T=Ya(l,h),l){case"dialog":ot("cancel",r),ot("close",r),p=h;break;case"iframe":case"object":case"embed":ot("load",r),p=h;break;case"video":case"audio":for(p=0;p<gl.length;p++)ot(gl[p],r);p=h;break;case"source":ot("error",r),p=h;break;case"img":case"image":case"link":ot("error",r),ot("load",r),p=h;break;case"details":ot("toggle",r),p=h;break;case"input":Ht(r,h),p=vn(r,h),ot("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=le({},h,{value:void 0}),ot("invalid",r);break;case"textarea":Se(r,h),p=ws(r,h),ot("invalid",r);break;default:p=h}Qa(l,p),O=p;for(y in O)if(O.hasOwnProperty(y)){var M=O[y];y==="style"?Ka(r,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Wa(r,M)):y==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Ai(r,M):typeof M=="number"&&Ai(r,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&ot("scroll",r):M!=null&&W(r,y,M,T))}switch(l){case"input":Ue(r),qt(r,h,!1);break;case"textarea":Ue(r),Es(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Le(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Kn(r,!!h.multiple,y,!1):h.defaultValue!=null&&Kn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ic)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sn(s),null;case 6:if(r&&s.stateNode!=null)av(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=$s(Il.current),$s(Dr.current),hc(s)){if(h=s.stateNode,l=s.memoizedProps,h[Or]=s,(y=h.nodeValue!==l)&&(r=Fn,r!==null))switch(r.tag){case 3:rc(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&rc(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Or]=s,s.stateNode=h}return sn(s),null;case 13:if(at(dt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ut&&Bn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)cy(),Ko(),s.flags|=98560,y=!1;else if(y=hc(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Or]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;sn(s),y=!1}else _r!==null&&(qf(_r),_r=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(dt.current&1)!==0?Nt===0&&(Nt=3):Qf())),s.updateQueue!==null&&(s.flags|=4),sn(s),null);case 4:return Xo(),Lf(r,s),r===null&&yl(s.stateNode.containerInfo),sn(s),null;case 10:return uf(s.type._context),sn(s),null;case 17:return Sn(s.type)&&oc(),sn(s),null;case 19:if(at(dt),y=s.memoizedState,y===null)return sn(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)Pl(y,!1);else{if(Nt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(T=yc(r),T!==null){for(s.flags|=128,Pl(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return it(dt,dt.current&1|2),s.child}r=r.sibling}y.tail!==null&&rt()>ta&&(s.flags|=128,h=!0,Pl(y,!1),s.lanes=4194304)}else{if(!h)if(r=yc(T),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Pl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!ut)return sn(s),null}else 2*rt()-y.renderingStartTime>ta&&l!==1073741824&&(s.flags|=128,h=!0,Pl(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=rt(),s.sibling=null,l=dt.current,it(dt,h?l&1|2:l&1),s):(sn(s),null);case 22:case 23:return Gf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(jn&1073741824)!==0&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function BT(r,s){switch(nf(s),s.tag){case 1:return Sn(s.type)&&oc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Xo(),at(Tn),at(nn),gf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return pf(s),null;case 13:if(at(dt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ko()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(dt),null;case 4:return Xo(),null;case 10:return uf(s.type._context),null;case 22:case 23:return Gf(),null;case 24:return null;default:return null}}var kc=!1,on=!1,jT=typeof WeakSet=="function"?WeakSet:Set,de=null;function Zo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){yt(r,s,h)}else l.current=null}function Vf(r,s,l){try{l()}catch(h){yt(r,s,h)}}var lv=!1;function UT(r,s){if(Kd=Li,r=jg(),Bd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,O=-1,M=-1,G=0,re=0,ie=r,te=null;t:for(;;){for(var ue;ie!==l||p!==0&&ie.nodeType!==3||(O=T+p),ie!==y||h!==0&&ie.nodeType!==3||(M=T+h),ie.nodeType===3&&(T+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)te=ie,ie=ue;for(;;){if(ie===r)break t;if(te===l&&++G===p&&(O=T),te===y&&++re===h&&(M=T),(ue=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ue}l=O===-1||M===-1?null:{start:O,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gd={focusedElem:r,selectionRange:l},Li=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Et=fe.memoizedState,H=s.stateNode,F=H.getSnapshotBeforeUpdate(s.elementType===s.type?pe:wr(s.type,pe),Et);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){yt(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return fe=lv,lv=!1,fe}function xl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Vf(s,l,y)}p=p.next}while(p!==h)}}function Ac(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Mf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function uv(r){var s=r.alternate;s!==null&&(r.alternate=null,uv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Or],delete s[_l],delete s[Jd],delete s[ST],delete s[IT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function cv(r){return r.tag===5||r.tag===3||r.tag===4}function hv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||cv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ff(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ic));else if(h!==4&&(r=r.child,r!==null))for(Ff(r,s,l),r=r.sibling;r!==null;)Ff(r,s,l),r=r.sibling}function Bf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Bf(r,s,l),r=r.sibling;r!==null;)Bf(r,s,l),r=r.sibling}var Qt=null,Er=!1;function Hi(r,s,l){for(l=l.child;l!==null;)dv(r,s,l),l=l.sibling}function dv(r,s,l){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(xs,l)}catch{}switch(l.tag){case 5:on||Zo(l,s);case 6:var h=Qt,p=Er;Qt=null,Hi(r,s,l),Qt=h,Er=p,Qt!==null&&(Er?(r=Qt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Qt.removeChild(l.stateNode));break;case 18:Qt!==null&&(Er?(r=Qt,l=l.stateNode,r.nodeType===8?Xd(r.parentNode,l):r.nodeType===1&&Xd(r,l),gr(r)):Xd(Qt,l.stateNode));break;case 4:h=Qt,p=Er,Qt=l.stateNode.containerInfo,Er=!0,Hi(r,s,l),Qt=h,Er=p;break;case 0:case 11:case 14:case 15:if(!on&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Vf(l,s,T),p=p.next}while(p!==h)}Hi(r,s,l);break;case 1:if(!on&&(Zo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(O){yt(l,s,O)}Hi(r,s,l);break;case 21:Hi(r,s,l);break;case 22:l.mode&1?(on=(h=on)||l.memoizedState!==null,Hi(r,s,l),on=h):Hi(r,s,l);break;default:Hi(r,s,l)}}function fv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new jT),s.forEach(function(h){var p=YT.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Tr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,T=s,O=T;e:for(;O!==null;){switch(O.tag){case 5:Qt=O.stateNode,Er=!1;break e;case 3:Qt=O.stateNode.containerInfo,Er=!0;break e;case 4:Qt=O.stateNode.containerInfo,Er=!0;break e}O=O.return}if(Qt===null)throw Error(t(160));dv(y,T,p),Qt=null,Er=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(G){yt(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)pv(s,r),s=s.sibling}function pv(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Tr(s,r),Vr(r),h&4){try{xl(3,r,r.return),Ac(3,r)}catch(pe){yt(r,r.return,pe)}try{xl(5,r,r.return)}catch(pe){yt(r,r.return,pe)}}break;case 1:Tr(s,r),Vr(r),h&512&&l!==null&&Zo(l,l.return);break;case 5:if(Tr(s,r),Vr(r),h&512&&l!==null&&Zo(l,l.return),r.flags&32){var p=r.stateNode;try{Ai(p,"")}catch(pe){yt(r,r.return,pe)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,O=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&_n(p,y),Ya(O,T);var G=Ya(O,y);for(T=0;T<M.length;T+=2){var re=M[T],ie=M[T+1];re==="style"?Ka(p,ie):re==="dangerouslySetInnerHTML"?Wa(p,ie):re==="children"?Ai(p,ie):W(p,re,ie,G)}switch(O){case"input":Wt(p,y);break;case"textarea":Xr(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Kn(p,!!y.multiple,ue,!1):te!==!!y.multiple&&(y.defaultValue!=null?Kn(p,!!y.multiple,y.defaultValue,!0):Kn(p,!!y.multiple,y.multiple?[]:"",!1))}p[_l]=y}catch(pe){yt(r,r.return,pe)}}break;case 6:if(Tr(s,r),Vr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(pe){yt(r,r.return,pe)}}break;case 3:if(Tr(s,r),Vr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{gr(s.containerInfo)}catch(pe){yt(r,r.return,pe)}break;case 4:Tr(s,r),Vr(r);break;case 13:Tr(s,r),Vr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||($f=rt())),h&4&&fv(r);break;case 22:if(re=l!==null&&l.memoizedState!==null,r.mode&1?(on=(G=on)||re,Tr(s,r),on=G):Tr(s,r),Vr(r),h&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!re&&(r.mode&1)!==0)for(de=r,re=r.child;re!==null;){for(ie=de=re;de!==null;){switch(te=de,ue=te.child,te.tag){case 0:case 11:case 14:case 15:xl(4,te,te.return);break;case 1:Zo(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){h=te,l=te.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(pe){yt(h,l,pe)}}break;case 5:Zo(te,te.return);break;case 22:if(te.memoizedState!==null){yv(ie);continue}}ue!==null?(ue.return=te,de=ue):yv(ie)}re=re.sibling}e:for(re=null,ie=r;;){if(ie.tag===5){if(re===null){re=ie;try{p=ie.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=ie.stateNode,M=ie.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,O.style.display=qa("display",T))}catch(pe){yt(r,r.return,pe)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(pe){yt(r,r.return,pe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Tr(s,r),Vr(r),h&4&&fv(r);break;case 21:break;default:Tr(s,r),Vr(r)}}function Vr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(cv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Ai(p,""),h.flags&=-33);var y=hv(r);Bf(r,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,O=hv(r);Ff(r,O,T);break;default:throw Error(t(161))}}catch(M){yt(r,r.return,M)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $T(r,s,l){de=r,mv(r)}function mv(r,s,l){for(var h=(r.mode&1)!==0;de!==null;){var p=de,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||kc;if(!T){var O=p.alternate,M=O!==null&&O.memoizedState!==null||on;O=kc;var G=on;if(kc=T,(on=M)&&!G)for(de=p;de!==null;)T=de,M=T.child,T.tag===22&&T.memoizedState!==null?vv(p):M!==null?(M.return=T,de=M):vv(p);for(;y!==null;)de=y,mv(y),y=y.sibling;de=p,kc=O,on=G}gv(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,de=y):gv(r)}}function gv(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:on||Ac(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!on)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:wr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&yy(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}yy(s,T,l)}break;case 5:var O=s.stateNode;if(l===null&&s.flags&4){l=O;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&gr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||s.flags&512&&Mf(s)}catch(te){yt(s,s.return,te)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function yv(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function vv(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ac(4,s)}catch(M){yt(s,l,M)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(M){yt(s,p,M)}}var y=s.return;try{Mf(s)}catch(M){yt(s,y,M)}break;case 5:var T=s.return;try{Mf(s)}catch(M){yt(s,T,M)}}}catch(M){yt(s,s.return,M)}if(s===r){de=null;break}var O=s.sibling;if(O!==null){O.return=s.return,de=O;break}de=s.return}}var zT=Math.ceil,Rc=z.ReactCurrentDispatcher,jf=z.ReactCurrentOwner,nr=z.ReactCurrentBatchConfig,We=0,Ft=null,At=null,Yt=0,jn=0,ea=Bi(0),Nt=0,bl=null,Hs=0,Pc=0,Uf=0,Nl=null,Cn=null,$f=0,ta=1/0,di=null,xc=!1,zf=null,Wi=null,bc=!1,qi=null,Nc=0,Ol=0,Hf=null,Oc=-1,Dc=0;function gn(){return(We&6)!==0?rt():Oc!==-1?Oc:Oc=rt()}function Ki(r){return(r.mode&1)===0?1:(We&2)!==0&&Yt!==0?Yt&-Yt:kT.transition!==null?(Dc===0&&(Dc=Ns()),Dc):(r=Be,r!==0||(r=window.event,r=r===void 0?16:al(r.type)),r)}function Sr(r,s,l,h){if(50<Ol)throw Ol=0,Hf=null,Error(t(185));bi(r,l,h),((We&2)===0||r!==Ft)&&(r===Ft&&((We&2)===0&&(Pc|=l),Nt===4&&Gi(r,Yt)),kn(r,h),l===1&&We===0&&(s.mode&1)===0&&(ta=rt()+500,lc&&Ui()))}function kn(r,s){var l=r.callbackNode;ei(r,s);var h=bs(r,r===Ft?Yt:0);if(h===0)l!==null&&nl(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&nl(l),s===1)r.tag===0?CT(wv.bind(null,r)):sy(wv.bind(null,r)),ET(function(){(We&6)===0&&Ui()}),l=null;else{switch(Oi(h)){case 1:l=Ps;break;case 4:l=Ri;break;case 16:l=Qn;break;case 536870912:l=Du;break;default:l=Qn}l=Rv(l,_v.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function _v(r,s){if(Oc=-1,Dc=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(na()&&r.callbackNode!==l)return null;var h=bs(r,r===Ft?Yt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Lc(r,h);else{s=h;var p=We;We|=2;var y=Tv();(Ft!==r||Yt!==s)&&(di=null,ta=rt()+500,qs(r,s));do try{qT();break}catch(O){Ev(r,O)}while(!0);lf(),Rc.current=y,We=p,At!==null?s=0:(Ft=null,Yt=0,s=Nt)}if(s!==0){if(s===2&&(p=Ln(r),p!==0&&(h=p,s=Wf(r,p))),s===1)throw l=bl,qs(r,0),Gi(r,h),kn(r,rt()),l;if(s===6)Gi(r,h);else{if(p=r.current.alternate,(h&30)===0&&!HT(p)&&(s=Lc(r,h),s===2&&(y=Ln(r),y!==0&&(h=y,s=Wf(r,y))),s===1))throw l=bl,qs(r,0),Gi(r,h),kn(r,rt()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ks(r,Cn,di);break;case 3:if(Gi(r,h),(h&130023424)===h&&(s=$f+500-rt(),10<s)){if(bs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){gn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Yd(Ks.bind(null,r,Cn,di),s);break}Ks(r,Cn,di);break;case 4:if(Gi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var T=31-fn(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*zT(h/1960))-h,10<h){r.timeoutHandle=Yd(Ks.bind(null,r,Cn,di),h);break}Ks(r,Cn,di);break;case 5:Ks(r,Cn,di);break;default:throw Error(t(329))}}}return kn(r,rt()),r.callbackNode===l?_v.bind(null,r):null}function Wf(r,s){var l=Nl;return r.current.memoizedState.isDehydrated&&(qs(r,s).flags|=256),r=Lc(r,s),r!==2&&(s=Cn,Cn=l,s!==null&&qf(s)),r}function qf(r){Cn===null?Cn=r:Cn.push.apply(Cn,r)}function HT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!vr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gi(r,s){for(s&=~Uf,s&=~Pc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-fn(s),h=1<<l;r[l]=-1,s&=~h}}function wv(r){if((We&6)!==0)throw Error(t(327));na();var s=bs(r,0);if((s&1)===0)return kn(r,rt()),null;var l=Lc(r,s);if(r.tag!==0&&l===2){var h=Ln(r);h!==0&&(s=h,l=Wf(r,h))}if(l===1)throw l=bl,qs(r,0),Gi(r,s),kn(r,rt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ks(r,Cn,di),kn(r,rt()),null}function Kf(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(ta=rt()+500,lc&&Ui())}}function Ws(r){qi!==null&&qi.tag===0&&(We&6)===0&&na();var s=We;We|=1;var l=nr.transition,h=Be;try{if(nr.transition=null,Be=1,r)return r()}finally{Be=h,nr.transition=l,We=s,(We&6)===0&&Ui()}}function Gf(){jn=ea.current,at(ea)}function qs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,wT(l)),At!==null)for(l=At.return;l!==null;){var h=l;switch(nf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&oc();break;case 3:Xo(),at(Tn),at(nn),gf();break;case 5:pf(h);break;case 4:Xo();break;case 13:at(dt);break;case 19:at(dt);break;case 10:uf(h.type._context);break;case 22:case 23:Gf()}l=l.return}if(Ft=r,At=r=Qi(r.current,null),Yt=jn=s,Nt=0,bl=null,Uf=Pc=Hs=0,Cn=Nl=null,Us!==null){for(s=0;s<Us.length;s++)if(l=Us[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}Us=null}return r}function Ev(r,s){do{var l=At;try{if(lf(),vc.current=Tc,_c){for(var h=ft.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}_c=!1}if(zs=0,Mt=bt=ft=null,Cl=!1,kl=0,jf.current=null,l===null||l.return===null){Nt=1,bl=s,At=null;break}e:{var y=r,T=l.return,O=l,M=s;if(s=Yt,O.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=qy(T);if(ue!==null){ue.flags&=-257,Ky(ue,T,O,y,s),ue.mode&1&&Wy(y,G,s),s=ue,M=G;var fe=s.updateQueue;if(fe===null){var pe=new Set;pe.add(M),s.updateQueue=pe}else fe.add(M);break e}else{if((s&1)===0){Wy(y,G,s),Qf();break e}M=Error(t(426))}}else if(ut&&O.mode&1){var Et=qy(T);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Ky(Et,T,O,y,s),of(Jo(M,O));break e}}y=M=Jo(M,O),Nt!==4&&(Nt=2),Nl===null?Nl=[y]:Nl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var H=zy(y,M,s);gy(y,H);break e;case 1:O=M;var F=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Wi===null||!Wi.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var oe=Hy(y,O,s);gy(y,oe);break e}}y=y.return}while(y!==null)}Iv(l)}catch(ge){s=ge,At===l&&l!==null&&(At=l=l.return);continue}break}while(!0)}function Tv(){var r=Rc.current;return Rc.current=Tc,r===null?Tc:r}function Qf(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ft===null||(Hs&268435455)===0&&(Pc&268435455)===0||Gi(Ft,Yt)}function Lc(r,s){var l=We;We|=2;var h=Tv();(Ft!==r||Yt!==s)&&(di=null,qs(r,s));do try{WT();break}catch(p){Ev(r,p)}while(!0);if(lf(),We=l,Rc.current=h,At!==null)throw Error(t(261));return Ft=null,Yt=0,Nt}function WT(){for(;At!==null;)Sv(At)}function qT(){for(;At!==null&&!Nu();)Sv(At)}function Sv(r){var s=Av(r.alternate,r,jn);r.memoizedProps=r.pendingProps,s===null?Iv(r):At=s,jf.current=null}function Iv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=FT(l,s,jn),l!==null){At=l;return}}else{if(l=BT(l,s),l!==null){l.flags&=32767,At=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,At=null;return}}if(s=s.sibling,s!==null){At=s;return}At=s=r}while(s!==null);Nt===0&&(Nt=5)}function Ks(r,s,l){var h=Be,p=nr.transition;try{nr.transition=null,Be=1,KT(r,s,l,h)}finally{nr.transition=p,Be=h}return null}function KT(r,s,l,h){do na();while(qi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ze(r,y),r===Ft&&(At=Ft=null,Yt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||bc||(bc=!0,Rv(Qn,function(){return na(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=nr.transition,nr.transition=null;var T=Be;Be=1;var O=We;We|=4,jf.current=null,UT(r,l),pv(l,r),fT(Gd),Li=!!Kd,Gd=Kd=null,r.current=l,$T(l),bd(),We=O,Be=T,nr.transition=y}else r.current=l;if(bc&&(bc=!1,qi=r,Nc=p),y=r.pendingLanes,y===0&&(Wi=null),Lu(l.stateNode),kn(r,rt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(xc)throw xc=!1,r=zf,zf=null,r;return(Nc&1)!==0&&r.tag!==0&&na(),y=r.pendingLanes,(y&1)!==0?r===Hf?Ol++:(Ol=0,Hf=r):Ol=0,Ui(),null}function na(){if(qi!==null){var r=Oi(Nc),s=nr.transition,l=Be;try{if(nr.transition=null,Be=16>r?16:r,qi===null)var h=!1;else{if(r=qi,qi=null,Nc=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,de=r.current;de!==null;){var y=de,T=y.child;if((de.flags&16)!==0){var O=y.deletions;if(O!==null){for(var M=0;M<O.length;M++){var G=O[M];for(de=G;de!==null;){var re=de;switch(re.tag){case 0:case 11:case 15:xl(8,re,y)}var ie=re.child;if(ie!==null)ie.return=re,de=ie;else for(;de!==null;){re=de;var te=re.sibling,ue=re.return;if(uv(re),re===G){de=null;break}if(te!==null){te.return=ue,de=te;break}de=ue}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Et=pe.sibling;pe.sibling=null,pe=Et}while(pe!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,de=T;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:xl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,de=H;break e}de=y.return}}var F=r.current;for(de=F;de!==null;){T=de;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,de=q;else e:for(T=F;de!==null;){if(O=de,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Ac(9,O)}}catch(ge){yt(O,O.return,ge)}if(O===T){de=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,de=oe;break e}de=O.return}}if(We=p,Ui(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(xs,r)}catch{}h=!0}return h}finally{Be=l,nr.transition=s}}return!1}function Cv(r,s,l){s=Jo(l,s),s=zy(r,s,1),r=zi(r,s,1),s=gn(),r!==null&&(bi(r,1,s),kn(r,s))}function yt(r,s,l){if(r.tag===3)Cv(r,r,l);else for(;s!==null;){if(s.tag===3){Cv(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wi===null||!Wi.has(h))){r=Jo(l,r),r=Hy(s,r,1),s=zi(s,r,1),r=gn(),s!==null&&(bi(s,1,r),kn(s,r));break}}s=s.return}}function GT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=gn(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&(Yt&l)===l&&(Nt===4||Nt===3&&(Yt&130023424)===Yt&&500>rt()-$f?qs(r,0):Uf|=l),kn(r,s)}function kv(r,s){s===0&&((r.mode&1)===0?s=1:(s=Co,Co<<=1,(Co&130023424)===0&&(Co=4194304)));var l=gn();r=ui(r,s),r!==null&&(bi(r,s,l),kn(r,l))}function QT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),kv(r,l)}function YT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),kv(r,l)}var Av;Av=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Tn.current)In=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return In=!1,MT(r,s,l);In=(r.flags&131072)!==0}else In=!1,ut&&(s.flags&1048576)!==0&&oy(s,cc,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Cc(r,s),r=s.pendingProps;var p=Ho(s,nn.current);Yo(s,l),p=_f(null,s,h,r,p,l);var y=wf();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Sn(h)?(y=!0,ac(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,df(s),p.updater=Sc,s.stateNode=p,p._reactInternals=s,kf(s,h,r,l),s=xf(null,s,h,!0,y,l)):(s.tag=0,ut&&y&&tf(s),mn(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Cc(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=JT(h),r=wr(h,r),p){case 0:s=Pf(null,s,h,r,l);break e;case 1:s=Zy(null,s,h,r,l);break e;case 11:s=Gy(null,s,h,r,l);break e;case 14:s=Qy(null,s,h,wr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:wr(h,p),Pf(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:wr(h,p),Zy(r,s,h,p,l);case 3:e:{if(ev(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,my(r,s),gc(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Jo(Error(t(423)),s),s=tv(r,s,h,l,p);break e}else if(h!==p){p=Jo(Error(t(424)),s),s=tv(r,s,h,l,p);break e}else for(Bn=Fi(s.stateNode.containerInfo.firstChild),Fn=s,ut=!0,_r=null,l=fy(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ko(),h===p){s=hi(r,s,l);break e}mn(r,s,h,l)}s=s.child}return s;case 5:return vy(s),r===null&&sf(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,T=p.children,Qd(h,p)?T=null:y!==null&&Qd(h,y)&&(s.flags|=32),Jy(r,s),mn(r,s,T,l),s.child;case 6:return r===null&&sf(s),null;case 13:return nv(r,s,l);case 4:return ff(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Go(s,null,h,l):mn(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:wr(h,p),Gy(r,s,h,p,l);case 7:return mn(r,s,s.pendingProps,l),s.child;case 8:return mn(r,s,s.pendingProps.children,l),s.child;case 12:return mn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,it(fc,h._currentValue),h._currentValue=T,y!==null)if(vr(y.value,T)){if(y.children===p.children&&!Tn.current){s=hi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var O=y.dependencies;if(O!==null){T=y.child;for(var M=O.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=ci(-1,l&-l),M.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?M.next=M:(M.next=re.next,re.next=M),G.pending=M}}y.lanes|=l,M=y.alternate,M!==null&&(M.lanes|=l),cf(y.return,l,s),O.lanes|=l;break}M=M.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,O=T.alternate,O!==null&&(O.lanes|=l),cf(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}mn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Yo(s,l),p=er(p),h=h(p),s.flags|=1,mn(r,s,h,l),s.child;case 14:return h=s.type,p=wr(h,s.pendingProps),p=wr(h.type,p),Qy(r,s,h,p,l);case 15:return Yy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:wr(h,p),Cc(r,s),s.tag=1,Sn(h)?(r=!0,ac(s)):r=!1,Yo(s,l),Uy(s,h,p),kf(s,h,p,l),xf(null,s,h,!0,r,l);case 19:return iv(r,s,l);case 22:return Xy(r,s,l)}throw Error(t(156,s.tag))};function Rv(r,s){return So(r,s)}function XT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,s,l,h){return new XT(r,s,l,h)}function Yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function JT(r){if(typeof r=="function")return Yf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Pe)return 14}return 2}function Qi(r,s){var l=r.alternate;return l===null?(l=rr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Vc(r,s,l,h,p,y){var T=2;if(h=r,typeof r=="function")Yf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case P:return Gs(l.children,p,y,s);case C:T=8,p|=8;break;case R:return r=rr(12,l,s,p|2),r.elementType=R,r.lanes=y,r;case A:return r=rr(13,l,s,p),r.elementType=A,r.lanes=y,r;case ve:return r=rr(19,l,s,p),r.elementType=ve,r.lanes=y,r;case Ne:return Mc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:T=10;break e;case x:T=9;break e;case V:T=11;break e;case Pe:T=14;break e;case be:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=rr(T,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function Gs(r,s,l,h){return r=rr(7,r,h,s),r.lanes=l,r}function Mc(r,s,l,h){return r=rr(22,r,h,s),r.elementType=Ne,r.lanes=l,r.stateNode={isHidden:!1},r}function Xf(r,s,l){return r=rr(6,r,null,s),r.lanes=l,r}function Jf(r,s,l){return s=rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ZT(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Zf(r,s,l,h,p,y,T,O,M){return r=new ZT(r,s,l,O,M),s===1?(s=1,y===!0&&(s|=8)):s=0,y=rr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(y),r}function eS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Pv(r){if(!r)return ji;r=r._reactInternals;e:{if(hr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Sn(l))return ry(r,l,s)}return s}function xv(r,s,l,h,p,y,T,O,M){return r=Zf(l,h,!0,r,p,y,T,O,M),r.context=Pv(null),l=r.current,h=gn(),p=Ki(l),y=ci(h,p),y.callback=s??null,zi(l,y,p),r.current.lanes=p,bi(r,p,h),kn(r,h),r}function Fc(r,s,l,h){var p=s.current,y=gn(),T=Ki(p);return l=Pv(l),s.context===null?s.context=l:s.pendingContext=l,s=ci(y,T),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=zi(p,s,T),r!==null&&(Sr(r,p,T,y),mc(r,p,T)),T}function Bc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function bv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ep(r,s){bv(r,s),(r=r.alternate)&&bv(r,s)}function tS(){return null}var Nv=typeof reportError=="function"?reportError:function(r){console.error(r)};function tp(r){this._internalRoot=r}jc.prototype.render=tp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Fc(r,s,null,null)},jc.prototype.unmount=tp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ws(function(){Fc(null,r,null,null)}),s[si]=null}};function jc(r){this._internalRoot=r}jc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ju();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Pr.length&&s!==0&&s<Pr[l].priority;l++);Pr.splice(l,0,r),l===0&&zu(r)}};function np(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Uc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function nS(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var G=Bc(T);y.call(G)}}var T=xv(s,h,r,0,null,!1,!1,"",Ov);return r._reactRootContainer=T,r[si]=T.current,yl(r.nodeType===8?r.parentNode:r),Ws(),T}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var O=h;h=function(){var G=Bc(M);O.call(G)}}var M=Zf(r,0,!1,null,null,!1,!1,"",Ov);return r._reactRootContainer=M,r[si]=M.current,yl(r.nodeType===8?r.parentNode:r),Ws(function(){Fc(s,M,l,h)}),M}function $c(r,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var O=p;p=function(){var M=Bc(T);O.call(M)}}Fc(s,T,r,p)}else T=nS(l,s,r,p,h);return Bc(T)}Fu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Pi(s.pendingLanes);l!==0&&(Ni(s,l|1),kn(s,rt()),(We&6)===0&&(ta=rt()+500,Ui()))}break;case 13:Ws(function(){var h=ui(r,1);if(h!==null){var p=gn();Sr(h,r,1,p)}}),ep(r,1)}},ko=function(r){if(r.tag===13){var s=ui(r,134217728);if(s!==null){var l=gn();Sr(s,r,134217728,l)}ep(r,134217728)}},Bu=function(r){if(r.tag===13){var s=Ki(r),l=ui(r,s);if(l!==null){var h=gn();Sr(l,r,s,h)}ep(r,s)}},ju=function(){return Be},Uu=function(r,s){var l=Be;try{return Be=r,s()}finally{Be=l}},yo=function(r,s,l){switch(s){case"input":if(Wt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=sc(h);if(!p)throw Error(t(90));st(h),Wt(h,p)}}}break;case"textarea":Xr(r,l);break;case"select":s=l.value,s!=null&&Kn(r,!!l.multiple,s,!1)}},Cs=Kf,Ja=Ws;var rS={usingClientEntryPoint:!1,Events:[wl,$o,sc,Ar,Xa,Kf]},Dl={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=tl(r),r===null?null:r.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||tS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{xs=zc.inject(iS),Dn=zc}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS,An.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(s))throw Error(t(200));return eS(r,s,null,l)},An.createRoot=function(r,s){if(!np(r))throw Error(t(299));var l=!1,h="",p=Nv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Zf(r,1,!1,null,null,l,!1,h,p),r[si]=s.current,yl(r.nodeType===8?r.parentNode:r),new tp(s)},An.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=tl(s),r=r===null?null:r.stateNode,r},An.flushSync=function(r){return Ws(r)},An.hydrate=function(r,s,l){if(!Uc(s))throw Error(t(200));return $c(null,r,s,!0,l)},An.hydrateRoot=function(r,s,l){if(!np(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=Nv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=xv(s,null,r,1,l??null,p,!1,y,T),r[si]=s.current,yl(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new jc(s)},An.render=function(r,s,l){if(!Uc(s))throw Error(t(200));return $c(null,r,s,!1,l)},An.unmountComponentAtNode=function(r){if(!Uc(r))throw Error(t(40));return r._reactRootContainer?(Ws(function(){$c(null,null,r,!1,function(){r._reactRootContainer=null,r[si]=null})}),!0):!1},An.unstable_batchedUpdates=Kf,An.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Uc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $c(r,s,l,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var Uv;function q0(){if(Uv)return sp.exports;Uv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sp.exports=mS(),sp.exports}var $v;function gS(){if($v)return Hc;$v=1;var n=q0();return Hc.createRoot=n.createRoot,Hc.hydrateRoot=n.hydrateRoot,Hc}var yS=gS();const gm="https://www.googleapis.com/books/v1/volumes?q=",ym="AIzaSyBHcuw1Hubjlm_qvlPNKYVtnlTc27xec6A",vS=20,_S=async({searchQuery:n,startIndex:e})=>{try{return(await(await fetch(`${gm}${n}&key=${ym}&maxResults=${vS}&startIndex=${e}`)).json()).items.map(a=>{var u,d,f;return{id:a.id,title:a.volumeInfo.title||"No title available",author:((u=a.volumeInfo.authors)==null?void 0:u.join(", "))||"Unknown author",year:a.volumeInfo.publishedDate?parseInt(a.volumeInfo.publishedDate.split("-")[0]):0,img:((d=a.volumeInfo.imageLinks)==null?void 0:d.thumbnail)||"",description:a.volumeInfo.description,category:((f=a.volumeInfo.categories)==null?void 0:f.join(", "))||"No category"}})}catch{throw new Error("Error fetching books: ")}},wS=async({isbn:n})=>{var e,t,i;try{const u=(await(await fetch(`${gm}isbn:${n}&key=${ym}`)).json()).items[0];return{id:u.id,title:u.volumeInfo.title||"No title available",author:((e=u.volumeInfo.authors)==null?void 0:e.join(", "))||"Unknown author",year:u.volumeInfo.publishedDate?parseInt(u.volumeInfo.publishedDate.split("-")[0]):0,img:((t=u.volumeInfo.imageLinks)==null?void 0:t.thumbnail)||"",description:u.volumeInfo.description||"No description available",category:((i=u.volumeInfo.categories)==null?void 0:i.join(", "))||"No category",rating:0,isLiked:!1,isbn:n}}catch(o){throw console.error(o),new Error("Error fetching book")}},ES=async({currentAuthor:n})=>{var e;try{return((e=(await(await fetch(`${gm}inauthor:${encodeURIComponent(n)}&key=${ym}`)).json()).items)==null?void 0:e.map(a=>{var u,d,f;return{id:a.id,title:a.volumeInfo.title||"No title available",author:((u=a.volumeInfo.authors)==null?void 0:u.join(", "))||"Unknown author",year:a.volumeInfo.publishedDate?parseInt(a.volumeInfo.publishedDate.split("-")[0]):0,img:((d=a.volumeInfo.imageLinks)==null?void 0:d.thumbnail)||"",description:a.volumeInfo.description||"No description available",category:((f=a.volumeInfo.categories)==null?void 0:f.join(", "))||"No category"}}))||[]}catch(t){return console.error("Error fetching books by author:",t),[]}},Np={fetchBooks:_S,fetchAuthor:ES,fetchVolumeByISBN:wS};q0();/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nu.apply(this,arguments)}var is;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(is||(is={}));const zv="popstate";function TS(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Op("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:G0(o)}return IS(e,t,null,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function K0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substr(2,8)}function Hv(n,e){return{usr:n.state,key:n.key,idx:e}}function Op(n,e,t,i){return t===void 0&&(t=null),nu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:t,key:e&&e.key||i||SS()})}function G0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function IS(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d=is.Pop,f=null,m=v();m==null&&(m=0,u.replaceState(nu({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function E(){d=is.Pop;let L=v(),K=L==null?null:L-m;m=L,f&&f({action:d,location:N.location,delta:K})}function S(L,K){d=is.Push;let Y=Op(N.location,L,K);m=v()+1;let W=Hv(Y,m),z=N.createHref(Y);try{u.pushState(W,"",z)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(z)}a&&f&&f({action:d,location:N.location,delta:1})}function b(L,K){d=is.Replace;let Y=Op(N.location,L,K);m=v();let W=Hv(Y,m),z=N.createHref(Y);u.replaceState(W,"",z),a&&f&&f({action:d,location:N.location,delta:0})}function D(L){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof L=="string"?L:G0(L);return Y=Y.replace(/ $/,"%20"),Dt(K,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,K)}let N={get action(){return d},get location(){return n(o,u)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,E),f=L,()=>{o.removeEventListener(zv,E),f=null}},createHref(L){return e(o,L)},createURL:D,encodeLocation(L){let K=D(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:b,go(L){return u.go(L)}};return N}var Wv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Wv||(Wv={}));function CS(n,e,t){return t===void 0&&(t="/"),kS(n,e,t)}function kS(n,e,t,i){let o=typeof e=="string"?Da(e):e,a=X0(o.pathname||"/",t);if(a==null)return null;let u=Q0(n);AS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=BS(a);d=VS(u[f],m)}return d}function Q0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Dt(f.relativePath.startsWith(i),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(i.length));let m=eo([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Q0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:DS(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of Y0(a.path))o(a,u,f)}),e}function Y0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Y0(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function AS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const RS=/^:[\w-]+$/,PS=3,xS=2,bS=1,NS=10,OS=-2,qv=n=>n==="*";function DS(n,e){let t=n.split("/"),i=t.length;return t.some(qv)&&(i+=OS),e&&(i+=xS),t.filter(o=>!qv(o)).reduce((o,a)=>o+(RS.test(a)?PS:a===""?bS:NS),i)}function LS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function VS(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=MS({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),S=f.route;if(!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:eo([a,E.pathname]),pathnameBase:WS(eo([a,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(a=eo([a,E.pathnameBase]))}return u}function MS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=FS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,v,E)=>{let{paramName:S,isOptional:b}=v;if(S==="*"){let N=d[E]||"";u=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const D=d[E];return b&&!D?m[S]=void 0:m[S]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function FS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),K0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function BS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return K0(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function X0(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function jS(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Da(n):n;return{pathname:t?t.startsWith("/")?t:US(t,e):e,search:qS(i),hash:KS(o)}}function US(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function lp(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $S(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zS(n,e){let t=$S(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function HS(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Da(n):(o=nu({},n),Dt(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?e[E]:"/"}let f=jS(o,d),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}const eo=n=>n.join("/").replace(/\/\/+/g,"/"),WS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const J0=["post","put","patch","delete"];new Set(J0);const QS=["get",...J0];new Set(QS);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ru.apply(this,arguments)}const vm=U.createContext(null),YS=U.createContext(null),Wh=U.createContext(null),qh=U.createContext(null),La=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Z0=U.createContext(null);function Kh(){return U.useContext(qh)!=null}function ew(){return Kh()||Dt(!1),U.useContext(qh).location}function tw(n){U.useContext(Wh).static||U.useLayoutEffect(n)}function ao(){let{isDataRoute:n}=U.useContext(La);return n?uI():XS()}function XS(){Kh()||Dt(!1);let n=U.useContext(vm),{basename:e,future:t,navigator:i}=U.useContext(Wh),{matches:o}=U.useContext(La),{pathname:a}=ew(),u=JSON.stringify(zS(o,t.v7_relativeSplatPath)),d=U.useRef(!1);return tw(()=>{d.current=!0}),U.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){i.go(m);return}let E=HS(m,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:eo([e,E.pathname])),(v.replace?i.replace:i.push)(E,v.state,v)},[e,i,u,a,n])}function JS(n,e){return ZS(n,e)}function ZS(n,e,t,i){Kh()||Dt(!1);let{navigator:o}=U.useContext(Wh),{matches:a}=U.useContext(La),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=ew(),v;if(e){var E;let L=typeof e=="string"?Da(e):e;f==="/"||(E=L.pathname)!=null&&E.startsWith(f)||Dt(!1),v=L}else v=m;let S=v.pathname||"/",b=S;if(f!=="/"){let L=f.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=CS(n,{pathname:b}),N=iI(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:eo([f,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:eo([f,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,t,i);return e&&N?U.createElement(qh.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:is.Pop}},N):N}function eI(){let n=lI(),e=GS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,null)}const tI=U.createElement(eI,null);class nI extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(La.Provider,{value:this.props.routeContext},U.createElement(Z0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rI(n){let{routeContext:e,match:t,children:i}=n,o=U.useContext(vm);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(La.Provider,{value:e},i)}function iI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let v=u.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);v>=0||Dt(!1),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,m=-1;if(t&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let E=u[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=v),E.route.id){let{loaderData:S,errors:b}=t,D=E.route.loader&&S[E.route.id]===void 0&&(!b||b[E.route.id]===void 0);if(E.route.lazy||D){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,E,S)=>{let b,D=!1,N=null,L=null;t&&(b=d&&E.route.id?d[E.route.id]:void 0,N=E.route.errorElement||tI,f&&(m<0&&S===0?(cI("route-fallback"),D=!0,L=null):m===S&&(D=!0,L=E.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,S+1)),Y=()=>{let W;return b?W=N:D?W=L:E.route.Component?W=U.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=v,U.createElement(rI,{match:E,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:W})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?U.createElement(nI,{location:t.location,revalidation:t.revalidation,component:N,error:b,children:Y(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):Y()},null)}var nw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(nw||{}),rw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(rw||{});function sI(n){let e=U.useContext(vm);return e||Dt(!1),e}function oI(n){let e=U.useContext(YS);return e||Dt(!1),e}function aI(n){let e=U.useContext(La);return e||Dt(!1),e}function iw(n){let e=aI(),t=e.matches[e.matches.length-1];return t.route.id||Dt(!1),t.route.id}function lI(){var n;let e=U.useContext(Z0),t=oI(),i=iw();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function uI(){let{router:n}=sI(nw.UseNavigateStable),e=iw(rw.UseNavigateStable),t=U.useRef(!1);return tw(()=>{t.current=!0}),U.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ru({fromRouteId:e},a)))},[n,e])}const Kv={};function cI(n,e,t){Kv[n]||(Kv[n]=!0)}function Qs(n){Dt(!1)}function hI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=is.Pop,navigator:a,static:u=!1,future:d}=n;Kh()&&Dt(!1);let f=e.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:a,static:u,future:ru({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof i=="string"&&(i=Da(i));let{pathname:v="/",search:E="",hash:S="",state:b=null,key:D="default"}=i,N=U.useMemo(()=>{let L=X0(v,f);return L==null?null:{location:{pathname:L,search:E,hash:S,state:b,key:D},navigationType:o}},[f,v,E,S,b,D,o]);return N==null?null:U.createElement(Wh.Provider,{value:m},U.createElement(qh.Provider,{children:t,value:N}))}function dI(n){let{children:e,location:t}=n;return JS(Dp(e),t)}new Promise(()=>{});function Dp(n,e){e===void 0&&(e=[]);let t=[];return U.Children.forEach(n,(i,o)=>{if(!U.isValidElement(i))return;let a=[...e,o];if(i.type===U.Fragment){t.push.apply(t,Dp(i.props.children,a));return}i.type!==Qs&&Dt(!1),!i.props.index||!i.props.children||Dt(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Dp(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fI="6";try{window.__reactRouterVersion=fI}catch{}const pI="startTransition",Gv=gh[pI];function mI(n){let{basename:e,children:t,future:i,window:o}=n,a=U.useRef();a.current==null&&(a.current=TS({window:o,v5Compat:!0}));let u=a.current,[d,f]=U.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},v=U.useCallback(E=>{m&&Gv?Gv(()=>f(E)):f(E)},[f,m]);return U.useLayoutEffect(()=>u.listen(v),[u,v]),U.createElement(hI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:i})}var Qv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Qv||(Qv={}));var Yv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));const gI="9DxpU6Fq92xuXHUoqHwlAnEBEGJDOEAk",yI="https://api.nytimes.com/svc/books/v3/lists/full-overview.json?api-key=",vI=async()=>{try{const e=await(await fetch(`${yI}${gI}`)).json();console.log(e),console.log(e.results.lists[6].books);const t=e.results.lists[0].books.map(d=>({id:"",title:d.title,author:d.author,img:d.book_image,isbn:d.primary_isbn13})),i=e.results.lists[1].books.map(d=>({id:"",title:d.title,author:d.author,img:d.book_image,isbn:d.primary_isbn13})),o=e.results.lists[10].books.map(d=>({id:"",title:d.title,author:d.author,img:d.book_image,isbn:d.primary_isbn13})),a=e.results.lists[8].books.map(d=>({id:"",title:d.title,author:d.author,img:d.book_image,isbn:d.primary_isbn13})),u=e.results.lists[6].books.map(d=>({id:"",title:d.title,author:d.author,img:d.book_image,isbn:d.primary_isbn13}));return{topFictionBooks:t,topNonFictionBooks:i,topYoungAdultBooks:o,topChildrenBooks:a,topLifestyleBooks:u}}catch(n){throw console.error("Error fetching bestsellers: ",n),n}},_I={fetchLatestBestsellers:vI},wI="_contentBody_1m8el_1",EI="_bookContainer_1m8el_12",TI="_title_1m8el_24",SI="_listItemContainer_1m8el_34",II="_header_1m8el_40",CI="_largeTitle_1m8el_58",kI="_listPosition_1m8el_66",Xi={contentBody:wI,bookContainer:EI,title:TI,listItemContainer:SI,header:II,largeTitle:CI,listPosition:kI},AI="_bookCard_1hb08_1",RI="_bookCardContent_1hb08_12",PI="_author_1hb08_44",xI="_noBookImgContainer_1hb08_49",bI="_bookImg_1hb08_59",ra={bookCard:AI,bookCardContent:RI,author:PI,noBookImgContainer:xI,bookImg:bI},NI=({book:n,setCurrentBook:e,setCurrentAuthor:t})=>{const i=ao(),o=async u=>{if(u.id===""){const d=u.isbn;try{const f=await Np.fetchVolumeByISBN({isbn:d});e&&e(f),i("/myShelf/book")}catch(f){console.error("Error: ",f)}}},a=u=>{const d=Array.isArray(u.author)?u.author[0]:u.author;t(d),i("/myShelf/search")};return k.jsxs("div",{className:ra.bookCard,children:[k.jsxs("div",{className:ra.imageContainer,children:[n.img&&k.jsx("img",{src:n.img,className:ra.bookImg,alt:"book cover image",onClick:()=>o(n)}),!n.img&&k.jsx("div",{className:ra.noBookImgContainer,onClick:()=>o(n),children:n.title})]}),k.jsxs("div",{className:ra.bookCardContent,children:[k.jsx("h2",{onClick:()=>o(n),children:n.title}),k.jsx("p",{className:ra.author,onClick:()=>a(n),children:k.jsx("strong",{children:n.author})}),k.jsx("p",{children:n.category})]})]})},iu={black:"#000",white:"#fff"},ia={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},sa={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},oa={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},aa={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},la={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ml={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},OI={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ro(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const DI="$$material";function yh(){return yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yh.apply(null,arguments)}function sw(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var LI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VI=sw(function(n){return LI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function MI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function FI(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var BI=function(){function n(t){var i=this;this._insertTag=function(o){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,a),i.tags.push(o)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FI(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=MI(o);try{a.insertRule(i,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var o;return(o=i.parentNode)==null?void 0:o.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ln="-ms-",vh="-moz-",Ke="-webkit-",ow="comm",_m="rule",wm="decl",jI="@import",aw="@keyframes",UI="@layer",$I=Math.abs,Gh=String.fromCharCode,zI=Object.assign;function HI(n,e){return Jt(n,0)^45?(((e<<2^Jt(n,0))<<2^Jt(n,1))<<2^Jt(n,2))<<2^Jt(n,3):0}function lw(n){return n.trim()}function WI(n,e){return(n=e.exec(n))?n[0]:n}function Ge(n,e,t){return n.replace(e,t)}function Lp(n,e){return n.indexOf(e)}function Jt(n,e){return n.charCodeAt(e)|0}function su(n,e,t){return n.slice(e,t)}function Br(n){return n.length}function Em(n){return n.length}function Wc(n,e){return e.push(n),n}function qI(n,e){return n.map(e).join("")}var Qh=1,Sa=1,uw=0,On=0,Pt=0,Va="";function Yh(n,e,t,i,o,a,u){return{value:n,root:e,parent:t,type:i,props:o,children:a,line:Qh,column:Sa,length:u,return:""}}function Fl(n,e){return zI(Yh("",null,null,"",null,null,0),n,{length:-n.length},e)}function KI(){return Pt}function GI(){return Pt=On>0?Jt(Va,--On):0,Sa--,Pt===10&&(Sa=1,Qh--),Pt}function Wn(){return Pt=On<uw?Jt(Va,On++):0,Sa++,Pt===10&&(Sa=1,Qh++),Pt}function Hr(){return Jt(Va,On)}function nh(){return On}function gu(n,e){return su(Va,n,e)}function ou(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cw(n){return Qh=Sa=1,uw=Br(Va=n),On=0,[]}function hw(n){return Va="",n}function rh(n){return lw(gu(On-1,Vp(n===91?n+2:n===40?n+1:n)))}function QI(n){for(;(Pt=Hr())&&Pt<33;)Wn();return ou(n)>2||ou(Pt)>3?"":" "}function YI(n,e){for(;--e&&Wn()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return gu(n,nh()+(e<6&&Hr()==32&&Wn()==32))}function Vp(n){for(;Wn();)switch(Pt){case n:return On;case 34:case 39:n!==34&&n!==39&&Vp(Pt);break;case 40:n===41&&Vp(n);break;case 92:Wn();break}return On}function XI(n,e){for(;Wn()&&n+Pt!==57;)if(n+Pt===84&&Hr()===47)break;return"/*"+gu(e,On-1)+"*"+Gh(n===47?n:Wn())}function JI(n){for(;!ou(Hr());)Wn();return gu(n,On)}function ZI(n){return hw(ih("",null,null,null,[""],n=cw(n),0,[0],n))}function ih(n,e,t,i,o,a,u,d,f){for(var m=0,v=0,E=u,S=0,b=0,D=0,N=1,L=1,K=1,Y=0,W="",z=o,j=a,Q=i,P=W;L;)switch(D=Y,Y=Wn()){case 40:if(D!=108&&Jt(P,E-1)==58){Lp(P+=Ge(rh(Y),"&","&\f"),"&\f")!=-1&&(K=-1);break}case 34:case 39:case 91:P+=rh(Y);break;case 9:case 10:case 13:case 32:P+=QI(D);break;case 92:P+=YI(nh()-1,7);continue;case 47:switch(Hr()){case 42:case 47:Wc(eC(XI(Wn(),nh()),e,t),f);break;default:P+="/"}break;case 123*N:d[m++]=Br(P)*K;case 125*N:case 59:case 0:switch(Y){case 0:case 125:L=0;case 59+v:K==-1&&(P=Ge(P,/\f/g,"")),b>0&&Br(P)-E&&Wc(b>32?Jv(P+";",i,t,E-1):Jv(Ge(P," ","")+";",i,t,E-2),f);break;case 59:P+=";";default:if(Wc(Q=Xv(P,e,t,m,v,o,d,W,z=[],j=[],E),a),Y===123)if(v===0)ih(P,e,Q,Q,z,a,E,d,j);else switch(S===99&&Jt(P,3)===110?100:S){case 100:case 108:case 109:case 115:ih(n,Q,Q,i&&Wc(Xv(n,Q,Q,0,0,o,d,W,o,z=[],E),j),o,j,E,d,i?z:j);break;default:ih(P,Q,Q,Q,[""],j,0,d,j)}}m=v=b=0,N=K=1,W=P="",E=u;break;case 58:E=1+Br(P),b=D;default:if(N<1){if(Y==123)--N;else if(Y==125&&N++==0&&GI()==125)continue}switch(P+=Gh(Y),Y*N){case 38:K=v>0?1:(P+="\f",-1);break;case 44:d[m++]=(Br(P)-1)*K,K=1;break;case 64:Hr()===45&&(P+=rh(Wn())),S=Hr(),v=E=Br(W=P+=JI(nh())),Y++;break;case 45:D===45&&Br(P)==2&&(N=0)}}return a}function Xv(n,e,t,i,o,a,u,d,f,m,v){for(var E=o-1,S=o===0?a:[""],b=Em(S),D=0,N=0,L=0;D<i;++D)for(var K=0,Y=su(n,E+1,E=$I(N=u[D])),W=n;K<b;++K)(W=lw(N>0?S[K]+" "+Y:Ge(Y,/&\f/g,S[K])))&&(f[L++]=W);return Yh(n,e,t,o===0?_m:d,f,m,v)}function eC(n,e,t){return Yh(n,e,t,ow,Gh(KI()),su(n,2,-2),0)}function Jv(n,e,t,i){return Yh(n,e,t,wm,su(n,0,i),su(n,i+1,-1),i)}function ga(n,e){for(var t="",i=Em(n),o=0;o<i;o++)t+=e(n[o],o,n,e)||"";return t}function tC(n,e,t,i){switch(n.type){case UI:if(n.children.length)break;case jI:case wm:return n.return=n.return||n.value;case ow:return"";case aw:return n.return=n.value+"{"+ga(n.children,i)+"}";case _m:n.value=n.props.join(",")}return Br(t=ga(n.children,i))?n.return=n.value+"{"+t+"}":""}function nC(n){var e=Em(n);return function(t,i,o,a){for(var u="",d=0;d<e;d++)u+=n[d](t,i,o,a)||"";return u}}function rC(n){return function(e){e.root||(e=e.return)&&n(e)}}var iC=function(e,t,i){for(var o=0,a=0;o=a,a=Hr(),o===38&&a===12&&(t[i]=1),!ou(a);)Wn();return gu(e,On)},sC=function(e,t){var i=-1,o=44;do switch(ou(o)){case 0:o===38&&Hr()===12&&(t[i]=1),e[i]+=iC(On-1,t,i);break;case 2:e[i]+=rh(o);break;case 4:if(o===44){e[++i]=Hr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Gh(o)}while(o=Wn());return e},oC=function(e,t){return hw(sC(cw(e),t))},Zv=new WeakMap,aC=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Zv.get(i))&&!o){Zv.set(e,!0);for(var a=[],u=oC(t,a),d=i.props,f=0,m=0;f<u.length;f++)for(var v=0;v<d.length;v++,m++)e.props[m]=a[f]?u[f].replace(/&\f/g,d[v]):d[v]+" "+u[f]}}},lC=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function dw(n,e){switch(HI(n,e)){case 5103:return Ke+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+n+vh+n+ln+n+n;case 6828:case 4268:return Ke+n+ln+n+n;case 6165:return Ke+n+ln+"flex-"+n+n;case 5187:return Ke+n+Ge(n,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+ln+"flex-$1$2")+n;case 5443:return Ke+n+ln+"flex-item-"+Ge(n,/flex-|-self/,"")+n;case 4675:return Ke+n+ln+"flex-line-pack"+Ge(n,/align-content|flex-|-self/,"")+n;case 5548:return Ke+n+ln+Ge(n,"shrink","negative")+n;case 5292:return Ke+n+ln+Ge(n,"basis","preferred-size")+n;case 6060:return Ke+"box-"+Ge(n,"-grow","")+Ke+n+ln+Ge(n,"grow","positive")+n;case 4554:return Ke+Ge(n,/([^-])(transform)/g,"$1"+Ke+"$2")+n;case 6187:return Ge(Ge(Ge(n,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),n,"")+n;case 5495:case 3959:return Ge(n,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(n,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+ln+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+n+n;case 4095:case 3583:case 4068:case 2532:return Ge(n,/(.+)-inline(.+)/,Ke+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Br(n)-1-e>6)switch(Jt(n,e+1)){case 109:if(Jt(n,e+4)!==45)break;case 102:return Ge(n,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+vh+(Jt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Lp(n,"stretch")?dw(Ge(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Jt(n,e+1)!==115)break;case 6444:switch(Jt(n,Br(n)-3-(~Lp(n,"!important")&&10))){case 107:return Ge(n,":",":"+Ke)+n;case 101:return Ge(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Jt(n,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+ln+"$2box$3")+n}break;case 5936:switch(Jt(n,e+11)){case 114:return Ke+n+ln+Ge(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ke+n+ln+Ge(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ke+n+ln+Ge(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ke+n+ln+n+n}return n}var uC=function(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case wm:e.return=dw(e.value,e.length);break;case aw:return ga([Fl(e,{value:Ge(e.value,"@","@"+Ke)})],o);case _m:if(e.length)return qI(e.props,function(a){switch(WI(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ga([Fl(e,{props:[Ge(a,/:(read-\w+)/,":"+vh+"$1")]})],o);case"::placeholder":return ga([Fl(e,{props:[Ge(a,/:(plac\w+)/,":"+Ke+"input-$1")]}),Fl(e,{props:[Ge(a,/:(plac\w+)/,":"+vh+"$1")]}),Fl(e,{props:[Ge(a,/:(plac\w+)/,ln+"input-$1")]})],o)}return""})}},cC=[uC],hC=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(N){var L=N.getAttribute("data-emotion");L.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var o=e.stylisPlugins||cC,a={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(N){for(var L=N.getAttribute("data-emotion").split(" "),K=1;K<L.length;K++)a[L[K]]=!0;d.push(N)});var f,m=[aC,lC];{var v,E=[tC,rC(function(N){v.insert(N)})],S=nC(m.concat(o,E)),b=function(L){return ga(ZI(L),S)};f=function(L,K,Y,W){v=Y,b(L?L+"{"+K.styles+"}":K.styles),W&&(D.inserted[K.name]=!0)}}var D={key:t,sheet:new BI({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return D.sheet.hydrate(d),D},up={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function dC(){if(e_)return Qe;e_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,v=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,D=n?Symbol.for("react.lazy"):60116,N=n?Symbol.for("react.block"):60121,L=n?Symbol.for("react.fundamental"):60117,K=n?Symbol.for("react.responder"):60118,Y=n?Symbol.for("react.scope"):60119;function W(j){if(typeof j=="object"&&j!==null){var Q=j.$$typeof;switch(Q){case e:switch(j=j.type,j){case f:case m:case i:case a:case o:case E:return j;default:switch(j=j&&j.$$typeof,j){case d:case v:case D:case b:case u:return j;default:return Q}}case t:return Q}}}function z(j){return W(j)===m}return Qe.AsyncMode=f,Qe.ConcurrentMode=m,Qe.ContextConsumer=d,Qe.ContextProvider=u,Qe.Element=e,Qe.ForwardRef=v,Qe.Fragment=i,Qe.Lazy=D,Qe.Memo=b,Qe.Portal=t,Qe.Profiler=a,Qe.StrictMode=o,Qe.Suspense=E,Qe.isAsyncMode=function(j){return z(j)||W(j)===f},Qe.isConcurrentMode=z,Qe.isContextConsumer=function(j){return W(j)===d},Qe.isContextProvider=function(j){return W(j)===u},Qe.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Qe.isForwardRef=function(j){return W(j)===v},Qe.isFragment=function(j){return W(j)===i},Qe.isLazy=function(j){return W(j)===D},Qe.isMemo=function(j){return W(j)===b},Qe.isPortal=function(j){return W(j)===t},Qe.isProfiler=function(j){return W(j)===a},Qe.isStrictMode=function(j){return W(j)===o},Qe.isSuspense=function(j){return W(j)===E},Qe.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===i||j===m||j===a||j===o||j===E||j===S||typeof j=="object"&&j!==null&&(j.$$typeof===D||j.$$typeof===b||j.$$typeof===u||j.$$typeof===d||j.$$typeof===v||j.$$typeof===L||j.$$typeof===K||j.$$typeof===Y||j.$$typeof===N)},Qe.typeOf=W,Qe}var t_;function fC(){return t_||(t_=1,up.exports=dC()),up.exports}var cp,n_;function pC(){if(n_)return cp;n_=1;var n=fC(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function u(D){return n.isMemo(D)?o:a[D.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,S=Object.prototype;function b(D,N,L){if(typeof N!="string"){if(S){var K=E(N);K&&K!==S&&b(D,K,L)}var Y=f(N);m&&(Y=Y.concat(m(N)));for(var W=u(D),z=u(N),j=0;j<Y.length;++j){var Q=Y[j];if(!t[Q]&&!(L&&L[Q])&&!(z&&z[Q])&&!(W&&W[Q])){var P=v(N,Q);try{d(D,Q,P)}catch{}}}}return D}return cp=b,cp}pC();var mC=!0;function gC(n,e,t){var i="";return t.split(" ").forEach(function(o){n[o]!==void 0?e.push(n[o]+";"):o&&(i+=o+" ")}),i}var fw=function(e,t,i){var o=e.key+"-"+t.name;(i===!1||mC===!1)&&e.registered[o]===void 0&&(e.registered[o]=t.styles)},yC=function(e,t,i){fw(e,t,i);var o=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+o:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function vC(n){for(var e=0,t,i=0,o=n.length;o>=4;++i,o-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _C={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wC=/[A-Z]|^ms/g,EC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pw=function(e){return e.charCodeAt(1)===45},r_=function(e){return e!=null&&typeof e!="boolean"},hp=sw(function(n){return pw(n)?n:n.replace(wC,"-$&").toLowerCase()}),i_=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(EC,function(i,o,a){return jr={name:o,styles:a,next:jr},o})}return _C[e]!==1&&!pw(e)&&typeof t=="number"&&t!==0?t+"px":t};function au(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return jr={name:o.name,styles:o.styles,next:jr},o.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)jr={name:u.name,styles:u.styles,next:jr},u=u.next;var d=a.styles+";";return d}return TC(n,e,t)}case"function":{if(n!==void 0){var f=jr,m=t(n);return jr=f,au(n,e,m)}break}}var v=t;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function TC(n,e,t){var i="";if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=au(n,e,t[o])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var d=u;e!=null&&e[d]!==void 0?i+=a+"{"+e[d]+"}":r_(d)&&(i+=hp(a)+":"+i_(a,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)r_(u[f])&&(i+=hp(a)+":"+i_(a,u[f])+";");else{var m=au(n,e,u);switch(a){case"animation":case"animationName":{i+=hp(a)+":"+m+";";break}default:i+=a+"{"+m+"}"}}}return i}var s_=/label:\s*([^\s;{]+)\s*(;|$)/g,jr;function Tm(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,o="";jr=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,o+=au(t,e,a);else{var u=a;o+=u[0]}for(var d=1;d<n.length;d++)if(o+=au(t,e,n[d]),i){var f=a;o+=f[d]}s_.lastIndex=0;for(var m="",v;(v=s_.exec(o))!==null;)m+="-"+v[1];var E=vC(o)+m;return{name:E,styles:o,next:jr}}var SC=function(e){return e()},IC=gh.useInsertionEffect?gh.useInsertionEffect:!1,CC=IC||SC,mw=U.createContext(typeof HTMLElement<"u"?hC({key:"css"}):null);mw.Provider;var kC=function(e){return U.forwardRef(function(t,i){var o=U.useContext(mw);return e(t,o,i)})},AC=U.createContext({});function Sm(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Tm(e)}var yu=function(){var e=Sm.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},RC=VI,PC=function(e){return e!=="theme"},o_=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?RC:PC},a_=function(e,t,i){var o;if(t){var a=t.shouldForwardProp;o=e.__emotion_forwardProp&&a?function(u){return e.__emotion_forwardProp(u)&&a(u)}:a}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},xC=function(e){var t=e.cache,i=e.serialized,o=e.isStringTag;return fw(t,i,o),CC(function(){return yC(t,i,o)}),null},bC=function n(e,t){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,a,u;t!==void 0&&(a=t.label,u=t.target);var d=a_(e,t,i),f=d||o_(o),m=!f("as");return function(){var v=arguments,E=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&E.push("label:"+a+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{E.push(v[0][0]);for(var S=v.length,b=1;b<S;b++)E.push(v[b],v[0][b])}var D=kC(function(N,L,K){var Y=m&&N.as||o,W="",z=[],j=N;if(N.theme==null){j={};for(var Q in N)j[Q]=N[Q];j.theme=U.useContext(AC)}typeof N.className=="string"?W=gC(L.registered,z,N.className):N.className!=null&&(W=N.className+" ");var P=Tm(E.concat(z),L.registered,j);W+=L.key+"-"+P.name,u!==void 0&&(W+=" "+u);var C=m&&d===void 0?o_(Y):f,R={};for(var _ in N)m&&_==="as"||C(_)&&(R[_]=N[_]);return R.className=W,K&&(R.ref=K),U.createElement(U.Fragment,null,U.createElement(xC,{cache:L,serialized:P,isStringTag:typeof Y=="string"}),U.createElement(Y,R))});return D.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",D.defaultProps=e.defaultProps,D.__emotion_real=D,D.__emotion_base=o,D.__emotion_styles=E,D.__emotion_forwardProp=d,Object.defineProperty(D,"toString",{value:function(){return"."+u}}),D.withComponent=function(N,L){return n(N,yh({},t,L,{shouldForwardProp:a_(D,L,!0)})).apply(void 0,E)},D}},NC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Mp=bC.bind();NC.forEach(function(n){Mp[n]=Mp(n)});/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function OC(n,e){return Mp(n,e)}function DC(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const l_=[];function u_(n){return l_[0]=n,Tm(l_)}function mi(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function gw(n){if(!mi(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=gw(n[t])}),e}function qn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return mi(n)&&mi(e)&&Object.keys(e).forEach(o=>{mi(e[o])&&Object.prototype.hasOwnProperty.call(n,o)&&mi(n[o])?i[o]=qn(n[o],e[o],t):t.clone?i[o]=mi(e[o])?gw(e[o]):e[o]:i[o]=e[o]}),i}const LC=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function VC(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...o}=n,a=LC(e),u=Object.keys(a);function d(S){return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${t})`}function f(S){return`@media (max-width:${(typeof e[S]=="number"?e[S]:S)-i/100}${t})`}function m(S,b){const D=u.indexOf(b);return`@media (min-width:${typeof e[S]=="number"?e[S]:S}${t}) and (max-width:${(D!==-1&&typeof e[u[D]]=="number"?e[u[D]]:b)-i/100}${t})`}function v(S){return u.indexOf(S)+1<u.length?m(S,u[u.indexOf(S)+1]):d(S)}function E(S){const b=u.indexOf(S);return b===0?d(u[1]):b===u.length-1?f(u[b]):m(S,u[u.indexOf(S)+1]).replace("@media","@media not all and")}return{keys:u,values:a,up:d,down:f,between:m,only:v,not:E,unit:t,...o}}function MC(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,o)=>{var u,d;const a=/min-width:\s*([0-9.]+)/;return+(((u=i.match(a))==null?void 0:u[1])||0)-+(((d=o.match(a))==null?void 0:d[1])||0)});return t.length?t.reduce((i,o)=>{const a=e[o];return delete i[o],i[o]=a,i},{...e}):e}function FC(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function BC(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,o]=t,a=Number.isNaN(+i)?i||0:+i;return n.containerQueries(o).up(a)}function jC(n){const e=(a,u)=>a.replace("@media",u?`@container ${u}`:"@container");function t(a,u){a.up=(...d)=>e(n.breakpoints.up(...d),u),a.down=(...d)=>e(n.breakpoints.down(...d),u),a.between=(...d)=>e(n.breakpoints.between(...d),u),a.only=(...d)=>e(n.breakpoints.only(...d),u),a.not=(...d)=>{const f=e(n.breakpoints.not(...d),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const i={},o=a=>(t(i,a),i);return t(o),{...n,containerQueries:o}}const UC={borderRadius:4};function Ql(n,e){return e?qn(n,e,{clone:!1}):n}const Xh={xs:0,sm:600,md:900,lg:1200,xl:1536},c_={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Xh[n]}px)`},$C={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Xh[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function wi(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const a=i.breakpoints||c_;return e.reduce((u,d,f)=>(u[a.up(a.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const a=i.breakpoints||c_;return Object.keys(e).reduce((u,d)=>{if(FC(a.keys,d)){const f=BC(i.containerQueries?i:$C,d);f&&(u[f]=t(e[d],d))}else if(Object.keys(a.values||Xh).includes(d)){const f=a.up(d);u[f]=t(e[d],d)}else{const f=d;u[f]=e[f]}return u},{})}return t(e)}function zC(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,o)=>{const a=n.up(o);return i[a]={},i},{}))||{}}function HC(n,e){return n.reduce((t,i)=>{const o=t[i];return(!o||Object.keys(o).length===0)&&delete t[i],t},e)}function Ut(n){if(typeof n!="string")throw new Error(ro(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Jh(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((o,a)=>o&&o[a]?o[a]:null,n);if(i!=null)return i}return e.split(".").reduce((i,o)=>i&&i[o]!=null?i[o]:null,n)}function _h(n,e,t,i=t){let o;return typeof n=="function"?o=n(t):Array.isArray(n)?o=n[t]||i:o=Jh(n,t)||i,e&&(o=e(o,i,n)),o}function It(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:o}=n,a=u=>{if(u[e]==null)return null;const d=u[e],f=u.theme,m=Jh(f,i)||{};return wi(u,d,E=>{let S=_h(m,o,E);return E===S&&typeof E=="string"&&(S=_h(m,o,`${e}${E==="default"?"":Ut(E)}`,E)),t===!1?S:{[t]:S}})};return a.propTypes={},a.filterProps=[e],a}function WC(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const qC={m:"margin",p:"padding"},KC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},h_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GC=WC(n=>{if(n.length>2)if(h_[n])n=h_[n];else return[n];const[e,t]=n.split(""),i=qC[e],o=KC[t]||"";return Array.isArray(o)?o.map(a=>i+a):[i+o]}),Im=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Cm=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Im,...Cm];function vu(n,e,t,i){const o=Jh(n,e,!0)??t;return typeof o=="number"||typeof o=="string"?a=>typeof a=="string"?a:typeof o=="string"?`calc(${a} * ${o})`:o*a:Array.isArray(o)?a=>{if(typeof a=="string")return a;const u=Math.abs(a),d=o[u];return a>=0?d:typeof d=="number"?-d:`-${d}`}:typeof o=="function"?o:()=>{}}function km(n){return vu(n,"spacing",8)}function _u(n,e){return typeof e=="string"||e==null?e:n(e)}function QC(n,e){return t=>n.reduce((i,o)=>(i[o]=_u(e,t),i),{})}function YC(n,e,t,i){if(!e.includes(t))return null;const o=GC(t),a=QC(o,i),u=n[t];return wi(n,u,a)}function yw(n,e){const t=km(n.theme);return Object.keys(n).map(i=>YC(n,e,i,t)).reduce(Ql,{})}function vt(n){return yw(n,Im)}vt.propTypes={};vt.filterProps=Im;function _t(n){return yw(n,Cm)}_t.propTypes={};_t.filterProps=Cm;function vw(n=8,e=km({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(a=>{const u=e(a);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function Zh(...n){const e=n.reduce((i,o)=>(o.filterProps.forEach(a=>{i[a]=o}),i),{}),t=i=>Object.keys(i).reduce((o,a)=>e[a]?Ql(o,e[a](i)):o,{});return t.propTypes={},t.filterProps=n.reduce((i,o)=>i.concat(o.filterProps),[]),t}function sr(n){return typeof n!="number"?n:`${n}px solid`}function ar(n,e){return It({prop:n,themeKey:"borders",transform:e})}const XC=ar("border",sr),JC=ar("borderTop",sr),ZC=ar("borderRight",sr),ek=ar("borderBottom",sr),tk=ar("borderLeft",sr),nk=ar("borderColor"),rk=ar("borderTopColor"),ik=ar("borderRightColor"),sk=ar("borderBottomColor"),ok=ar("borderLeftColor"),ak=ar("outline",sr),lk=ar("outlineColor"),ed=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=vu(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:_u(e,i)});return wi(n,n.borderRadius,t)}return null};ed.propTypes={};ed.filterProps=["borderRadius"];Zh(XC,JC,ZC,ek,tk,nk,rk,ik,sk,ok,ed,ak,lk);const td=n=>{if(n.gap!==void 0&&n.gap!==null){const e=vu(n.theme,"spacing",8),t=i=>({gap:_u(e,i)});return wi(n,n.gap,t)}return null};td.propTypes={};td.filterProps=["gap"];const nd=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=vu(n.theme,"spacing",8),t=i=>({columnGap:_u(e,i)});return wi(n,n.columnGap,t)}return null};nd.propTypes={};nd.filterProps=["columnGap"];const rd=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=vu(n.theme,"spacing",8),t=i=>({rowGap:_u(e,i)});return wi(n,n.rowGap,t)}return null};rd.propTypes={};rd.filterProps=["rowGap"];const uk=It({prop:"gridColumn"}),ck=It({prop:"gridRow"}),hk=It({prop:"gridAutoFlow"}),dk=It({prop:"gridAutoColumns"}),fk=It({prop:"gridAutoRows"}),pk=It({prop:"gridTemplateColumns"}),mk=It({prop:"gridTemplateRows"}),gk=It({prop:"gridTemplateAreas"}),yk=It({prop:"gridArea"});Zh(td,nd,rd,uk,ck,hk,dk,fk,pk,mk,gk,yk);function ya(n,e){return e==="grey"?e:n}const vk=It({prop:"color",themeKey:"palette",transform:ya}),_k=It({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ya}),wk=It({prop:"backgroundColor",themeKey:"palette",transform:ya});Zh(vk,_k,wk);function $n(n){return n<=1&&n!==0?`${n*100}%`:n}const Ek=It({prop:"width",transform:$n}),Am=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var o,a,u,d,f;const i=((u=(a=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:a.values)==null?void 0:u[t])||Xh[t];return i?((f=(d=n.theme)==null?void 0:d.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:$n(t)}};return wi(n,n.maxWidth,e)}return null};Am.filterProps=["maxWidth"];const Tk=It({prop:"minWidth",transform:$n}),Sk=It({prop:"height",transform:$n}),Ik=It({prop:"maxHeight",transform:$n}),Ck=It({prop:"minHeight",transform:$n});It({prop:"size",cssProperty:"width",transform:$n});It({prop:"size",cssProperty:"height",transform:$n});const kk=It({prop:"boxSizing"});Zh(Ek,Am,Tk,Sk,Ik,Ck,kk);const id={border:{themeKey:"borders",transform:sr},borderTop:{themeKey:"borders",transform:sr},borderRight:{themeKey:"borders",transform:sr},borderBottom:{themeKey:"borders",transform:sr},borderLeft:{themeKey:"borders",transform:sr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:sr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ed},color:{themeKey:"palette",transform:ya},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ya},backgroundColor:{themeKey:"palette",transform:ya},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:vt},mt:{style:vt},mr:{style:vt},mb:{style:vt},ml:{style:vt},mx:{style:vt},my:{style:vt},margin:{style:vt},marginTop:{style:vt},marginRight:{style:vt},marginBottom:{style:vt},marginLeft:{style:vt},marginX:{style:vt},marginY:{style:vt},marginInline:{style:vt},marginInlineStart:{style:vt},marginInlineEnd:{style:vt},marginBlock:{style:vt},marginBlockStart:{style:vt},marginBlockEnd:{style:vt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:td},rowGap:{style:rd},columnGap:{style:nd},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$n},maxWidth:{style:Am},minWidth:{transform:$n},height:{transform:$n},maxHeight:{transform:$n},minHeight:{transform:$n},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ak(...n){const e=n.reduce((i,o)=>i.concat(Object.keys(o)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Rk(n,e){return typeof n=="function"?n(e):n}function Pk(){function n(t,i,o,a){const u={[t]:i,theme:o},d=a[t];if(!d)return{[t]:i};const{cssProperty:f=t,themeKey:m,transform:v,style:E}=d;if(i==null)return null;if(m==="typography"&&i==="inherit")return{[t]:i};const S=Jh(o,m)||{};return E?E(u):wi(u,i,D=>{let N=_h(S,v,D);return D===N&&typeof D=="string"&&(N=_h(S,v,`${t}${D==="default"?"":Ut(D)}`,D)),f===!1?N:{[f]:N}})}function e(t){const{sx:i,theme:o={}}=t||{};if(!i)return null;const a=o.unstable_sxConfig??id;function u(d){let f=d;if(typeof d=="function")f=d(o);else if(typeof d!="object")return d;if(!f)return null;const m=zC(o.breakpoints),v=Object.keys(m);let E=m;return Object.keys(f).forEach(S=>{const b=Rk(f[S],o);if(b!=null)if(typeof b=="object")if(a[S])E=Ql(E,n(S,b,o,a));else{const D=wi({theme:o},b,N=>({[S]:N}));Ak(D,b)?E[S]=e({sx:b,theme:o}):E=Ql(E,D)}else E=Ql(E,n(S,b,o,a))}),MC(o,HC(v,E))}return Array.isArray(i)?i.map(u):u(i)}return e}const Ia=Pk();Ia.filterProps=["sx"];function xk(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let o=t.getColorSchemeSelector(n);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return t.palette.mode===n?e:{}}function _w(n={},...e){const{breakpoints:t={},palette:i={},spacing:o,shape:a={},...u}=n,d=VC(t),f=vw(o);let m=qn({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:f,shape:{...UC,...a}},u);return m=jC(m),m.applyStyles=xk,m=e.reduce((v,E)=>qn(v,E),m),m.unstable_sxConfig={...id,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(E){return Ia({sx:E,theme:this})},m}const d_=n=>n,bk=()=>{let n=d_;return{configure(e){n=e},generate(e){return n(e)},reset(){n=d_}}},Nk=bk();function ww(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=ww(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function St(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=ww(n))&&(i&&(i+=" "),i+=e);return i}const Ok={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lo(n,e,t="Mui"){const i=Ok[e];return i?`${t}-${i}`:`${Nk.generate(n)}-${e}`}function uo(n,e,t="Mui"){const i={};return e.forEach(o=>{i[o]=lo(n,o,t)}),i}function Ew(n){const{variants:e,...t}=n,i={variants:e,style:u_(t),isProcessed:!0};return i.style===t||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=u_(o.style))}),i}const Dk=_w();function dp(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Lk(n){return n?(e,t)=>t[n]:null}function Vk(n,e,t){n.theme=Bk(n.theme)?t:n.theme[e]||n.theme}function sh(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>sh(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:o,...a}=t;i=a}return Tw(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function Tw(n,e,t=[]){var o;let i;e:for(let a=0;a<e.length;a+=1){const u=e[a];if(typeof u.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(i))continue}else for(const d in u.props)if(n[d]!==u.props[d]&&((o=n.ownerState)==null?void 0:o[d])!==u.props[d])continue e;typeof u.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(i))):t.push(u.style)}return t}function Mk(n={}){const{themeId:e,defaultTheme:t=Dk,rootShouldForwardProp:i=dp,slotShouldForwardProp:o=dp}=n;function a(d){Vk(d,e,t)}return(d,f={})=>{DC(d,j=>j.filter(Q=>Q!==Ia));const{name:m,slot:v,skipVariantsResolver:E,skipSx:S,overridesResolver:b=Lk(Uk(v)),...D}=f,N=E!==void 0?E:v&&v!=="Root"&&v!=="root"||!1,L=S||!1;let K=dp;v==="Root"||v==="root"?K=i:v?K=o:jk(d)&&(K=void 0);const Y=OC(d,{shouldForwardProp:K,label:Fk(),...D}),W=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(P){return sh(P,j)};if(mi(j)){const Q=Ew(j);return Q.variants?function(C){return sh(C,Q)}:Q.style}return j},z=(...j)=>{const Q=[],P=j.map(W),C=[];if(Q.push(a),m&&b&&C.push(function(V){var be,Ne;const ve=(Ne=(be=V.theme.components)==null?void 0:be[m])==null?void 0:Ne.styleOverrides;if(!ve)return null;const Pe={};for(const se in ve)Pe[se]=sh(V,ve[se]);return b(V,Pe)}),m&&!N&&C.push(function(V){var Pe,be;const A=V.theme,ve=(be=(Pe=A==null?void 0:A.components)==null?void 0:Pe[m])==null?void 0:be.variants;return ve?Tw(V,ve):null}),L||C.push(Ia),Array.isArray(P[0])){const x=P.shift(),V=new Array(Q.length).fill(""),A=new Array(C.length).fill("");let ve;ve=[...V,...x,...A],ve.raw=[...V,...x.raw,...A],Q.unshift(ve)}const R=[...Q,...P,...C],_=Y(...R);return d.muiName&&(_.muiName=d.muiName),_};return Y.withConfig&&(z.withConfig=Y.withConfig),z}}function Fk(n,e){return void 0}function Bk(n){for(const e in n)return!1;return!0}function jk(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Uk(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function Fp(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=i;if(o==="components"||o==="slots")t[o]={...n[o],...t[o]};else if(o==="componentsProps"||o==="slotProps"){const a=n[o],u=e[o];if(!u)t[o]=a||{};else if(!a)t[o]=u;else{t[o]={...u};for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const f=d;t[o][f]=Fp(a[f],u[f])}}}else t[o]===void 0&&(t[o]=n[o])}return t}const $k=typeof window<"u"?U.useLayoutEffect:U.useEffect;function Sw(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Rm(n,e=0,t=1){return Sw(n,e,t)}function zk(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,o)=>o<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function hs(n){if(n.type)return n;if(n.charAt(0)==="#")return hs(zk(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ro(9,n));let i=n.substring(e+1,n.length-1),o;if(t==="color"){if(i=i.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(ro(10,o))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:t,values:i,colorSpace:o}}const Hk=n=>{const e=hs(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},zl=(n,e)=>{try{return Hk(n)}catch{return n}};function sd(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((o,a)=>a<3?parseInt(o,10):o):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function Iw(n){n=hs(n);const{values:e}=n,t=e[0],i=e[1]/100,o=e[2]/100,a=i*Math.min(o,1-o),u=(m,v=(m+t/30)%12)=>o-a*Math.max(Math.min(v-3,9-v,1),-1);let d="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(d+="a",f.push(e[3])),sd({type:d,values:f})}function Bp(n){n=hs(n);let e=n.type==="hsl"||n.type==="hsla"?hs(Iw(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Wk(n,e){const t=Bp(n),i=Bp(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Ys(n,e){return n=hs(n),e=Rm(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,sd(n)}function qc(n,e,t){try{return Ys(n,e)}catch{return n}}function Pm(n,e){if(n=hs(n),e=Rm(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return sd(n)}function et(n,e,t){try{return Pm(n,e)}catch{return n}}function xm(n,e){if(n=hs(n),e=Rm(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return sd(n)}function tt(n,e,t){try{return xm(n,e)}catch{return n}}function qk(n,e=.15){return Bp(n)>.5?Pm(n,e):xm(n,e)}function Kc(n,e,t){try{return qk(n,e)}catch{return n}}function Kk(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let f_=0;function Gk(n){const[e,t]=U.useState(n),i=n||e;return U.useEffect(()=>{e==null&&(f_+=1,t(`mui-${f_}`))},[e]),i}const Qk={...gh},p_=Qk.useId;function Cw(n){if(p_!==void 0){const e=p_();return n??e}return Gk(n)}function kw({controlled:n,default:e,name:t,state:i="value"}){const{current:o}=U.useRef(n!==void 0),[a,u]=U.useState(e),d=o?n:a,f=U.useCallback(m=>{o||u(m)},[]);return[d,f]}function Gc(n){const e=U.useRef(n);return $k(()=>{e.current=n}),U.useRef((...t)=>(0,e.current)(...t)).current}function wh(...n){return U.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{Kk(t,e)})},n)}const m_={};function Aw(n,e){const t=U.useRef(m_);return t.current===m_&&(t.current=n(e)),t}const Yk=[];function Xk(n){U.useEffect(n,Yk)}class bm{constructor(){Ll(this,"currentId",null);Ll(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ll(this,"disposeEffect",()=>this.clear)}static create(){return new bm}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function Jk(){const n=Aw(bm.create).current;return Xk(n.disposeEffect),n}function Eh(n){try{return n.matches(":focus-visible")}catch{}return!1}const Zk={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ma(n,e,t=void 0){const i={};for(const o in n){const a=n[o];let u="",d=!0;for(let f=0;f<a.length;f+=1){const m=a[f];m&&(u+=(d===!0?"":" ")+e(m),d=!1,t&&t[m]&&(u+=" "+t[m]))}i[o]=u}return i}function eA(n){return typeof n=="string"}function tA(n,e,t){return n===void 0||eA(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function nA(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function g_(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function rA(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:o,className:a}=n;if(!e){const b=St(t==null?void 0:t.className,a,o==null?void 0:o.className,i==null?void 0:i.className),D={...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},N={...t,...o,...i};return b.length>0&&(N.className=b),Object.keys(D).length>0&&(N.style=D),{props:N,internalRef:void 0}}const u=nA({...o,...i}),d=g_(i),f=g_(o),m=e(u),v=St(m==null?void 0:m.className,t==null?void 0:t.className,a,o==null?void 0:o.className,i==null?void 0:i.className),E={...m==null?void 0:m.style,...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},S={...m,...t,...f,...d};return v.length>0&&(S.className=v),Object.keys(E).length>0&&(S.style=E),{props:S,internalRef:m.ref}}function iA(n,e,t){return typeof n=="function"?n(e,t):n}const sA=U.createContext(),Rw=()=>U.useContext(sA)??!1,oA=U.createContext(void 0);function aA(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const o=e.components[t];return o.defaultProps?Fp(o.defaultProps,i):!o.styleOverrides&&!o.variants?Fp(o,i):i}function lA({props:n,name:e}){const t=U.useContext(oA);return aA({props:n,name:e,theme:{components:t}})}const y_={theme:void 0};function uA(n){let e,t;return function(o){let a=e;return(a===void 0||o.theme!==t)&&(y_.theme=o.theme,a=Ew(n(y_)),e=a,t=o.theme),a}}function cA(n=""){function e(...i){if(!i.length)return"";const o=i[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${o}${e(...i.slice(1))})`:`, ${o}`}return(i,...o)=>`var(--${n?`${n}-`:""}${i}${e(...o)})`}const v_=(n,e,t,i=[])=>{let o=n;e.forEach((a,u)=>{u===e.length-1?Array.isArray(o)?o[Number(a)]=t:o&&typeof o=="object"&&(o[a]=t):o&&typeof o=="object"&&(o[a]||(o[a]=i.includes(a)?[]:{}),o=o[a])})},hA=(n,e,t)=>{function i(o,a=[],u=[]){Object.entries(o).forEach(([d,f])=>{(!t||t&&!t([...a,d]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?i(f,[...a,d],Array.isArray(f)?[...u,d]:u):e([...a,d],f,u))})}i(n)},dA=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function fp(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},o={},a={},u={};return hA(n,(d,f,m)=>{if((typeof f=="string"||typeof f=="number")&&(!i||!i(d,f))){const v=`--${t?`${t}-`:""}${d.join("-")}`,E=dA(d,f);Object.assign(o,{[v]:E}),v_(a,d,`var(${v})`,m),v_(u,d,`var(${v}, ${E})`,m)}},d=>d[0]==="vars"),{css:o,vars:a,varsWithDefaults:u}}function fA(n,e={}){const{getSelector:t=L,disableCssColorScheme:i,colorSchemeSelector:o}=e,{colorSchemes:a={},components:u,defaultColorScheme:d="light",...f}=n,{vars:m,css:v,varsWithDefaults:E}=fp(f,e);let S=E;const b={},{[d]:D,...N}=a;if(Object.entries(N||{}).forEach(([W,z])=>{const{vars:j,css:Q,varsWithDefaults:P}=fp(z,e);S=qn(S,P),b[W]={css:Q,vars:j}}),D){const{css:W,vars:z,varsWithDefaults:j}=fp(D,e);S=qn(S,j),b[d]={css:W,vars:z}}function L(W,z){var Q,P;let j=o;if(o==="class"&&(j=".%s"),o==="data"&&(j="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(j=`[${o}="%s"]`),W){if(j==="media")return n.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${((P=(Q=a[W])==null?void 0:Q.palette)==null?void 0:P.mode)||W})`]:{":root":z}};if(j)return n.defaultColorScheme===W?`:root, ${j.replace("%s",String(W))}`:j.replace("%s",String(W))}return":root"}return{vars:S,generateThemeVars:()=>{let W={...m};return Object.entries(b).forEach(([,{vars:z}])=>{W=qn(W,z)}),W},generateStyleSheets:()=>{var C,R;const W=[],z=n.defaultColorScheme||"light";function j(_,x){Object.keys(x).length&&W.push(typeof _=="string"?{[_]:{...x}}:_)}j(t(void 0,{...v}),v);const{[z]:Q,...P}=b;if(Q){const{css:_}=Q,x=(R=(C=a[z])==null?void 0:C.palette)==null?void 0:R.mode,V=!i&&x?{colorScheme:x,..._}:{..._};j(t(z,{...V}),V)}return Object.entries(P).forEach(([_,{css:x}])=>{var ve,Pe;const V=(Pe=(ve=a[_])==null?void 0:ve.palette)==null?void 0:Pe.mode,A=!i&&V?{colorScheme:V,...x}:{...x};j(t(_,{...A}),A)}),W}}}function pA(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Pw(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:iu.white,default:iu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mA=Pw();function xw(){return{text:{primary:iu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:iu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const __=xw();function w_(n,e,t,i){const o=i.light||i,a=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=xm(n.main,o):e==="dark"&&(n.dark=Pm(n.main,a)))}function gA(n="light"){return n==="dark"?{main:oa[200],light:oa[50],dark:oa[400]}:{main:oa[700],light:oa[400],dark:oa[800]}}function yA(n="light"){return n==="dark"?{main:sa[200],light:sa[50],dark:sa[400]}:{main:sa[500],light:sa[300],dark:sa[700]}}function vA(n="light"){return n==="dark"?{main:ia[500],light:ia[300],dark:ia[700]}:{main:ia[700],light:ia[400],dark:ia[800]}}function _A(n="light"){return n==="dark"?{main:aa[400],light:aa[300],dark:aa[700]}:{main:aa[700],light:aa[500],dark:aa[900]}}function wA(n="light"){return n==="dark"?{main:la[400],light:la[300],dark:la[700]}:{main:la[800],light:la[500],dark:la[900]}}function EA(n="light"){return n==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:"#ed6c02",light:Ml[500],dark:Ml[900]}}function Nm(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...o}=n,a=n.primary||gA(e),u=n.secondary||yA(e),d=n.error||vA(e),f=n.info||_A(e),m=n.success||wA(e),v=n.warning||EA(e);function E(N){return Wk(N,__.text.primary)>=t?__.text.primary:mA.text.primary}const S=({color:N,name:L,mainShade:K=500,lightShade:Y=300,darkShade:W=700})=>{if(N={...N},!N.main&&N[K]&&(N.main=N[K]),!N.hasOwnProperty("main"))throw new Error(ro(11,L?` (${L})`:"",K));if(typeof N.main!="string")throw new Error(ro(12,L?` (${L})`:"",JSON.stringify(N.main)));return w_(N,"light",Y,i),w_(N,"dark",W,i),N.contrastText||(N.contrastText=E(N.main)),N};let b;return e==="light"?b=Pw():e==="dark"&&(b=xw()),qn({common:{...iu},mode:e,primary:S({color:a,name:"primary"}),secondary:S({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:d,name:"error"}),warning:S({color:v,name:"warning"}),info:S({color:f,name:"info"}),success:S({color:m,name:"success"}),grey:OI,contrastThreshold:t,getContrastText:E,augmentColor:S,tonalOffset:i,...b},o)}function TA(n){const e={};return Object.entries(n).forEach(i=>{const[o,a]=i;typeof a=="object"&&(e[o]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function SA(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function IA(n){return Math.round(n*1e5)/1e5}const E_={textTransform:"uppercase"},T_='"Roboto", "Helvetica", "Arial", sans-serif';function CA(n,e){const{fontFamily:t=T_,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:f=16,allVariants:m,pxToRem:v,...E}=typeof e=="function"?e(n):e,S=i/14,b=v||(L=>`${L/f*S}rem`),D=(L,K,Y,W,z)=>({fontFamily:t,fontWeight:L,fontSize:b(K),lineHeight:Y,...t===T_?{letterSpacing:`${IA(W/K)}em`}:{},...z,...m}),N={h1:D(o,96,1.167,-1.5),h2:D(o,60,1.2,-.5),h3:D(a,48,1.167,0),h4:D(a,34,1.235,.25),h5:D(a,24,1.334,0),h6:D(u,20,1.6,.15),subtitle1:D(a,16,1.75,.15),subtitle2:D(u,14,1.57,.1),body1:D(a,16,1.5,.15),body2:D(a,14,1.43,.15),button:D(u,14,1.75,.4,E_),caption:D(a,12,1.66,.4),overline:D(a,12,2.66,1,E_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qn({htmlFontSize:f,pxToRem:b,fontFamily:t,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:d,...N},E,{clone:!1})}const kA=.2,AA=.14,RA=.12;function ct(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${kA})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${AA})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${RA})`].join(",")}const PA=["none",ct(0,2,1,-1,0,1,1,0,0,1,3,0),ct(0,3,1,-2,0,2,2,0,0,1,5,0),ct(0,3,3,-2,0,3,4,0,0,1,8,0),ct(0,2,4,-1,0,4,5,0,0,1,10,0),ct(0,3,5,-1,0,5,8,0,0,1,14,0),ct(0,3,5,-1,0,6,10,0,0,1,18,0),ct(0,4,5,-2,0,7,10,1,0,2,16,1),ct(0,5,5,-3,0,8,10,1,0,3,14,2),ct(0,5,6,-3,0,9,12,1,0,3,16,2),ct(0,6,6,-3,0,10,14,1,0,4,18,3),ct(0,6,7,-4,0,11,15,1,0,4,20,3),ct(0,7,8,-4,0,12,17,2,0,5,22,4),ct(0,7,8,-4,0,13,19,2,0,5,24,4),ct(0,7,9,-4,0,14,21,2,0,5,26,4),ct(0,8,9,-5,0,15,22,2,0,6,28,5),ct(0,8,10,-5,0,16,24,2,0,6,30,5),ct(0,8,11,-5,0,17,26,2,0,6,32,5),ct(0,9,11,-5,0,18,28,2,0,7,34,6),ct(0,9,12,-6,0,19,29,2,0,7,36,6),ct(0,10,13,-6,0,20,31,3,0,8,38,7),ct(0,10,13,-6,0,21,33,3,0,8,40,7),ct(0,10,14,-6,0,22,35,3,0,8,42,7),ct(0,11,14,-7,0,23,36,3,0,9,44,8),ct(0,11,15,-7,0,24,38,3,0,9,46,8)],xA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function S_(n){return`${Math.round(n)}ms`}function NA(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function OA(n){const e={...xA,...n.easing},t={...bA,...n.duration};return{getAutoHeightDuration:NA,create:(o=["all"],a={})=>{const{duration:u=t.standard,easing:d=e.easeInOut,delay:f=0,...m}=a;return(Array.isArray(o)?o:[o]).map(v=>`${v} ${typeof u=="string"?u:S_(u)} ${d} ${typeof f=="string"?f:S_(f)}`).join(",")},...n,easing:e,duration:t}}const DA={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LA(n){return mi(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function bw(n={}){const e={...n};function t(i){const o=Object.entries(i);for(let a=0;a<o.length;a++){const[u,d]=o[a];!LA(d)||u.startsWith("unstable_")?delete i[u]:mi(d)&&(i[u]={...d},t(i[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function jp(n={},...e){const{breakpoints:t,mixins:i={},spacing:o,palette:a={},transitions:u={},typography:d={},shape:f,...m}=n;if(n.vars)throw new Error(ro(20));const v=Nm(a),E=_w(n);let S=qn(E,{mixins:SA(E.breakpoints,i),palette:v,shadows:PA.slice(),typography:CA(v,d),transitions:OA(u),zIndex:{...DA}});return S=qn(S,m),S=e.reduce((b,D)=>qn(b,D),S),S.unstable_sxConfig={...id,...m==null?void 0:m.unstable_sxConfig},S.unstable_sx=function(D){return Ia({sx:D,theme:this})},S.toRuntimeSource=bw,S}function VA(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const MA=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=VA(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Nw(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Ow(n){return n==="dark"?MA:[]}function FA(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...o}=n,a=Nm(e);return{palette:a,opacity:{...Nw(a.mode),...t},overlays:i||Ow(a.mode),...o}}function BA(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const jA=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],UA=n=>(e,t)=>{const i=n.rootSelector||":root",o=n.colorSchemeSelector;let a=o;if(o==="class"&&(a=".%s"),o==="data"&&(a="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(a=`[${o}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return jA(n.cssVarPrefix).forEach(d=>{u[d]=t[d],delete t[d]}),a==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:u}}:a?{[a.replace("%s",e)]:u,[`${i}, ${a.replace("%s",e)}`]:t}:{[i]:{...t,...u}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(a)return a.replace("%s",String(e))}return i};function $A(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function J(n,e,t){!n[e]&&t&&(n[e]=t)}function Hl(n){return!n||!n.startsWith("hsl")?n:Iw(n)}function fi(n,e){`${e}Channel`in n||(n[`${e}Channel`]=zl(Hl(n[e])))}function zA(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Mr=n=>{try{return n()}catch{}},HA=(n="mui")=>cA(n);function pp(n,e,t,i){if(!e)return;e=e===!0?{}:e;const o=i==="dark"?"dark":"light";if(!t){n[i]=FA({...e,palette:{mode:o,...e==null?void 0:e.palette}});return}const{palette:a,...u}=jp({...t,palette:{mode:o,...e==null?void 0:e.palette}});return n[i]={...e,palette:a,opacity:{...Nw(o),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Ow(o)},u}function WA(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:o=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:u=BA,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...m}=n,v=Object.keys(t)[0],E=i||(t.light&&v!=="light"?"light":v),S=HA(a),{[E]:b,light:D,dark:N,...L}=t,K={...L};let Y=b;if((E==="dark"&&!("dark"in t)||E==="light"&&!("light"in t))&&(Y=!0),!Y)throw new Error(ro(21,E));const W=pp(K,Y,m,E);D&&!K.light&&pp(K,D,void 0,"light"),N&&!K.dark&&pp(K,N,void 0,"dark");let z={defaultColorScheme:E,...W,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:f,getCssVar:S,colorSchemes:K,font:{...TA(W.typography),...W.font},spacing:zA(m.spacing)};Object.keys(z.colorSchemes).forEach(R=>{const _=z.colorSchemes[R].palette,x=V=>{const A=V.split("-"),ve=A[1],Pe=A[2];return S(V,_[ve][Pe])};if(_.mode==="light"&&(J(_.common,"background","#fff"),J(_.common,"onBackground","#000")),_.mode==="dark"&&(J(_.common,"background","#000"),J(_.common,"onBackground","#fff")),$A(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){J(_.Alert,"errorColor",et(_.error.light,.6)),J(_.Alert,"infoColor",et(_.info.light,.6)),J(_.Alert,"successColor",et(_.success.light,.6)),J(_.Alert,"warningColor",et(_.warning.light,.6)),J(_.Alert,"errorFilledBg",x("palette-error-main")),J(_.Alert,"infoFilledBg",x("palette-info-main")),J(_.Alert,"successFilledBg",x("palette-success-main")),J(_.Alert,"warningFilledBg",x("palette-warning-main")),J(_.Alert,"errorFilledColor",Mr(()=>_.getContrastText(_.error.main))),J(_.Alert,"infoFilledColor",Mr(()=>_.getContrastText(_.info.main))),J(_.Alert,"successFilledColor",Mr(()=>_.getContrastText(_.success.main))),J(_.Alert,"warningFilledColor",Mr(()=>_.getContrastText(_.warning.main))),J(_.Alert,"errorStandardBg",tt(_.error.light,.9)),J(_.Alert,"infoStandardBg",tt(_.info.light,.9)),J(_.Alert,"successStandardBg",tt(_.success.light,.9)),J(_.Alert,"warningStandardBg",tt(_.warning.light,.9)),J(_.Alert,"errorIconColor",x("palette-error-main")),J(_.Alert,"infoIconColor",x("palette-info-main")),J(_.Alert,"successIconColor",x("palette-success-main")),J(_.Alert,"warningIconColor",x("palette-warning-main")),J(_.AppBar,"defaultBg",x("palette-grey-100")),J(_.Avatar,"defaultBg",x("palette-grey-400")),J(_.Button,"inheritContainedBg",x("palette-grey-300")),J(_.Button,"inheritContainedHoverBg",x("palette-grey-A100")),J(_.Chip,"defaultBorder",x("palette-grey-400")),J(_.Chip,"defaultAvatarColor",x("palette-grey-700")),J(_.Chip,"defaultIconColor",x("palette-grey-700")),J(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),J(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),J(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),J(_.LinearProgress,"primaryBg",tt(_.primary.main,.62)),J(_.LinearProgress,"secondaryBg",tt(_.secondary.main,.62)),J(_.LinearProgress,"errorBg",tt(_.error.main,.62)),J(_.LinearProgress,"infoBg",tt(_.info.main,.62)),J(_.LinearProgress,"successBg",tt(_.success.main,.62)),J(_.LinearProgress,"warningBg",tt(_.warning.main,.62)),J(_.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),J(_.Slider,"primaryTrack",tt(_.primary.main,.62)),J(_.Slider,"secondaryTrack",tt(_.secondary.main,.62)),J(_.Slider,"errorTrack",tt(_.error.main,.62)),J(_.Slider,"infoTrack",tt(_.info.main,.62)),J(_.Slider,"successTrack",tt(_.success.main,.62)),J(_.Slider,"warningTrack",tt(_.warning.main,.62));const V=Kc(_.background.default,.8);J(_.SnackbarContent,"bg",V),J(_.SnackbarContent,"color",Mr(()=>_.getContrastText(V))),J(_.SpeedDialAction,"fabHoverBg",Kc(_.background.paper,.15)),J(_.StepConnector,"border",x("palette-grey-400")),J(_.StepContent,"border",x("palette-grey-400")),J(_.Switch,"defaultColor",x("palette-common-white")),J(_.Switch,"defaultDisabledColor",x("palette-grey-100")),J(_.Switch,"primaryDisabledColor",tt(_.primary.main,.62)),J(_.Switch,"secondaryDisabledColor",tt(_.secondary.main,.62)),J(_.Switch,"errorDisabledColor",tt(_.error.main,.62)),J(_.Switch,"infoDisabledColor",tt(_.info.main,.62)),J(_.Switch,"successDisabledColor",tt(_.success.main,.62)),J(_.Switch,"warningDisabledColor",tt(_.warning.main,.62)),J(_.TableCell,"border",tt(qc(_.divider,1),.88)),J(_.Tooltip,"bg",qc(_.grey[700],.92))}if(_.mode==="dark"){J(_.Alert,"errorColor",tt(_.error.light,.6)),J(_.Alert,"infoColor",tt(_.info.light,.6)),J(_.Alert,"successColor",tt(_.success.light,.6)),J(_.Alert,"warningColor",tt(_.warning.light,.6)),J(_.Alert,"errorFilledBg",x("palette-error-dark")),J(_.Alert,"infoFilledBg",x("palette-info-dark")),J(_.Alert,"successFilledBg",x("palette-success-dark")),J(_.Alert,"warningFilledBg",x("palette-warning-dark")),J(_.Alert,"errorFilledColor",Mr(()=>_.getContrastText(_.error.dark))),J(_.Alert,"infoFilledColor",Mr(()=>_.getContrastText(_.info.dark))),J(_.Alert,"successFilledColor",Mr(()=>_.getContrastText(_.success.dark))),J(_.Alert,"warningFilledColor",Mr(()=>_.getContrastText(_.warning.dark))),J(_.Alert,"errorStandardBg",et(_.error.light,.9)),J(_.Alert,"infoStandardBg",et(_.info.light,.9)),J(_.Alert,"successStandardBg",et(_.success.light,.9)),J(_.Alert,"warningStandardBg",et(_.warning.light,.9)),J(_.Alert,"errorIconColor",x("palette-error-main")),J(_.Alert,"infoIconColor",x("palette-info-main")),J(_.Alert,"successIconColor",x("palette-success-main")),J(_.Alert,"warningIconColor",x("palette-warning-main")),J(_.AppBar,"defaultBg",x("palette-grey-900")),J(_.AppBar,"darkBg",x("palette-background-paper")),J(_.AppBar,"darkColor",x("palette-text-primary")),J(_.Avatar,"defaultBg",x("palette-grey-600")),J(_.Button,"inheritContainedBg",x("palette-grey-800")),J(_.Button,"inheritContainedHoverBg",x("palette-grey-700")),J(_.Chip,"defaultBorder",x("palette-grey-700")),J(_.Chip,"defaultAvatarColor",x("palette-grey-300")),J(_.Chip,"defaultIconColor",x("palette-grey-300")),J(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),J(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),J(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),J(_.LinearProgress,"primaryBg",et(_.primary.main,.5)),J(_.LinearProgress,"secondaryBg",et(_.secondary.main,.5)),J(_.LinearProgress,"errorBg",et(_.error.main,.5)),J(_.LinearProgress,"infoBg",et(_.info.main,.5)),J(_.LinearProgress,"successBg",et(_.success.main,.5)),J(_.LinearProgress,"warningBg",et(_.warning.main,.5)),J(_.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),J(_.Slider,"primaryTrack",et(_.primary.main,.5)),J(_.Slider,"secondaryTrack",et(_.secondary.main,.5)),J(_.Slider,"errorTrack",et(_.error.main,.5)),J(_.Slider,"infoTrack",et(_.info.main,.5)),J(_.Slider,"successTrack",et(_.success.main,.5)),J(_.Slider,"warningTrack",et(_.warning.main,.5));const V=Kc(_.background.default,.98);J(_.SnackbarContent,"bg",V),J(_.SnackbarContent,"color",Mr(()=>_.getContrastText(V))),J(_.SpeedDialAction,"fabHoverBg",Kc(_.background.paper,.15)),J(_.StepConnector,"border",x("palette-grey-600")),J(_.StepContent,"border",x("palette-grey-600")),J(_.Switch,"defaultColor",x("palette-grey-300")),J(_.Switch,"defaultDisabledColor",x("palette-grey-600")),J(_.Switch,"primaryDisabledColor",et(_.primary.main,.55)),J(_.Switch,"secondaryDisabledColor",et(_.secondary.main,.55)),J(_.Switch,"errorDisabledColor",et(_.error.main,.55)),J(_.Switch,"infoDisabledColor",et(_.info.main,.55)),J(_.Switch,"successDisabledColor",et(_.success.main,.55)),J(_.Switch,"warningDisabledColor",et(_.warning.main,.55)),J(_.TableCell,"border",et(qc(_.divider,1),.68)),J(_.Tooltip,"bg",qc(_.grey[700],.92))}fi(_.background,"default"),fi(_.background,"paper"),fi(_.common,"background"),fi(_.common,"onBackground"),fi(_,"divider"),Object.keys(_).forEach(V=>{const A=_[V];A&&typeof A=="object"&&(A.main&&J(_[V],"mainChannel",zl(Hl(A.main))),A.light&&J(_[V],"lightChannel",zl(Hl(A.light))),A.dark&&J(_[V],"darkChannel",zl(Hl(A.dark))),A.contrastText&&J(_[V],"contrastTextChannel",zl(Hl(A.contrastText))),V==="text"&&(fi(_[V],"primary"),fi(_[V],"secondary")),V==="action"&&(A.active&&fi(_[V],"active"),A.selected&&fi(_[V],"selected")))})}),z=e.reduce((R,_)=>qn(R,_),z);const j={prefix:a,disableCssColorScheme:o,shouldSkipGeneratingVar:u,getSelector:UA(z)},{vars:Q,generateThemeVars:P,generateStyleSheets:C}=fA(z,j);return z.vars=Q,Object.entries(z.colorSchemes[z.defaultColorScheme]).forEach(([R,_])=>{z[R]=_}),z.generateThemeVars=P,z.generateStyleSheets=C,z.generateSpacing=function(){return vw(m.spacing,km(this))},z.getColorSchemeSelector=pA(d),z.spacing=z.generateSpacing(),z.shouldSkipGeneratingVar=u,z.unstable_sxConfig={...id,...m==null?void 0:m.unstable_sxConfig},z.unstable_sx=function(_){return Ia({sx:_,theme:this})},z.toRuntimeSource=bw,z}function I_(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Nm({...t===!0?{}:t.palette,mode:e})})}function qA(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:o=t?void 0:{light:!0},defaultColorScheme:a=t==null?void 0:t.mode,...u}=n,d=a||"light",f=o==null?void 0:o[d],m={...o,...t?{[d]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return jp(n,...e);let v=t;"palette"in n||m[d]&&(m[d]!==!0?v=m[d].palette:d==="dark"&&(v={mode:"dark"}));const E=jp({...n,palette:v},...e);return E.defaultColorScheme=d,E.colorSchemes=m,E.palette.mode==="light"&&(E.colorSchemes.light={...m.light!==!0&&m.light,palette:E.palette},I_(E,"dark",m.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:E.palette},I_(E,"light",m.light)),E}return!t&&!("light"in m)&&d==="light"&&(m.light=!0),WA({...u,colorSchemes:m,defaultColorScheme:d,...typeof i!="boolean"&&i},...e)}const KA=qA();function Dw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const GA=n=>Dw(n)&&n!=="classes",dn=Mk({themeId:DI,defaultTheme:KA,rootShouldForwardProp:GA}),ys=uA;function co(n){return lA(n)}function QA(n){return lo("MuiSvgIcon",n)}uo("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const YA=n=>{const{color:e,fontSize:t,classes:i}=n,o={root:["root",e!=="inherit"&&`color${Ut(e)}`,`fontSize${Ut(t)}`]};return Ma(o,QA,i)},XA=dn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ut(t.color)}`],e[`fontSize${Ut(t.fontSize)}`]]}})(ys(({theme:n})=>{var e,t,i,o,a,u,d,f,m,v,E,S,b,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=n.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:N=>!N.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:u.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:f.call(d,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((v=(m=n.typography)==null?void 0:m.pxToRem)==null?void 0:v.call(m,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,N])=>N&&N.main).map(([N])=>{var L,K;return{props:{color:N},style:{color:(K=(L=(n.vars??n).palette)==null?void 0:L[N])==null?void 0:K.main}}}),{props:{color:"action"},style:{color:(S=(E=(n.vars??n).palette)==null?void 0:E.action)==null?void 0:S.active}},{props:{color:"disabled"},style:{color:(D=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:D.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Th=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiSvgIcon"}),{children:o,className:a,color:u="inherit",component:d="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:v=!1,titleAccess:E,viewBox:S="0 0 24 24",...b}=i,D=U.isValidElement(o)&&o.type==="svg",N={...i,color:u,component:d,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:S,hasSvgAsChild:D},L={};v||(L.viewBox=S);const K=YA(N);return k.jsxs(XA,{as:d,className:St(K.root,a),focusable:"false",color:m,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:t,...L,...b,...D&&o.props,ownerState:N,children:[D?o.props.children:o,E?k.jsx("title",{children:E}):null]})});Th&&(Th.muiName="SvgIcon");function Fa(n,e){function t(i,o){return k.jsx(Th,{"data-testid":`${e}Icon`,ref:o,...i,children:n})}return t.muiName=Th.muiName,U.memo(U.forwardRef(t))}function JA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function Up(n,e){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Up(n,e)}function ZA(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Up(n,e)}const C_=xn.createContext(null);function eR(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Om(n,e){var t=function(a){return e&&U.isValidElement(a)?e(a):a},i=Object.create(null);return n&&U.Children.map(n,function(o){return o}).forEach(function(o){i[o.key]=t(o)}),i}function tR(n,e){n=n||{},e=e||{};function t(v){return v in e?e[v]:n[v]}var i=Object.create(null),o=[];for(var a in n)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var u,d={};for(var f in e){if(i[f])for(u=0;u<i[f].length;u++){var m=i[f][u];d[i[f][u]]=t(m)}d[f]=t(f)}for(u=0;u<o.length;u++)d[o[u]]=t(o[u]);return d}function Js(n,e,t){return t[e]!=null?t[e]:n.props[e]}function nR(n,e){return Om(n.children,function(t){return U.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Js(t,"appear",n),enter:Js(t,"enter",n),exit:Js(t,"exit",n)})})}function rR(n,e,t){var i=Om(n.children),o=tR(e,i);return Object.keys(o).forEach(function(a){var u=o[a];if(U.isValidElement(u)){var d=a in e,f=a in i,m=e[a],v=U.isValidElement(m)&&!m.props.in;f&&(!d||v)?o[a]=U.cloneElement(u,{onExited:t.bind(null,u),in:!0,exit:Js(u,"exit",n),enter:Js(u,"enter",n)}):!f&&d&&!v?o[a]=U.cloneElement(u,{in:!1}):f&&d&&U.isValidElement(m)&&(o[a]=U.cloneElement(u,{onExited:t.bind(null,u),in:m.props.in,exit:Js(u,"exit",n),enter:Js(u,"enter",n)}))}}),o}var iR=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},sR={component:"div",childFactory:function(e){return e}},Dm=function(n){ZA(e,n);function e(i,o){var a;a=n.call(this,i,o)||this;var u=a.handleExited.bind(eR(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var u=a.children,d=a.handleExited,f=a.firstRender;return{children:f?nR(o,d):rR(o,u,d),firstRender:!1}},t.handleExited=function(o,a){var u=Om(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(d){var f=yh({},d.children);return delete f[o.key],{children:f}}))},t.render=function(){var o=this.props,a=o.component,u=o.childFactory,d=JA(o,["component","childFactory"]),f=this.state.contextValue,m=iR(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,a===null?xn.createElement(C_.Provider,{value:f},m):xn.createElement(C_.Provider,{value:f},xn.createElement(a,d,m))},e}(xn.Component);Dm.propTypes={};Dm.defaultProps=sR;function Qc(n,e){const{className:t,elementType:i,ownerState:o,externalForwardedProps:a,getSlotOwnerState:u,internalForwardedProps:d,...f}=e,{component:m,slots:v={[n]:void 0},slotProps:E={[n]:void 0},...S}=a,b=v[n]||i,D=iA(E[n],o),{props:{component:N,...L},internalRef:K}=rA({className:t,...f,externalForwardedProps:n==="root"?S:void 0,externalSlotProps:D}),Y=wh(K,D==null?void 0:D.ref,e.ref),W=u?u(L):{},z={...o,...W},j=n==="root"?N||m:N,Q=tA(b,{...n==="root"&&!m&&!v[n]&&d,...n!=="root"&&!v[n]&&d,...L,...j&&{as:j},ref:Y},z);return Object.keys(W).forEach(P=>{delete Q[P]}),[b,Q]}class Sh{constructor(){Ll(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Sh}static use(){const e=Aw(Sh.create).current,[t,i]=U.useState(!1);return e.shouldMount=t,e.setShouldMount=i,U.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=aR(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function oR(){return Sh.use()}function aR(){let n,e;const t=new Promise((i,o)=>{n=i,e=o});return t.resolve=n,t.reject=e,t}function lR(n){const{className:e,classes:t,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:u,in:d,onExited:f,timeout:m}=n,[v,E]=U.useState(!1),S=St(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),b={width:u,height:u,top:-(u/2)+a,left:-(u/2)+o},D=St(t.child,v&&t.childLeaving,i&&t.childPulsate);return!d&&!v&&E(!0),U.useEffect(()=>{if(!d&&f!=null){const N=setTimeout(f,m);return()=>{clearTimeout(N)}}},[f,d,m]),k.jsx("span",{className:S,style:b,children:k.jsx("span",{className:D})})}const ir=uo("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),$p=550,uR=80,cR=yu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,hR=yu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,dR=yu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,fR=dn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pR=dn(lR,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ir.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${cR};
    animation-duration: ${$p}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${ir.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${ir.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ir.childLeaving} {
    opacity: 0;
    animation-name: ${hR};
    animation-duration: ${$p}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${ir.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${dR};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,mR=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:u,...d}=i,[f,m]=U.useState([]),v=U.useRef(0),E=U.useRef(null);U.useEffect(()=>{E.current&&(E.current(),E.current=null)},[f]);const S=U.useRef(!1),b=Jk(),D=U.useRef(null),N=U.useRef(null),L=U.useCallback(z=>{const{pulsate:j,rippleX:Q,rippleY:P,rippleSize:C,cb:R}=z;m(_=>[..._,k.jsx(pR,{classes:{ripple:St(a.ripple,ir.ripple),rippleVisible:St(a.rippleVisible,ir.rippleVisible),ripplePulsate:St(a.ripplePulsate,ir.ripplePulsate),child:St(a.child,ir.child),childLeaving:St(a.childLeaving,ir.childLeaving),childPulsate:St(a.childPulsate,ir.childPulsate)},timeout:$p,pulsate:j,rippleX:Q,rippleY:P,rippleSize:C},v.current)]),v.current+=1,E.current=R},[a]),K=U.useCallback((z={},j={},Q=()=>{})=>{const{pulsate:P=!1,center:C=o||j.pulsate,fakeElement:R=!1}=j;if((z==null?void 0:z.type)==="mousedown"&&S.current){S.current=!1;return}(z==null?void 0:z.type)==="touchstart"&&(S.current=!0);const _=R?null:N.current,x=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,A,ve;if(C||z===void 0||z.clientX===0&&z.clientY===0||!z.clientX&&!z.touches)V=Math.round(x.width/2),A=Math.round(x.height/2);else{const{clientX:Pe,clientY:be}=z.touches&&z.touches.length>0?z.touches[0]:z;V=Math.round(Pe-x.left),A=Math.round(be-x.top)}if(C)ve=Math.sqrt((2*x.width**2+x.height**2)/3),ve%2===0&&(ve+=1);else{const Pe=Math.max(Math.abs((_?_.clientWidth:0)-V),V)*2+2,be=Math.max(Math.abs((_?_.clientHeight:0)-A),A)*2+2;ve=Math.sqrt(Pe**2+be**2)}z!=null&&z.touches?D.current===null&&(D.current=()=>{L({pulsate:P,rippleX:V,rippleY:A,rippleSize:ve,cb:Q})},b.start(uR,()=>{D.current&&(D.current(),D.current=null)})):L({pulsate:P,rippleX:V,rippleY:A,rippleSize:ve,cb:Q})},[o,L,b]),Y=U.useCallback(()=>{K({},{pulsate:!0})},[K]),W=U.useCallback((z,j)=>{if(b.clear(),(z==null?void 0:z.type)==="touchend"&&D.current){D.current(),D.current=null,b.start(0,()=>{W(z,j)});return}D.current=null,m(Q=>Q.length>0?Q.slice(1):Q),E.current=j},[b]);return U.useImperativeHandle(t,()=>({pulsate:Y,start:K,stop:W}),[Y,K,W]),k.jsx(fR,{className:St(ir.root,a.root,u),ref:N,...d,children:k.jsx(Dm,{component:null,exit:!0,children:f})})});function gR(n){return lo("MuiButtonBase",n)}const yR=uo("MuiButtonBase",["root","disabled","focusVisible"]),vR=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:o}=n,u=Ma({root:["root",e&&"disabled",t&&"focusVisible"]},gR,o);return t&&i&&(u.root+=` ${i}`),u},_R=dn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yR.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wR=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:u,className:d,component:f="button",disabled:m=!1,disableRipple:v=!1,disableTouchRipple:E=!1,focusRipple:S=!1,focusVisibleClassName:b,LinkComponent:D="a",onBlur:N,onClick:L,onContextMenu:K,onDragLeave:Y,onFocus:W,onFocusVisible:z,onKeyDown:j,onKeyUp:Q,onMouseDown:P,onMouseLeave:C,onMouseUp:R,onTouchEnd:_,onTouchMove:x,onTouchStart:V,tabIndex:A=0,TouchRippleProps:ve,touchRippleRef:Pe,type:be,...Ne}=i,se=U.useRef(null),he=oR(),le=wh(he.ref,Pe),[B,Z]=U.useState(!1);m&&B&&Z(!1),U.useImperativeHandle(o,()=>({focusVisible:()=>{Z(!0),se.current.focus()}}),[]);const me=he.shouldMount&&!v&&!m;U.useEffect(()=>{B&&S&&!v&&he.pulsate()},[v,S,B,he]);function Te(Se,Xr,Es=E){return Gc(gt=>(Xr&&Xr(gt),Es||he[Se](gt),!0))}const xe=Te("start",P),Oe=Te("stop",K),Fe=Te("stop",Y),Le=Te("stop",R),je=Te("stop",Se=>{B&&Se.preventDefault(),C&&C(Se)}),Xe=Te("start",V),Ue=Te("stop",_),st=Te("stop",x),mt=Te("stop",Se=>{Eh(Se.target)||Z(!1),N&&N(Se)},!1),vn=Gc(Se=>{se.current||(se.current=Se.currentTarget),Eh(Se.target)&&(Z(!0),z&&z(Se)),W&&W(Se)}),Ht=()=>{const Se=se.current;return f&&f!=="button"&&!(Se.tagName==="A"&&Se.href)},_n=Gc(Se=>{S&&!Se.repeat&&B&&Se.key===" "&&he.stop(Se,()=>{he.start(Se)}),Se.target===Se.currentTarget&&Ht()&&Se.key===" "&&Se.preventDefault(),j&&j(Se),Se.target===Se.currentTarget&&Ht()&&Se.key==="Enter"&&!m&&(Se.preventDefault(),L&&L(Se))}),Wt=Gc(Se=>{S&&Se.key===" "&&B&&!Se.defaultPrevented&&he.stop(Se,()=>{he.pulsate(Se)}),Q&&Q(Se),L&&Se.target===Se.currentTarget&&Ht()&&Se.key===" "&&!Se.defaultPrevented&&L(Se)});let qt=f;qt==="button"&&(Ne.href||Ne.to)&&(qt=D);const tn={};qt==="button"?(tn.type=be===void 0?"button":be,tn.disabled=m):(!Ne.href&&!Ne.to&&(tn.role="button"),m&&(tn["aria-disabled"]=m));const lr=wh(t,se),Kn={...i,centerRipple:a,component:f,disabled:m,disableRipple:v,disableTouchRipple:E,focusRipple:S,tabIndex:A,focusVisible:B},ws=vR(Kn);return k.jsxs(_R,{as:qt,className:St(ws.root,d),ownerState:Kn,onBlur:mt,onClick:L,onContextMenu:Oe,onFocus:vn,onKeyDown:_n,onKeyUp:Wt,onMouseDown:xe,onMouseLeave:je,onMouseUp:Le,onDragLeave:Fe,onTouchEnd:Ue,onTouchMove:st,onTouchStart:Xe,ref:lr,tabIndex:m?-1:A,type:be,...tn,...Ne,children:[u,me?k.jsx(mR,{ref:le,center:a,...ve}):null]})});function ER(n){return typeof n.main=="string"}function TR(n,e=[]){if(!ER(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function zp(n=[]){return([,e])=>e&&TR(e,n)}function SR(n){return lo("MuiCircularProgress",n)}uo("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ji=44,Hp=yu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Wp=yu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,IR=typeof Hp!="string"?Sm`
        animation: ${Hp} 1.4s linear infinite;
      `:null,CR=typeof Wp!="string"?Sm`
        animation: ${Wp} 1.4s ease-in-out infinite;
      `:null,kR=n=>{const{classes:e,variant:t,color:i,disableShrink:o}=n,a={root:["root",t,`color${Ut(i)}`],svg:["svg"],circle:["circle",`circle${Ut(t)}`,o&&"circleDisableShrink"]};return Ma(a,SR,e)},AR=dn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Ut(t.color)}`]]}})(ys(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:IR||{animation:`${Hp} 1.4s linear infinite`}},...Object.entries(n.palette).filter(zp()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),RR=dn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),PR=dn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Ut(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ys(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:CR||{animation:`${Wp} 1.4s ease-in-out infinite`}}]}))),Lm=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiCircularProgress"}),{className:o,color:a="primary",disableShrink:u=!1,size:d=40,style:f,thickness:m=3.6,value:v=0,variant:E="indeterminate",...S}=i,b={...i,color:a,disableShrink:u,size:d,thickness:m,value:v,variant:E},D=kR(b),N={},L={},K={};if(E==="determinate"){const Y=2*Math.PI*((Ji-m)/2);N.strokeDasharray=Y.toFixed(3),K["aria-valuenow"]=Math.round(v),N.strokeDashoffset=`${((100-v)/100*Y).toFixed(3)}px`,L.transform="rotate(-90deg)"}return k.jsx(AR,{className:St(D.root,o),style:{width:d,height:d,...L,...f},ownerState:b,ref:t,role:"progressbar",...K,...S,children:k.jsx(RR,{className:D.svg,ownerState:b,viewBox:`${Ji/2} ${Ji/2} ${Ji} ${Ji}`,children:k.jsx(PR,{className:D.circle,style:N,ownerState:b,cx:Ji,cy:Ji,r:(Ji-m)/2,fill:"none",strokeWidth:m})})})});function xR(n){return lo("MuiPagination",n)}uo("MuiPagination",["root","ul","outlined","text"]);function bR(n={}){const{boundaryCount:e=1,componentName:t="usePagination",count:i=1,defaultPage:o=1,disabled:a=!1,hideNextButton:u=!1,hidePrevButton:d=!1,onChange:f,page:m,showFirstButton:v=!1,showLastButton:E=!1,siblingCount:S=1,...b}=n,[D,N]=kw({controlled:m,default:o,name:t,state:"page"}),L=(R,_)=>{m||N(_),f&&f(R,_)},K=(R,_)=>{const x=_-R+1;return Array.from({length:x},(V,A)=>R+A)},Y=K(1,Math.min(e,i)),W=K(Math.max(i-e+1,e+1),i),z=Math.max(Math.min(D-S,i-e-S*2-1),e+2),j=Math.min(Math.max(D+S,e+S*2+2),i-e-1),Q=[...v?["first"]:[],...d?[]:["previous"],...Y,...z>e+2?["start-ellipsis"]:e+1<i-e?[e+1]:[],...K(z,j),...j<i-e-1?["end-ellipsis"]:i-e>e?[i-e]:[],...W,...u?[]:["next"],...E?["last"]:[]],P=R=>{switch(R){case"first":return 1;case"previous":return D-1;case"next":return D+1;case"last":return i;default:return null}};return{items:Q.map(R=>typeof R=="number"?{onClick:_=>{L(_,R)},type:"page",page:R,selected:R===D,disabled:a,"aria-current":R===D?"true":void 0}:{onClick:_=>{L(_,P(R))},type:R,page:P(R),selected:!1,disabled:a||!R.includes("ellipsis")&&(R==="next"||R==="last"?D>=i:D<=1)}),...b}}function NR(n){return lo("MuiPaginationItem",n)}const yn=uo("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),OR=Fa(k.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),DR=Fa(k.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),LR=Fa(k.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),VR=Fa(k.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Lw=(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Ut(t.size)}`],t.variant==="text"&&e[`text${Ut(t.color)}`],t.variant==="outlined"&&e[`outlined${Ut(t.color)}`],t.shape==="rounded"&&e.rounded,t.type==="page"&&e.page,(t.type==="start-ellipsis"||t.type==="end-ellipsis")&&e.ellipsis,(t.type==="previous"||t.type==="next")&&e.previousNext,(t.type==="first"||t.type==="last")&&e.firstLast]},MR=n=>{const{classes:e,color:t,disabled:i,selected:o,size:a,shape:u,type:d,variant:f}=n,m={root:["root",`size${Ut(a)}`,f,u,t!=="standard"&&`color${Ut(t)}`,t!=="standard"&&`${f}${Ut(t)}`,i&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[d]],icon:["icon"]};return Ma(m,NR,e)},FR=dn("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Lw})(ys(({theme:n})=>({...n.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(n.vars||n).palette.text.primary,height:"auto",[`&.${yn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:n.typography.pxToRem(15)}}]}))),BR=dn(wR,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Lw})(ys(({theme:n})=>({...n.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(n.vars||n).palette.text.primary,[`&.${yn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${yn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},transition:n.transitions.create(["color","background-color"],{duration:n.transitions.duration.short}),"&:hover":{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yn.selected}`]:{backgroundColor:(n.vars||n).palette.action.selected,"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Ys(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${yn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Ys(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},[`&.${yn.disabled}`]:{opacity:1,color:(n.vars||n).palette.action.disabled,backgroundColor:(n.vars||n).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:n.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"outlined"},style:{border:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${yn.selected}`]:{[`&.${yn.disabled}`]:{borderColor:(n.vars||n).palette.action.disabledBackground,color:(n.vars||n).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${yn.selected}`]:{[`&.${yn.disabled}`]:{color:(n.vars||n).palette.action.disabled}}}},...Object.entries(n.palette).filter(zp(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${yn.selected}`]:{color:(n.vars||n).palette[e].contrastText,backgroundColor:(n.vars||n).palette[e].main,"&:hover":{backgroundColor:(n.vars||n).palette[e].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e].main}},[`&.${yn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[e].dark},[`&.${yn.disabled}`]:{color:(n.vars||n).palette.action.disabled}}}})),...Object.entries(n.palette).filter(zp(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${yn.selected}`]:{color:(n.vars||n).palette[e].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.5)`:Ys(n.palette[e].main,.5)}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.activatedOpacity})`:Ys(n.palette[e].main,n.palette.action.activatedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.activatedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Ys(n.palette[e].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.activatedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Ys(n.palette[e].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity)}}}}))]}))),jR=dn("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(n,e)=>e.icon})(ys(({theme:n})=>({fontSize:n.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(22)}}]}))),UR=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiPaginationItem"}),{className:o,color:a="standard",component:u,components:d={},disabled:f=!1,page:m,selected:v=!1,shape:E="circular",size:S="medium",slots:b={},slotProps:D={},type:N="page",variant:L="text",...K}=i,Y={...i,color:a,disabled:f,selected:v,shape:E,size:S,type:N,variant:L},W=Rw(),z=MR(Y),j={slots:{previous:b.previous??d.previous,next:b.next??d.next,first:b.first??d.first,last:b.last??d.last},slotProps:D},[Q,P]=Qc("previous",{elementType:LR,externalForwardedProps:j,ownerState:Y}),[C,R]=Qc("next",{elementType:VR,externalForwardedProps:j,ownerState:Y}),[_,x]=Qc("first",{elementType:OR,externalForwardedProps:j,ownerState:Y}),[V,A]=Qc("last",{elementType:DR,externalForwardedProps:j,ownerState:Y}),ve=W?{previous:"next",next:"previous",first:"last",last:"first"}[N]:N,Pe={previous:Q,next:C,first:_,last:V}[ve],be={previous:P,next:R,first:x,last:A}[ve];return N==="start-ellipsis"||N==="end-ellipsis"?k.jsx(FR,{ref:t,ownerState:Y,className:St(z.root,o),children:"…"}):k.jsxs(BR,{ref:t,ownerState:Y,component:u,disabled:f,className:St(z.root,o),...K,children:[N==="page"&&m,Pe?k.jsx(jR,{...be,className:z.icon,as:Pe}):null]})}),$R=n=>{const{classes:e,variant:t}=n;return Ma({root:["root",t],ul:["ul"]},xR,e)},zR=dn("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant]]}})({}),HR=dn("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(n,e)=>e.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function WR(n,e,t){return n==="page"?`${t?"":"Go to "}page ${e}`:`Go to ${n} page`}const qR=U.forwardRef(function(e,t){const i=co({props:e,name:"MuiPagination"}),{boundaryCount:o=1,className:a,color:u="standard",count:d=1,defaultPage:f=1,disabled:m=!1,getItemAriaLabel:v=WR,hideNextButton:E=!1,hidePrevButton:S=!1,onChange:b,page:D,renderItem:N=_=>k.jsx(UR,{..._}),shape:L="circular",showFirstButton:K=!1,showLastButton:Y=!1,siblingCount:W=1,size:z="medium",variant:j="text",...Q}=i,{items:P}=bR({...i,componentName:"Pagination"}),C={...i,boundaryCount:o,color:u,count:d,defaultPage:f,disabled:m,getItemAriaLabel:v,hideNextButton:E,hidePrevButton:S,renderItem:N,shape:L,showFirstButton:K,showLastButton:Y,siblingCount:W,size:z,variant:j},R=$R(C);return k.jsx(zR,{"aria-label":"pagination navigation",className:St(R.root,a),ownerState:C,ref:t,...Q,children:k.jsx(HR,{className:R.ul,ownerState:C,children:P.map((_,x)=>k.jsx("li",{children:N({..._,color:u,"aria-label":v(_.type,_.page,_.selected),shape:L,size:z,variant:j})},x))})})}),KR=Fa(k.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),GR=Fa(k.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function QR(n){return lo("MuiRating",n)}const Bl=uo("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function YR(n){const e=n.toString().split(".")[1];return e?e.length:0}function mp(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(YR(e)))}const XR=n=>{const{classes:e,size:t,readOnly:i,disabled:o,emptyValueFocused:a,focusVisible:u}=n,d={root:["root",`size${Ut(t)}`,o&&"disabled",u&&"focusVisible",i&&"readOnly"],label:["label","pristine"],labelEmptyValue:[a&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ma(d,QR,e)},JR=dn("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bl.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ut(t.size)}`],t.readOnly&&e.readOnly]}})(ys(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Bl.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Bl.focusVisible} .${Bl.iconActive}`]:{outline:"1px solid #999"},[`& .${Bl.visuallyHidden}`]:Zk,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Vw=dn("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),ZR=dn("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(ys(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),eP=dn("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Dw(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function tP(n){const{value:e,...t}=n;return k.jsx("span",{...t})}function k_(n){const{classes:e,disabled:t,emptyIcon:i,focus:o,getLabelText:a,highlightSelectedOnly:u,hover:d,icon:f,IconContainerComponent:m,isActive:v,itemValue:E,labelProps:S,name:b,onBlur:D,onChange:N,onClick:L,onFocus:K,readOnly:Y,ownerState:W,ratingValue:z,ratingValueRounded:j}=n,Q=u?E===z:E<=z,P=E<=d,C=E<=o,R=E===j,_=`${b}-${Cw()}`,x=k.jsx(ZR,{as:m,value:E,className:St(e.icon,Q?e.iconFilled:e.iconEmpty,P&&e.iconHover,C&&e.iconFocus,v&&e.iconActive),ownerState:{...W,iconEmpty:!Q,iconFilled:Q,iconHover:P,iconFocus:C,iconActive:v},children:i&&!Q?i:f});return Y?k.jsx("span",{...S,children:x}):k.jsxs(U.Fragment,{children:[k.jsxs(Vw,{ownerState:{...W,emptyValueFocused:void 0},htmlFor:_,...S,children:[x,k.jsx("span",{className:e.visuallyHidden,children:a(E)})]}),k.jsx("input",{className:e.visuallyHidden,onFocus:K,onBlur:D,onChange:N,onClick:L,disabled:t,value:E,id:_,type:"radio",name:b,checked:R})]})}const nP=k.jsx(KR,{fontSize:"inherit"}),rP=k.jsx(GR,{fontSize:"inherit"});function iP(n){return`${n||"0"} Star${n!==1?"s":""}`}const sP=U.forwardRef(function(e,t){const i=co({name:"MuiRating",props:e}),{className:o,defaultValue:a=null,disabled:u=!1,emptyIcon:d=rP,emptyLabelText:f="Empty",getLabelText:m=iP,highlightSelectedOnly:v=!1,icon:E=nP,IconContainerComponent:S=tP,max:b=5,name:D,onChange:N,onChangeActive:L,onMouseLeave:K,onMouseMove:Y,precision:W=1,readOnly:z=!1,size:j="medium",value:Q,...P}=i,C=Cw(D),[R,_]=kw({controlled:Q,default:a,name:"Rating"}),x=mp(R,W),V=Rw(),[{hover:A,focus:ve},Pe]=U.useState({hover:-1,focus:-1});let be=x;A!==-1&&(be=A),ve!==-1&&(be=ve);const[Ne,se]=U.useState(!1),he=U.useRef(),le=wh(he,t),B=Ue=>{Y&&Y(Ue);const st=he.current,{right:mt,left:vn,width:Ht}=st.getBoundingClientRect();let _n;V?_n=(mt-Ue.clientX)/Ht:_n=(Ue.clientX-vn)/Ht;let Wt=mp(b*_n+W/2,W);Wt=Sw(Wt,W,b),Pe(qt=>qt.hover===Wt&&qt.focus===Wt?qt:{hover:Wt,focus:Wt}),se(!1),L&&A!==Wt&&L(Ue,Wt)},Z=Ue=>{K&&K(Ue);const st=-1;Pe({hover:st,focus:st}),L&&A!==st&&L(Ue,st)},me=Ue=>{let st=Ue.target.value===""?null:parseFloat(Ue.target.value);A!==-1&&(st=A),_(st),N&&N(Ue,st)},Te=Ue=>{Ue.clientX===0&&Ue.clientY===0||(Pe({hover:-1,focus:-1}),_(null),N&&parseFloat(Ue.target.value)===x&&N(Ue,null))},xe=Ue=>{Eh(Ue.target)&&se(!0);const st=parseFloat(Ue.target.value);Pe(mt=>({hover:mt.hover,focus:st}))},Oe=Ue=>{if(A!==-1)return;Eh(Ue.target)||se(!1);const st=-1;Pe(mt=>({hover:mt.hover,focus:st}))},[Fe,Le]=U.useState(!1),je={...i,defaultValue:a,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:Fe,focusVisible:Ne,getLabelText:m,icon:E,IconContainerComponent:S,max:b,precision:W,readOnly:z,size:j},Xe=XR(je);return k.jsxs(JR,{ref:le,onMouseMove:B,onMouseLeave:Z,className:St(Xe.root,o,z&&"MuiRating-readOnly"),ownerState:je,role:z?"img":null,"aria-label":z?m(be):null,...P,children:[Array.from(new Array(b)).map((Ue,st)=>{const mt=st+1,vn={classes:Xe,disabled:u,emptyIcon:d,focus:ve,getLabelText:m,highlightSelectedOnly:v,hover:A,icon:E,IconContainerComponent:S,name:C,onBlur:Oe,onChange:me,onClick:Te,onFocus:xe,ratingValue:be,ratingValueRounded:x,readOnly:z,ownerState:je},Ht=mt===Math.ceil(be)&&(A!==-1||ve!==-1);if(W<1){const _n=Array.from(new Array(1/W));return k.jsx(eP,{className:St(Xe.decimal,Ht&&Xe.iconActive),ownerState:je,iconActive:Ht,children:_n.map((Wt,qt)=>{const tn=mp(mt-1+(qt+1)*W,W);return k.jsx(k_,{...vn,isActive:!1,itemValue:tn,labelProps:{style:_n.length-1===qt?{}:{width:tn===be?`${(qt+1)*W*100}%`:"0%",overflow:"hidden",position:"absolute"}}},tn)})},mt)}return k.jsx(k_,{...vn,isActive:Ht,itemValue:mt},mt)}),!z&&!u&&k.jsxs(Vw,{className:St(Xe.label,Xe.labelEmptyValue),ownerState:je,children:[k.jsx("input",{className:Xe.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:x==null,onFocus:()=>Le(!0),onBlur:()=>Le(!1),onChange:me}),k.jsx("span",{className:Xe.visuallyHidden,children:f})]})]})}),oP="/myShelf/assets/shelf2-BW50AK7X.webp",aP=({setCurrentBook:n,setCurrentAuthor:e,bestsellerListIndex:t})=>{const[i,o]=U.useState({fiction:[],nonFiction:[],youngAdult:[],children:[],lifestyle:[]}),[a,u]=U.useState(null),[d,f]=U.useState(!0),m=U.useRef(!1),v=N=>{const L=N.replace(/[A-Z]/g," $&");return L[0].toUpperCase()+L.slice(1),L},E={0:"fiction",1:"nonFiction",25:"youngAdult",17:"children",55:"lifestyle"};U.useEffect(()=>{m.current||(S(),m.current=!0)},[]);const S=async()=>{f(!0);try{const N=await _I.fetchLatestBestsellers();o({fiction:N.topFictionBooks,nonFiction:N.topNonFictionBooks,youngAdult:N.topYoungAdultBooks,children:N.topChildrenBooks,lifestyle:N.topLifestyleBooks}),f(!1),u(null)}catch(N){u("Failed to fetch bestsellers. Please try again later."),console.error("Error fetching books in API: ",N)}},b=E[t],D=i[b]||[];return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:Xi.header,children:[k.jsx("img",{src:oP,alt:""}),k.jsx("h1",{className:Xi.largeTitle,children:"New York Times Bestsellers"}),a&&k.jsx("div",{className:Xi.error,children:a})]}),k.jsxs("div",{className:Xi.contentBody,children:[d?k.jsx(Lm,{color:"inherit",style:{position:"absolute",top:"200px",padding:0}}):k.jsxs("h2",{className:Xi.title,children:[v(b)," bestsellers"]}),k.jsx("div",{className:Xi.bookContainer,children:D.map((N,L)=>k.jsxs("div",{className:Xi.listItemContainer,children:[k.jsxs("h2",{className:Xi.listPosition,children:["#",L+1]}),k.jsx(NI,{book:N,setCurrentBook:n,setCurrentAuthor:e})]},L))})]})]})},lP="_contentBody_15k2q_1",uP="_pagination_15k2q_13",gp={contentBody:lP,pagination:uP};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},cP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let S=(d&15)<<2|m>>6,b=m&63;f||(b=64,u||(S=64)),i.push(t[v],t[E],t[S],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||E==null)throw new hP;const S=a<<2|d>>4;if(i.push(S),m!==64){const b=d<<4&240|m>>2;if(i.push(b),E!==64){const D=m<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class hP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dP=function(n){const e=Mw(n);return Fw.encodeByteArray(e,!0)},Ih=function(n){return dP(n).replace(/\./g,"")},Bw=function(n){try{return Fw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=()=>fP().__FIREBASE_DEFAULTS__,mP=()=>{if(typeof process>"u"||typeof A_>"u")return;const n=A_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Bw(n[1]);return e&&JSON.parse(e)},od=()=>{try{return pP()||mP()||gP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jw=n=>{var e,t;return(t=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yP=n=>{const e=jw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Uw=()=>{var n;return(n=od())===null||n===void 0?void 0:n.config},$w=n=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ih(JSON.stringify(t)),Ih(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function EP(){var n;const e=(n=od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CP(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kP(){return!EP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AP(){try{return typeof indexedDB=="object"}catch{return!1}}function RP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=PP,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?xP(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ki(o,d,i)}}function xP(n,e){return n.replace(bP,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const bP=/\{\$([^}]+)}/g;function NP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ch(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(R_(a)&&R_(u)){if(!Ch(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function R_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function OP(n,e){const t=new DP(n,e);return t.subscribe.bind(t)}class DP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");LP(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new vP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(n){return n===Xs?void 0:n}function FP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new VP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const jP={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},UP=Ve.INFO,$P={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},zP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=$P[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=zP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const HP=(n,e)=>e.some(t=>n instanceof t);let P_,x_;function WP(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,qp=new WeakMap,Hw=new WeakMap,vp=new WeakMap,Mm=new WeakMap;function KP(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(as(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zw.set(t,n)}).catch(()=>{}),Mm.set(e,n),e}function GP(n){if(qp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});qp.set(n,e)}let Kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function QP(n){Kp=n(Kp)}function YP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_p(this),e,...t);return Hw.set(i,e.sort?e.sort():[e]),as(i)}:qP().includes(n)?function(...e){return n.apply(_p(this),e),as(zw.get(this))}:function(...e){return as(n.apply(_p(this),e))}}function XP(n){return typeof n=="function"?YP(n):(n instanceof IDBTransaction&&GP(n),HP(n,WP())?new Proxy(n,Kp):n)}function as(n){if(n instanceof IDBRequest)return KP(n);if(vp.has(n))return vp.get(n);const e=XP(n);return e!==n&&(vp.set(n,e),Mm.set(e,n)),e}const _p=n=>Mm.get(n);function JP(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=as(u);return i&&u.addEventListener("upgradeneeded",f=>{i(as(u.result),f.oldVersion,f.newVersion,as(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const ZP=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],wp=new Map;function b_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=e2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ZP.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return wp.set(e,a),a}QP(n=>({...n,get:(e,t,i)=>b_(e,t)||n.get(e,t,i),has:(e,t)=>!!b_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function n2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",N_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Vm("@firebase/app"),r2="@firebase/app-compat",i2="@firebase/analytics-compat",s2="@firebase/analytics",o2="@firebase/app-check-compat",a2="@firebase/app-check",l2="@firebase/auth",u2="@firebase/auth-compat",c2="@firebase/database",h2="@firebase/data-connect",d2="@firebase/database-compat",f2="@firebase/functions",p2="@firebase/functions-compat",m2="@firebase/installations",g2="@firebase/installations-compat",y2="@firebase/messaging",v2="@firebase/messaging-compat",_2="@firebase/performance",w2="@firebase/performance-compat",E2="@firebase/remote-config",T2="@firebase/remote-config-compat",S2="@firebase/storage",I2="@firebase/storage-compat",C2="@firebase/firestore",k2="@firebase/vertexai",A2="@firebase/firestore-compat",R2="firebase",P2="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",x2={[Gp]:"fire-core",[r2]:"fire-core-compat",[s2]:"fire-analytics",[i2]:"fire-analytics-compat",[a2]:"fire-app-check",[o2]:"fire-app-check-compat",[l2]:"fire-auth",[u2]:"fire-auth-compat",[c2]:"fire-rtdb",[h2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[f2]:"fire-fn",[p2]:"fire-fn-compat",[m2]:"fire-iid",[g2]:"fire-iid-compat",[y2]:"fire-fcm",[v2]:"fire-fcm-compat",[_2]:"fire-perf",[w2]:"fire-perf-compat",[E2]:"fire-rc",[T2]:"fire-rc-compat",[S2]:"fire-gcs",[I2]:"fire-gcs-compat",[C2]:"fire-fst",[A2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,b2=new Map,Yp=new Map;function O_(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ca(n){const e=n.name;if(Yp.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,n);for(const t of kh.values())O_(t,n);for(const t of b2.values())O_(t,n);return!0}function Fm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $r(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new wu("app","Firebase",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=P2;function Ww(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Qp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(t||(t=Uw()),!t)throw ls.create("no-options");const a=kh.get(o);if(a){if(Ch(t,a.options)&&Ch(i,a.config))return a;throw ls.create("duplicate-app",{appName:o})}const u=new BP(o);for(const f of Yp.values())u.addComponent(f);const d=new O2(t,i,u);return kh.set(o,d),d}function qw(n=Qp){const e=kh.get(n);if(!e&&n===Qp&&Uw())return Ww();if(!e)throw ls.create("no-app",{appName:n});return e}function us(n,e,t){var i;let o=(i=x2[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(d.join(" "));return}Ca(new io(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firebase-heartbeat-database",L2=1,lu="firebase-heartbeat-store";let Ep=null;function Kw(){return Ep||(Ep=JP(D2,L2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),Ep}async function V2(n){try{const t=(await Kw()).transaction(lu),i=await t.objectStore(lu).get(Gw(n));return await t.done,i}catch(e){if(e instanceof ki)Ei.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(t.message)}}}async function D_(n,e){try{const i=(await Kw()).transaction(lu,"readwrite");await i.objectStore(lu).put(e,Gw(n)),await i.done}catch(t){if(t instanceof ki)Ei.warn(t.message);else{const i=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(i.message)}}}function Gw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,F2=30*24*60*60*1e3;class B2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=L_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=F2}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:i,unsentEntries:o}=j2(this._heartbeatsCache.heartbeats),a=Ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ei.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function j2(n,e=M2){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),V_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),V_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class U2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return D_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function V_(n){return Ih(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){Ca(new io("platform-logger",e=>new t2(e),"PRIVATE")),Ca(new io("heartbeat",e=>new B2(e),"PRIVATE")),us(Gp,N_,n),us(Gp,N_,"esm2017"),us("fire-js","")}$2("");function Bm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z2=Qw,Yw=new wu("auth","Firebase",Qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Vm("@firebase/auth");function H2(n,...e){Ah.logLevel<=Ve.WARN&&Ah.warn(`Auth (${Ba}): ${n}`,...e)}function oh(n,...e){Ah.logLevel<=Ve.ERROR&&Ah.error(`Auth (${Ba}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,...e){throw Um(n,...e)}function or(n,...e){return Um(n,...e)}function jm(n,e,t){const i=Object.assign(Object.assign({},z2()),{[e]:t});return new wu("auth","Firebase",i).create(e,{appName:n.name})}function to(n){return jm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xw(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Gr(n,"argument-error"),jm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Yw.create(n,...e)}function ke(n,e,...t){if(!n)throw Um(e,...t)}function gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Ti(n,e){n||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function W2(){return M_()==="http:"||M_()==="https:"}function M_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W2()||SP()||"connection"in navigator)?navigator.onLine:!0}function K2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=wP()||IP()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,e){Ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Tu(3e4,6e4);function zm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ja(n,e,t,i,o={}){return Zw(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=Eu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return TP()||(m.referrerPolicy="no-referrer"),Jw.fetch()(e1(n,n.config.apiHost,t,d),m)})}async function Zw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},G2),e);try{const o=new X2(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Yc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yc(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jm(n,v,m);Gr(n,v)}}catch(o){if(o instanceof ki)throw o;Gr(n,"network-request-failed",{message:String(o)})}}async function Y2(n,e,t,i,o={}){const a=await ja(n,e,t,i,o);return"mfaPendingCredential"in a&&Gr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function e1(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?$m(n.config,o):`${n.config.apiScheme}://${o}`}class X2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(or(this.auth,"network-request-failed")),Q2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=or(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,e){return ja(n,"POST","/v1/accounts:delete",e)}async function t1(n,e){return ja(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z2(n,e=!1){const t=zt(n),i=await t.getIdToken(e),o=Hm(i);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Yl(Tp(o.auth_time)),issuedAtTime:Yl(Tp(o.iat)),expirationTime:Yl(Tp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Tp(n){return Number(n)*1e3}function Hm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bw(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function F_(n){const e=Hm(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ki&&ex(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ex({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await uu(n,t1(t,{idToken:i}));ke(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?n1(a.providerUserInfo):[],d=rx(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Jp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function nx(n){const e=zt(n);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rx(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function n1(n){return n.map(e=>{var{providerId:t}=e,i=Bm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(n,e){const t=await Zw(n,{},async()=>{const i=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=e1(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Jw.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sx(n,e){return ja(n,"POST","/v2/accounts:revokeToken",zm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=F_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await ix(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new va;return i&&(ke(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(ke(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ke(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Jp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await uu(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z2(this,e)}reload(){return nx(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await uu(this,J2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,d,f,m,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,b=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(d=t.tenantId)!==null&&d!==void 0?d:void 0,L=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,K=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Y=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:z,isAnonymous:j,providerData:Q,stsTokenManager:P}=t;ke(W&&P,e,"internal-error");const C=va.fromJSON(this.name,P);ke(typeof W=="string",e,"internal-error"),Zi(E,e.name),Zi(S,e.name),ke(typeof z=="boolean",e,"internal-error"),ke(typeof j=="boolean",e,"internal-error"),Zi(b,e.name),Zi(D,e.name),Zi(N,e.name),Zi(L,e.name),Zi(K,e.name),Zi(Y,e.name);const R=new yi({uid:W,auth:e,email:S,emailVerified:z,displayName:E,isAnonymous:j,photoURL:D,phoneNumber:b,tenantId:N,stsTokenManager:C,createdAt:K,lastLoginAt:Y});return Q&&Array.isArray(Q)&&(R.providerData=Q.map(_=>Object.assign({},_))),L&&(R._redirectEventId=L),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new va;o.updateFromServerResponse(t);const a=new yi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rh(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?n1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new va;d.updateFromIdToken(i);const f=new yi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function vi(n){Ti(n instanceof Function,"Expected a class definition");let e=B_.get(n);return e?(Ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,B_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}r1.type="NONE";const j_=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n,e,t){return`firebase:${n}:${e}:${t}`}class _a{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,a),this.fullPersistenceKey=ah("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _a(vi(j_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||vi(j_);const u=ah(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){const E=yi._fromJSON(e,v);m!==a&&(d=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new _a(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new _a(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u1(e))return"Blackberry";if(c1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function i1(n=hn()){return/firefox\//i.test(n)}function s1(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(n=hn()){return/crios\//i.test(n)}function a1(n=hn()){return/iemobile/i.test(n)}function l1(n=hn()){return/android/i.test(n)}function u1(n=hn()){return/blackberry/i.test(n)}function c1(n=hn()){return/webos/i.test(n)}function Wm(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ox(n=hn()){var e;return Wm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ax(){return CP()&&document.documentMode===10}function h1(n=hn()){return Wm(n)||l1(n)||c1(n)||u1(n)||/windows phone/i.test(n)||a1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e=[]){let t;switch(n){case"Browser":t=U_(hn());break;case"Worker":t=`${U_(hn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ba}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(n,e={}){return ja(n,"GET","/v2/passwordPolicy",zm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=6;class hx{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:cx,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new lx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await t1(this,{idToken:e}),i=await yi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(to(this));const t=e?zt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ux(this),t=new hx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await sx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&H2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ad(n){return zt(n)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OP(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fx(n){qm=n}function px(n){return qm.loadJS(n)}function mx(){return qm.gapiScript}function gx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n,e){const t=Fm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ch(a,e??{}))return o;Gr(o,"already-initialized")}return t.initialize({options:e})}function vx(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function _x(n,e,t){const i=ad(n);ke(i._canInitEmulator,i,"emulator-config-failed"),ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=f1(e),{host:u,port:d}=wx(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Ex()}function f1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wx(n){const e=f1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:z_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:z_(u)}}}function z_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Ex(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,t){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(n,e){return Y2(n,"POST","/v1/accounts:signInWithIdp",zm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="http://localhost";class so extends p1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Bm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new so(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return wa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,wa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wa(e,t)}buildRequest(){const e={requestUri:Tx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Su{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return so._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ur.credential(t,i)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Su{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Su{constructor(){super("twitter.com")}static credential(e,t){return so._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return rs.credential(t,i)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await yi._fromIdTokenResponse(e,i,o),u=H_(i);return new ka({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=H_(i);return new ka({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function H_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends ki{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Ph(e,t,i,o)}}function m1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(n,a,e,i):a})}async function Sx(n,e,t=!1){const i=await uu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ka._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(n,e,t=!1){const{auth:i}=n;if($r(i.app))return Promise.reject(to(i));const o="reauthenticate";try{const a=await uu(n,m1(i,o,e,n),t);ke(a.idToken,i,"internal-error");const u=Hm(a.idToken);ke(u,i,"internal-error");const{sub:d}=u;return ke(n.uid===d,i,"user-mismatch"),ka._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(n,e,t=!1){if($r(n.app))return Promise.reject(to(n));const i="signIn",o=await m1(n,i,e),a=await ka._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function kx(n,e,t,i){return zt(n).onIdTokenChanged(e,t,i)}function Ax(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function Rx(n,e,t,i){return zt(n).onAuthStateChanged(e,t,i)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1e3,xx=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);ax()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,xx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const bx=y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}v1.type="SESSION";const _1=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ud(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await Nx(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Km("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function Dx(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function Lx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Vx(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Mx(){return w1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebaseLocalStorageDb",Fx=1,bh="firebaseLocalStorage",T1="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cd(n,e){return n.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function Bx(){const n=indexedDB.deleteDatabase(E1);return new Iu(n).toPromise()}function Zp(){const n=indexedDB.open(E1,Fx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(bh,{keyPath:T1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(bh)?e(i):(i.close(),await Bx(),e(await Zp()))})})}async function W_(n,e,t){const i=cd(n,!0).put({[T1]:e,value:t});return new Iu(i).toPromise()}async function jx(n,e){const t=cd(n,!1).get(e),i=await new Iu(t).toPromise();return i===void 0?null:i.value}function q_(n,e){const t=cd(n,!0).delete(e);return new Iu(t).toPromise()}const Ux=800,$x=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$x)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(Mx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Lx(),!this.activeServiceWorker)return;this.sender=new Ox(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Vx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await W_(e,xh,"1"),await q_(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cd(o,!1).getAll();return new Iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ux)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const zx=S1;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n,e){return e?vi(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends p1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hx(n){return Cx(n.auth,new Qm(n),n.bypassAuthState)}function Wx(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),Ix(t,new Qm(n),n.bypassAuthState)}async function qx(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),Sx(t,new Qm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hx;case"linkViaPopup":case"linkViaRedirect":return qx;case"reauthViaPopup":case"reauthViaRedirect":return Wx;default:Gr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Tu(2e3,1e4);async function Gx(n,e,t){if($r(n.app))return Promise.reject(or(n,"operation-not-supported-in-this-environment"));const i=ad(n);Xw(n,e,ld);const o=Gm(i,t);return new ss(i,"signInViaPopup",e,o).executeNotNull()}async function Qx(n,e,t){const i=zt(n);if($r(i.auth.app))return Promise.reject(or(i.auth,"operation-not-supported-in-this-environment"));Xw(i.auth,e,ld);const o=Gm(i.auth,t);return new ss(i.auth,"reauthViaPopup",e,o,i).executeNotNull()}class ss extends I1{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kx.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="pendingRedirect",lh=new Map;class Xx extends I1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const i=await Jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jx(n,e){const t=tb(e),i=eb(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Zx(n,e){lh.set(n._key(),e)}function eb(n){return vi(n._redirectPersistence)}function tb(n){return ah(Yx,n.config.apiKey,n.name)}async function nb(n,e,t=!1){if($r(n.app))return Promise.reject(to(n));const i=ad(n),o=Gm(i,e),u=await new Xx(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=10*60*1e3;class ib{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!C1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(or(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rb&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function C1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(n,e={}){return ja(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lb=/^https?/;async function ub(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ob(n);for(const t of e)try{if(cb(t))return}catch{}Gr(n,"unauthorized-domain")}function cb(n){const e=Xp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!lb.test(t))return!1;if(ab.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Tu(3e4,6e4);function G_(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function db(n){return new Promise((e,t)=>{var i,o,a;function u(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),t(or(n,"network-request-failed"))},timeout:hb.get()})}if(!((o=(i=Wr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)u();else{const d=gx("iframefcb");return Wr()[d]=()=>{gapi.load?u():t(or(n,"network-request-failed"))},px(`${mx()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw uh=null,e})}let uh=null;function fb(n){return uh=uh||db(n),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Tu(5e3,15e3),mb="__/auth/iframe",gb="emulator/auth/iframe",yb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _b(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$m(e,gb):`https://${n.config.authDomain}/${mb}`,i={apiKey:e.apiKey,appName:n.name,v:Ba},o=vb.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Eu(i).slice(1)}`}async function wb(n){const e=await fb(n),t=Wr().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:_b(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yb,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=or(n,"network-request-failed"),d=Wr().setTimeout(()=>{a(u)},pb.get());function f(){Wr().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tb=500,Sb=600,Ib="_blank",Cb="http://localhost";let Q_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kb(n,e,t,i=Tb,o=Sb){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},Eb),{width:i.toString(),height:o.toString(),top:a,left:u}),m=hn().toLowerCase();t&&(d=o1(m)?Ib:t),i1(m)&&(e=e||Cb,f.scrollbars="yes");const v=Object.entries(f).reduce((S,[b,D])=>`${S}${b}=${D},`,"");if(ox(m)&&d!=="_self")return Ab(e||"",d),new Q_(null);const E=window.open(e||"",d,v);ke(E,n,"popup-blocked");try{E.focus()}catch{}return new Q_(E)}function Ab(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__/auth/handler",Pb="emulator/auth/handler",xb=encodeURIComponent("fac");async function Y_(n,e,t,i,o,a){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ba,eventId:o};if(e instanceof ld){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",NP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Su){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${xb}=${encodeURIComponent(f)}`:"";return`${bb(n)}?${Eu(d).slice(1)}${m}`}function bb({config:n}){return n.emulator?$m(n,Pb):`https://${n.authDomain}/${Rb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class Nb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=nb,this._overrideRedirectResult=Zx}async _openPopup(e,t,i,o){var a;Ti((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Y_(e,t,i,Xp(),o);return kb(e,u,Km())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Y_(e,t,i,Xp(),o);return Dx(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Ti(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wb(e),i=new ib(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Sp];u!==void 0&&t(!!u),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ub(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return h1()||s1()||Wm()}}const Ob=Nb;var X_="@firebase/auth",J_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vb(n){Ca(new io("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;ke(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(n)},m=new dx(i,o,a,f);return vx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ca(new io("auth-internal",e=>{const t=ad(e.getProvider("auth").getImmediate());return(i=>new Db(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(X_,J_,Lb(n)),us(X_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=5*60,Fb=$w("authIdTokenMaxAge")||Mb;let Z_=null;const Bb=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Fb)return;const o=t==null?void 0:t.token;Z_!==o&&(Z_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jb(n=qw()){const e=Fm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yx(n,{popupRedirectResolver:Ob,persistence:[zx,bx,_1]}),i=$w("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=Bb(a.toString());Ax(t,u,()=>u(t.currentUser)),kx(t,d=>u(d))}}const o=jw("auth");return o&&_x(t,`http://${o}`),t}function Ub(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fx({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=or("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Ub().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vb("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $b(n,e,t,i){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(v){try{m(i.next(v))}catch(E){u(E)}}function f(v){try{m(i.throw(v))}catch(E){u(E)}}function m(v){v.done?a(v.value):o(v.value).then(d,f)}m((i=i.apply(n,[])).next())})}function zb(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(v){return f([m,v])}}function f(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(m[0]===6&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(v){m=[6,v],o=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ma=function(){return ma=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ma.apply(this,arguments)},k1=function(n){return{loading:n==null,value:n}},Hb=function(){return function(n,e){switch(e.type){case"error":return ma(ma({},n),{error:e.error,loading:!1,value:void 0});case"reset":return k1(e.defaultValue);case"value":return ma(ma({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},Wb=function(n){var e=n?n():void 0,t=U.useReducer(Hb(),k1(e)),i=t[0],o=t[1],a=U.useCallback(function(){var f=n?n():void 0;o({type:"reset",defaultValue:f})},[n]),u=U.useCallback(function(f){o({type:"error",error:f})},[]),d=U.useCallback(function(f){o({type:"value",value:f})},[]);return U.useMemo(function(){return{error:i.error,loading:i.loading,reset:a,setError:u,setValue:d,value:i.value}},[i.error,i.loading,a,u,d,i.value])},ho=function(n,e){var t=Wb(function(){return n.currentUser}),i=t.error,o=t.loading,a=t.setError,u=t.setValue,d=t.value;return U.useEffect(function(){var f=Rx(n,function(m){return $b(void 0,void 0,void 0,function(){var v;return zb(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return E.sent(),[3,4];case 3:return v=E.sent(),a(v),[3,4];case 4:return u(m),[2]}})})},a);return function(){f()}},[n]),[d,o,i]};const qb="_bookCard_1l2k2_1",Kb="_bookCardContent_1l2k2_15",Gb="_author_1l2k2_52",Qb="_noBookImgContainer_1l2k2_57",Yb="_bookImg_1l2k2_67",Xb="_likeButton_1l2k2_79",Jb="_heart_1l2k2_90",Zb="_heartActive_1l2k2_95",pi={bookCard:qb,bookCardContent:Kb,author:Gb,noBookImgContainer:Qb,bookImg:Yb,likeButton:Xb,heart:Jb,heartActive:Zb};var A1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e0=xn.createContext&&xn.createContext(A1),eN=["attr","size","title"];function tN(n,e){if(n==null)return{};var t=nN(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function nN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Nh(){return Nh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nh.apply(this,arguments)}function t0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Oh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t0(Object(t),!0).forEach(function(i){rN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t0(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rN(n,e,t){return e=iN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iN(n){var e=sN(n,"string");return typeof e=="symbol"?e:e+""}function sN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function R1(n){return n&&n.map((e,t)=>xn.createElement(e.tag,Oh({key:t},e.attr),R1(e.child)))}function Cr(n){return e=>xn.createElement(oN,Nh({attr:Oh({},n.attr)},e),R1(n.child))}function oN(n){var e=t=>{var{attr:i,size:o,title:a}=n,u=tN(n,eN),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),xn.createElement("svg",Nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:f,style:Oh(Oh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&xn.createElement("title",null,a),n.children)};return e0!==void 0?xn.createElement(e0.Consumer,null,t=>e(t)):e(A1)}function Ym(n){return Cr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314"},child:[]}]})(n)}function Xm(n){return Cr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"},child:[]}]})(n)}var aN="firebase",lN="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(aN,lN,"app");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,P1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function R(){}R.prototype=C.prototype,P.D=C.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(_,x,V){for(var A=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)A[ve-2]=arguments[ve];return C.prototype[x].apply(_,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,R){R||(R=0);var _=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)_[x]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(x=0;16>x;++x)_[x]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=P.g[0],R=P.g[1],x=P.g[2];var V=P.g[3],A=C+(V^R&(x^V))+_[0]+3614090360&4294967295;C=R+(A<<7&4294967295|A>>>25),A=V+(x^C&(R^x))+_[1]+3905402710&4294967295,V=C+(A<<12&4294967295|A>>>20),A=x+(R^V&(C^R))+_[2]+606105819&4294967295,x=V+(A<<17&4294967295|A>>>15),A=R+(C^x&(V^C))+_[3]+3250441966&4294967295,R=x+(A<<22&4294967295|A>>>10),A=C+(V^R&(x^V))+_[4]+4118548399&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(x^C&(R^x))+_[5]+1200080426&4294967295,V=C+(A<<12&4294967295|A>>>20),A=x+(R^V&(C^R))+_[6]+2821735955&4294967295,x=V+(A<<17&4294967295|A>>>15),A=R+(C^x&(V^C))+_[7]+4249261313&4294967295,R=x+(A<<22&4294967295|A>>>10),A=C+(V^R&(x^V))+_[8]+1770035416&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(x^C&(R^x))+_[9]+2336552879&4294967295,V=C+(A<<12&4294967295|A>>>20),A=x+(R^V&(C^R))+_[10]+4294925233&4294967295,x=V+(A<<17&4294967295|A>>>15),A=R+(C^x&(V^C))+_[11]+2304563134&4294967295,R=x+(A<<22&4294967295|A>>>10),A=C+(V^R&(x^V))+_[12]+1804603682&4294967295,C=R+(A<<7&4294967295|A>>>25),A=V+(x^C&(R^x))+_[13]+4254626195&4294967295,V=C+(A<<12&4294967295|A>>>20),A=x+(R^V&(C^R))+_[14]+2792965006&4294967295,x=V+(A<<17&4294967295|A>>>15),A=R+(C^x&(V^C))+_[15]+1236535329&4294967295,R=x+(A<<22&4294967295|A>>>10),A=C+(x^V&(R^x))+_[1]+4129170786&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^x&(C^R))+_[6]+3225465664&4294967295,V=C+(A<<9&4294967295|A>>>23),A=x+(C^R&(V^C))+_[11]+643717713&4294967295,x=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(x^V))+_[0]+3921069994&4294967295,R=x+(A<<20&4294967295|A>>>12),A=C+(x^V&(R^x))+_[5]+3593408605&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^x&(C^R))+_[10]+38016083&4294967295,V=C+(A<<9&4294967295|A>>>23),A=x+(C^R&(V^C))+_[15]+3634488961&4294967295,x=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(x^V))+_[4]+3889429448&4294967295,R=x+(A<<20&4294967295|A>>>12),A=C+(x^V&(R^x))+_[9]+568446438&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^x&(C^R))+_[14]+3275163606&4294967295,V=C+(A<<9&4294967295|A>>>23),A=x+(C^R&(V^C))+_[3]+4107603335&4294967295,x=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(x^V))+_[8]+1163531501&4294967295,R=x+(A<<20&4294967295|A>>>12),A=C+(x^V&(R^x))+_[13]+2850285829&4294967295,C=R+(A<<5&4294967295|A>>>27),A=V+(R^x&(C^R))+_[2]+4243563512&4294967295,V=C+(A<<9&4294967295|A>>>23),A=x+(C^R&(V^C))+_[7]+1735328473&4294967295,x=V+(A<<14&4294967295|A>>>18),A=R+(V^C&(x^V))+_[12]+2368359562&4294967295,R=x+(A<<20&4294967295|A>>>12),A=C+(R^x^V)+_[5]+4294588738&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^x)+_[8]+2272392833&4294967295,V=C+(A<<11&4294967295|A>>>21),A=x+(V^C^R)+_[11]+1839030562&4294967295,x=V+(A<<16&4294967295|A>>>16),A=R+(x^V^C)+_[14]+4259657740&4294967295,R=x+(A<<23&4294967295|A>>>9),A=C+(R^x^V)+_[1]+2763975236&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^x)+_[4]+1272893353&4294967295,V=C+(A<<11&4294967295|A>>>21),A=x+(V^C^R)+_[7]+4139469664&4294967295,x=V+(A<<16&4294967295|A>>>16),A=R+(x^V^C)+_[10]+3200236656&4294967295,R=x+(A<<23&4294967295|A>>>9),A=C+(R^x^V)+_[13]+681279174&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^x)+_[0]+3936430074&4294967295,V=C+(A<<11&4294967295|A>>>21),A=x+(V^C^R)+_[3]+3572445317&4294967295,x=V+(A<<16&4294967295|A>>>16),A=R+(x^V^C)+_[6]+76029189&4294967295,R=x+(A<<23&4294967295|A>>>9),A=C+(R^x^V)+_[9]+3654602809&4294967295,C=R+(A<<4&4294967295|A>>>28),A=V+(C^R^x)+_[12]+3873151461&4294967295,V=C+(A<<11&4294967295|A>>>21),A=x+(V^C^R)+_[15]+530742520&4294967295,x=V+(A<<16&4294967295|A>>>16),A=R+(x^V^C)+_[2]+3299628645&4294967295,R=x+(A<<23&4294967295|A>>>9),A=C+(x^(R|~V))+_[0]+4096336452&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~x))+_[7]+1126891415&4294967295,V=C+(A<<10&4294967295|A>>>22),A=x+(C^(V|~R))+_[14]+2878612391&4294967295,x=V+(A<<15&4294967295|A>>>17),A=R+(V^(x|~C))+_[5]+4237533241&4294967295,R=x+(A<<21&4294967295|A>>>11),A=C+(x^(R|~V))+_[12]+1700485571&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~x))+_[3]+2399980690&4294967295,V=C+(A<<10&4294967295|A>>>22),A=x+(C^(V|~R))+_[10]+4293915773&4294967295,x=V+(A<<15&4294967295|A>>>17),A=R+(V^(x|~C))+_[1]+2240044497&4294967295,R=x+(A<<21&4294967295|A>>>11),A=C+(x^(R|~V))+_[8]+1873313359&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~x))+_[15]+4264355552&4294967295,V=C+(A<<10&4294967295|A>>>22),A=x+(C^(V|~R))+_[6]+2734768916&4294967295,x=V+(A<<15&4294967295|A>>>17),A=R+(V^(x|~C))+_[13]+1309151649&4294967295,R=x+(A<<21&4294967295|A>>>11),A=C+(x^(R|~V))+_[4]+4149444226&4294967295,C=R+(A<<6&4294967295|A>>>26),A=V+(R^(C|~x))+_[11]+3174756917&4294967295,V=C+(A<<10&4294967295|A>>>22),A=x+(C^(V|~R))+_[2]+718787259&4294967295,x=V+(A<<15&4294967295|A>>>17),A=R+(V^(x|~C))+_[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+V&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var R=C-this.blockSize,_=this.B,x=this.h,V=0;V<C;){if(x==0)for(;V<=R;)o(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<C;)if(_[x++]=P.charCodeAt(V++),x==this.blockSize){o(this,_),x=0;break}}else for(;V<C;)if(_[x++]=P[V++],x==this.blockSize){o(this,_),x=0;break}}this.h=x,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var R=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=R&255,R/=256;for(this.u(P),P=Array(16),C=R=0;4>C;++C)for(var _=0;32>_;_+=8)P[R++]=this.g[C]>>>_&255;return P};function a(P,C){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=C(P)}function u(P,C){this.h=C;for(var R=[],_=!0,x=P.length-1;0<=x;x--){var V=P[x]|0;_&&V==C||(R[x]=V,_=!1)}this.g=R}var d={};function f(P){return-128<=P&&128>P?a(P,function(C){return new u([C|0],0>C?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return L(m(-P));for(var C=[],R=1,_=0;P>=R;_++)C[_]=P/R|0,R*=4294967296;return new u(C,0)}function v(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return L(v(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(C,8)),_=E,x=0;x<P.length;x+=8){var V=Math.min(8,P.length-x),A=parseInt(P.substring(x,x+V),C);8>V?(V=m(Math.pow(C,V)),_=_.j(V).add(m(A))):(_=_.j(R),_=_.add(m(A)))}return _}var E=f(0),S=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-L(this).m();for(var P=0,C=1,R=0;R<this.g.length;R++){var _=this.i(R);P+=(0<=_?_:4294967296+_)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D(this))return"0";if(N(this))return"-"+L(this).toString(P);for(var C=m(Math.pow(P,6)),R=this,_="";;){var x=z(R,C).g;R=K(R,x.j(C));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=x,D(R))return V+_;for(;6>V.length;)V="0"+V;_=V+_}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function D(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=K(this,P),N(P)?-1:D(P)?0:1};function L(P){for(var C=P.g.length,R=[],_=0;_<C;_++)R[_]=~P.g[_];return new u(R,~P.h).add(S)}n.abs=function(){return N(this)?L(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],_=0,x=0;x<=C;x++){var V=_+(this.i(x)&65535)+(P.i(x)&65535),A=(V>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);_=A>>>16,V&=65535,A&=65535,R[x]=A<<16|V}return new u(R,R[R.length-1]&-2147483648?-1:0)};function K(P,C){return P.add(L(C))}n.j=function(P){if(D(this)||D(P))return E;if(N(this))return N(P)?L(this).j(L(P)):L(L(this).j(P));if(N(P))return L(this.j(L(P)));if(0>this.l(b)&&0>P.l(b))return m(this.m()*P.m());for(var C=this.g.length+P.g.length,R=[],_=0;_<2*C;_++)R[_]=0;for(_=0;_<this.g.length;_++)for(var x=0;x<P.g.length;x++){var V=this.i(_)>>>16,A=this.i(_)&65535,ve=P.i(x)>>>16,Pe=P.i(x)&65535;R[2*_+2*x]+=A*Pe,Y(R,2*_+2*x),R[2*_+2*x+1]+=V*Pe,Y(R,2*_+2*x+1),R[2*_+2*x+1]+=A*ve,Y(R,2*_+2*x+1),R[2*_+2*x+2]+=V*ve,Y(R,2*_+2*x+2)}for(_=0;_<C;_++)R[_]=R[2*_+1]<<16|R[2*_];for(_=C;_<2*C;_++)R[_]=0;return new u(R,0)};function Y(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function W(P,C){this.g=P,this.h=C}function z(P,C){if(D(C))throw Error("division by zero");if(D(P))return new W(E,E);if(N(P))return C=z(L(P),C),new W(L(C.g),L(C.h));if(N(C))return C=z(P,L(C)),new W(L(C.g),C.h);if(30<P.g.length){if(N(P)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,_=C;0>=_.l(P);)R=j(R),_=j(_);var x=Q(R,1),V=Q(_,1);for(_=Q(_,2),R=Q(R,2);!D(_);){var A=V.add(_);0>=A.l(P)&&(x=x.add(R),V=A),_=Q(_,1),R=Q(R,1)}return C=K(P,x.j(C)),new W(x,C)}for(x=E;0<=P.l(C);){for(R=Math.max(1,Math.floor(P.m()/C.m())),_=Math.ceil(Math.log(R)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),V=m(R),A=V.j(C);N(A)||0<A.l(P);)R-=_,V=m(R),A=V.j(C);D(V)&&(V=S),x=x.add(V),P=K(P,A)}return new W(x,P)}n.A=function(P){return z(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],_=0;_<C;_++)R[_]=this.i(_)&P.i(_);return new u(R,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],_=0;_<C;_++)R[_]=this.i(_)|P.i(_);return new u(R,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),R=[],_=0;_<C;_++)R[_]=this.i(_)^P.i(_);return new u(R,this.h^P.h)};function j(P){for(var C=P.g.length+1,R=[],_=0;_<C;_++)R[_]=P.i(_)<<1|P.i(_-1)>>>31;return new u(R,P.h)}function Q(P,C){var R=C>>5;C%=32;for(var _=P.g.length-R,x=[],V=0;V<_;V++)x[V]=0<C?P.i(V+R)>>>C|P.i(V+R+1)<<32-C:P.i(V+R);return new u(x,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,P1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,no=u}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x1,Wl,b1,ch,em,N1,O1,D1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var w=i;c=c.split(".");for(var I=0;I<c.length-1;I++){var $=c[I];if(!($ in w))break e;w=w[$]}c=c[c.length-1],I=w[c],g=g(I),g!=I&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,I=!1,$={next:function(){if(!I&&w<c.length){var X=w++;return{value:g(X,c[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function E(c,g,w){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),c.apply(g,$)}}return function(){return c.apply(g,arguments)}}function S(c,g,w){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function b(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(I,$,X){for(var ae=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ae[Je-2]=arguments[Je];return g.prototype[$].apply(I,ae)}}function N(c){const g=c.length;if(0<g){const w=Array(g);for(let I=0;I<g;I++)w[I]=c[I];return w}return[]}function L(c,g){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(f(I)){const $=c.length||0,X=I.length||0;c.length=$+X;for(let ae=0;ae<X;ae++)c[$+ae]=I[ae]}else c.push(I)}}class K{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Y(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function z(c){return z[" "](c),c}z[" "]=function(){};var j=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Q(c,g,w){for(const I in c)g.call(w,c[I],I,c)}function P(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function C(c){const g={};for(const w in c)g[w]=c[w];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(c,g){let w,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(w in I)c[w]=I[w];for(let X=0;X<R.length;X++)w=R[X],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function x(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function V(c){d.setTimeout(()=>{throw c},0)}function A(){var c=he;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,w){const I=Pe.get();I.set(g,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Pe=new K(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,se=!1,he=new ve,le=()=>{const c=d.Promise.resolve(void 0);Ne=()=>{c.then(B)}};var B=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(w){V(w)}var g=Pe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return c}();function xe(c,g){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{z(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}D(xe,me);var Oe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function je(c,g,w,I,$){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!I,this.ha=$,this.key=++Le,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,g,w,I,$){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ae=mt(c,g,I,$);return-1<ae?(g=c[ae],w||(g.fa=!1)):(g=new je(g,this.src,X,!!I,$),g.fa=w,c.push(g)),g};function st(c,g){var w=g.type;if(w in c.g){var I=c.g[w],$=Array.prototype.indexOf.call(I,g,void 0),X;(X=0<=$)&&Array.prototype.splice.call(I,$,1),X&&(Xe(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function mt(c,g,w,I){for(var $=0;$<c.length;++$){var X=c[$];if(!X.da&&X.listener==g&&X.capture==!!w&&X.ha==I)return $}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),Ht={};function _n(c,g,w,I,$){if(Array.isArray(g)){for(var X=0;X<g.length;X++)_n(c,g[X],w,I,$);return null}return w=Es(w),c&&c[Fe]?c.K(g,w,m(I)?!!I.capture:!1,$):Wt(c,g,w,!1,I,$)}function Wt(c,g,w,I,$,X){if(!g)throw Error("Invalid event type");var ae=m($)?!!$.capture:!!$,Je=Se(c);if(Je||(c[vn]=Je=new Ue(c)),w=Je.add(g,w,I,ae,X),w.proxy)return w;if(I=qt(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)Te||($=ae),$===void 0&&($=!1),c.addEventListener(g.toString(),I,$);else if(c.attachEvent)c.attachEvent(Kn(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function qt(){function c(w){return g.call(c.src,c.listener,w)}const g=ws;return c}function tn(c,g,w,I,$){if(Array.isArray(g))for(var X=0;X<g.length;X++)tn(c,g[X],w,I,$);else I=m(I)?!!I.capture:!!I,w=Es(w),c&&c[Fe]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],w=mt(X,w,I,$),-1<w&&(Xe(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Se(c))&&(g=c.g[g.toString()],c=-1,g&&(c=mt(g,w,I,$)),(w=-1<c?g[c]:null)&&lr(w))}function lr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Fe])st(g.i,c);else{var w=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(w,I,c.capture):g.detachEvent?g.detachEvent(Kn(w),I):g.addListener&&g.removeListener&&g.removeListener(I),(w=Se(g))?(st(w,c),w.h==0&&(w.src=null,g[vn]=null)):Xe(c)}}}function Kn(c){return c in Ht?Ht[c]:Ht[c]="on"+c}function ws(c,g){if(c.da)c=!0;else{g=new xe(g,this);var w=c.listener,I=c.ha||c.src;c.fa&&lr(c),c=w.call(I,g)}return c}function Se(c){return c=c[vn],c instanceof Ue?c:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Es(c){return typeof c=="function"?c:(c[Xr]||(c[Xr]=function(g){return c.handleEvent(g)}),c[Xr])}function gt(){Z.call(this),this.i=new Ue(this),this.M=this,this.F=null}D(gt,Z),gt.prototype[Fe]=!0,gt.prototype.removeEventListener=function(c,g,w,I){tn(this,c,g,w,I)};function Ct(c,g){var w,I=c.F;if(I)for(w=[];I;I=I.F)w.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new me(g,c);else if(g instanceof me)g.target=g.target||c;else{var $=g;g=new me(I,c),_(g,$)}if($=!0,w)for(var X=w.length-1;0<=X;X--){var ae=g.g=w[X];$=Jr(ae,I,!0,g)&&$}if(ae=g.g=c,$=Jr(ae,I,!0,g)&&$,$=Jr(ae,I,!1,g)&&$,w)for(X=0;X<w.length;X++)ae=g.g=w[X],$=Jr(ae,I,!1,g)&&$}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],I=0;I<w.length;I++)Xe(w[I]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,w,I){return this.i.add(String(c),g,!1,w,I)},gt.prototype.L=function(c,g,w,I){return this.i.add(String(c),g,!0,w,I)};function Jr(c,g,w,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,X=0;X<g.length;++X){var ae=g[X];if(ae&&!ae.da&&ae.capture==w){var Je=ae.listener,xt=ae.ha||ae.src;ae.fa&&st(c.i,ae),$=Je.call(xt,I)!==!1&&$}}return $&&!I.defaultPrevented}function Wa(c,g,w){if(typeof c=="function")w&&(c=S(c,w));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function Ai(c){c.g=Wa(()=>{c.g=null,c.i&&(c.i=!1,Ai(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ts extends Z{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){Z.call(this),this.h=c,this.g={}}D(Ss,Z);var qa=[];function Ka(c){Q(c.g,function(g,w){this.g.hasOwnProperty(w)&&lr(g)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),Ka(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ga=d.JSON.stringify,Qa=d.JSON.parse,Ya=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Is(){}Is.prototype.h=null;function go(c){return c.h||(c.h=c.i())}function yo(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){me.call(this,"d")}D(kr,me);function vo(){me.call(this,"c")}D(vo,me);var Ar={},Xa=null;function Cs(){return Xa=Xa||new gt}Ar.La="serverreachability";function Ja(c){me.call(this,Ar.La,c)}D(Ja,me);function Zr(c){const g=Cs();Ct(g,new Ja(g))}Ar.STAT_EVENT="statevent";function Za(c,g){me.call(this,Ar.STAT_EVENT,c),this.stat=g}D(Za,me);function wt(c){const g=Cs();Ct(g,new Za(g,c))}Ar.Ma="timingevent";function _o(c,g){me.call(this,Ar.Ma,c),this.size=g}D(_o,me);function ur(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ks(){this.g=!0}ks.prototype.xa=function(){this.g=!1};function As(c,g,w,I,$,X){c.info(function(){if(c.g)if(X)for(var ae="",Je=X.split("&"),xt=0;xt<Je.length;xt++){var $e=Je[xt].split("=");if(1<$e.length){var Vt=$e[0];$e=$e[1];var kt=Vt.split("_");ae=2<=kt.length&&kt[1]=="type"?ae+(Vt+"="+$e+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=X;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+g+`
`+w+`
`+ae})}function wo(c,g,w,I,$,X,ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+g+`
`+w+`
`+X+" "+ae})}function cr(c,g,w,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+xd(c,w)+(I?" "+I:"")})}function el(c,g){c.info(function(){return"TIMEOUT: "+g})}ks.prototype.info=function(){};function xd(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var I=w[c];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var X=$[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return Ga(w)}catch{return g}}var Eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function Rs(){}D(Rs,Is),Rs.prototype.g=function(){return new XMLHttpRequest},Rs.prototype.i=function(){return{}},hr=new Rs;function dr(c,g,w,I){this.j=c,this.i=g,this.l=w,this.R=I||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bu}function bu(){this.i=null,this.g="",this.h=!1}var tl={},To={};function So(c,g,w){c.L=1,c.v=Ni(Ln(g)),c.m=w,c.P=!0,nl(c,null)}function nl(c,g){c.F=Date.now(),rt(c),c.A=Ln(c.v);var w=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Di(w.i,"t",I),c.C=0,w=c.j.J,c.h=new bu,c.g=Qu(c.j,w?g:null,!c.m),0<c.O&&(c.M=new Ts(S(c.Y,c,c.g),c.O)),g=c.U,w=c.g,I=c.ca;var $="readystatechange";Array.isArray($)||($&&(qa[0]=$.toString()),$=qa);for(var X=0;X<$.length;X++){var ae=_n(w,$[X],I||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Zr(),As(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const g=this.M;g&&En(c)==3?g.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const kt=En(this.g);var g=this.g.Ba();const Xn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||ll(this.g)))){this.J||kt!=4||g==7||(g==8||0>=Xn?Zr(3):Zr(2)),Ps(this);var w=this.g.Z();this.X=w;t:if(Nu(this)){var I=ll(this.g);c="";var $=I.length,X=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Ri(this);var ae="";break t}this.h.i=new d.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(X&&g==$-1)});I.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,wo(this.i,this.u,this.A,this.l,this.R,kt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,xt=this.g;if((Je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Je)){var $e=Je;break t}}$e=null}if(w=$e)cr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rl(this,w);else{this.o=!1,this.s=3,wt(12),Qn(this),Ri(this);break e}}if(this.P){w=!0;let Mn;for(;!this.J&&this.C<ae.length;)if(Mn=bd(this,ae),Mn==To){kt==4&&(this.s=4,wt(14),w=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==tl){this.s=4,wt(15),cr(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else cr(this.i,this.l,Mn,null),rl(this,Mn);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ae.length!=0||this.h.h||(this.s=1,wt(16),w=!1),this.o=this.o&&w,!w)cr(this.i,this.l,ae,"[Invalid Chunked Response]"),Qn(this),Ri(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),cl(Vt),Vt.M=!0,wt(11))}}else cr(this.i,this.l,ae,null),rl(this,ae);kt==4&&Qn(this),this.o&&!this.J&&(kt==4?Do(this.j,this):(this.o=!1,rt(this)))}else Po(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Qn(this),Ri(this)}}}catch{}finally{}};function Nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bd(c,g){var w=c.C,I=g.indexOf(`
`,w);return I==-1?To:(w=Number(g.substring(w,I)),isNaN(w)?tl:(I+=1,I+w>g.length?To:(g=g.slice(I,I+w),c.C=I+w,g)))}dr.prototype.cancel=function(){this.J=!0,Qn(this)};function rt(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ur(S(c.ba,c),g)}function Ps(c){c.B&&(d.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(el(this.i,this.A),this.L!=2&&(Zr(),wt(17)),Qn(this),this.s=2,Ri(this)):Ou(this,this.S-c)};function Ri(c){c.j.G==0||c.J||Do(c.j,c)}function Qn(c){Ps(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ka(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function rl(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||fn(w.h,c))){if(!c.K&&fn(w.h,c)&&w.G==3){try{var I=w.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Oo(w),yr(w);else break e;No(w),wt(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=ur(S(w.Za,w),6e3));if(1>=Lu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ii(w,11)}else if((c.K||w.g==c)&&Oo(w),!Y(g))for($=w.Da.g.parse(g),g=0;g<$.length;g++){let $e=$[g];if(w.T=$e[0],$e=$e[1],w.G==2)if($e[0]=="c"){w.K=$e[1],w.ia=$e[2];const Vt=$e[3];Vt!=null&&(w.la=Vt,w.j.info("VER="+w.la));const kt=$e[4];kt!=null&&(w.Aa=kt,w.j.info("SVER="+w.Aa));const Xn=$e[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(I=1.5*Xn,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Mn=c.g;if(Mn){const Vs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var X=I.h;X.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(il(X,X.h),X.h=null))}if(I.D){const Vo=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(I.ya=Vo,Ze(I.I,I.D,Vo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var ae=c;if(I.qa=Gu(I,I.J?I.ia:null,I.W),ae.K){Vu(I.h,ae);var Je=ae,xt=I.L;xt&&(Je.I=xt),Je.B&&(Ps(Je),rt(Je)),I.g=ae}else Ls(I);0<w.i.length&&br(w)}else $e[0]!="stop"&&$e[0]!="close"||ii(w,7);else w.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ii(w,7):Gt(w):$e[0]!="noop"&&w.l&&w.l.ta($e),w.v=0)}}Zr(4)}catch{}}var Du=class{constructor(c,g){this.g=c,this.map=g}};function xs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lu(c){return c.h?1:c.g?c.g.size:0}function fn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function il(c,g){c.g?c.g.add(g):c.h=g}function Vu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xs.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return N(c.i)}function Io(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,I=0;I<w;I++)g.push(c[I]);return g}g=[],w=0;for(I in c)g[w++]=c[I];return g}function Co(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const I in c)g[w++]=I;return g}}}function Pi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=Co(c),I=Io(c),$=I.length,X=0;X<$;X++)g.call(void 0,I[X],w&&w[X],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var I=c[w].indexOf("="),$=null;if(0<=I){var X=c[w].substring(0,I);$=c[w].substring(I+1)}else X=c[w];g(X,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ei){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var g=c.i,w=new Rr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),bi(this,w),this.m=c.m}else c&&(g=String(c).match(bs))?(this.h=!1,Ns(this,g[1]||"",!0),this.o=Be(g[2]||""),this.g=Be(g[3]||"",!0),xi(this,g[4]),this.l=Be(g[5]||"",!0),bi(this,g[6]||"",!0),this.m=Be(g[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Oi(g,ko,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Oi(g,ko,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Oi(w,w.charAt(0)=="/"?ju:Bu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Oi(w,sl)),c.join("")};function Ln(c){return new ei(c)}function Ns(c,g,w){c.j=w?Be(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function bi(c,g,w){g instanceof Rr?(c.i=g,Pr(c.i,c.h)):(w||(g=Oi(g,Uu)),c.i=new Rr(g,c.h))}function Ze(c,g,w){c.i.set(g,w)}function Ni(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Be(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oi(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Fu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,Bu=/[#\?:]/g,ju=/[#\?]/g,Uu=/[#\?@]/g,sl=/#/g;function Rr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Kt(c){c.g||(c.g=new Map,c.h=0,c.i&&Nd(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=Rr.prototype,n.add=function(c,g){Kt(this),this.i=null,c=Yn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function fr(c,g){Kt(c),g=Yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function pr(c,g){return Kt(c),g=Yn(c,g),c.g.has(g)}n.forEach=function(c,g){Kt(this),this.g.forEach(function(w,I){w.forEach(function($){c.call(g,$,I,this)},this)},this)},n.na=function(){Kt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let I=0;I<g.length;I++){const $=c[I];for(let X=0;X<$.length;X++)w.push(g[I])}return w},n.V=function(c){Kt(this);let g=[];if(typeof c=="string")pr(this,c)&&(g=g.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Kt(this),this.i=null,c=Yn(this,c),pr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Di(c,g,w){fr(c,g),0<w.length&&(c.i=null,c.g.set(Yn(c,g),N(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var I=g[w];const X=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var $=X;ae[I]!==""&&($+="="+encodeURIComponent(String(ae[I]))),c.push($)}}return this.i=c.join("&")};function Yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Pr(c,g){g&&!c.j&&(Kt(c),c.i=null,c.g.forEach(function(w,I){var $=I.toLowerCase();I!=$&&(fr(this,I),Di(this,$,w))},c)),c.j=g}function Od(c,g){const w=new ks;if(d.Image){const I=new Image;I.onload=b(wn,w,"TestLoadImage: loaded",!0,g,I),I.onerror=b(wn,w,"TestLoadImage: error",!1,g,I),I.onabort=b(wn,w,"TestLoadImage: abort",!1,g,I),I.ontimeout=b(wn,w,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function $u(c,g){const w=new ks,I=new AbortController,$=setTimeout(()=>{I.abort(),wn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(X=>{clearTimeout($),X.ok?wn(w,"TestPingServer: ok",!0,g):wn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),wn(w,"TestPingServer: error",!1,g)})}function wn(c,g,w,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(w)}catch{}}function Dd(){this.g=new Ya}function zu(c,g,w){const I=w||"";try{Pi(c,function($,X){let ae=$;m($)&&(ae=Ga($)),g.push(I+X+"="+encodeURIComponent(ae))})}catch($){throw g.push(I+"type="+encodeURIComponent("_badmap")),$}}function ti(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ti,Is),ti.prototype.g=function(){return new Os(this.l,this.j)},ti.prototype.i=function(c){return function(){return c}}({});function Os(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Os,gt),n=Os.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,gr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?mr(this):gr(this),this.readyState==3&&Hu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},n.Qa=function(c){this.g&&(this.response=c,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ni(c){let g="";return Q(c,function(w,I){g+=I,g+=":",g+=w,g+=`\r
`}),g}function Li(c,g,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=ni(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ze(c,g,w))}function lt(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(lt,gt);var Ld=/^https?$/i,ol=["POST","PUT"];n=lt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?go(this.o):go(hr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){Ds(this,X);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)w.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())w.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),$=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ol,g,void 0))||I||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of w)this.g.setRequestHeader(X,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Ds(this,X)}};function Ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ao(c),Vn(c)}function Ao(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},n.bb=function(){al(this)};function al(c){if(c.h&&typeof u<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)Wa(c.Ea,0,c);else if(Ct(c,"readystatechange"),En(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var I;if(I=ae===0){var $=String(c.D).match(bs)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),I=!Ld.test($?$.toLowerCase():"")}w=I}if(w)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var X=2<En(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ao(c)}}finally{Vn(c)}}}}function Vn(c,g){if(c.g){Ro(c);const w=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ct(c,"ready");try{w.onreadystatechange=I}catch{}}}function Ro(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Qa(g)}};function ll(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(c){const g={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(Y(c[I]))continue;var w=x(c[I]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=g[$]||[];g[$]=X,X.push(w)}P(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function ul(c){this.Aa=0,this.i=[],this.j=new ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xr("baseRetryDelayMs",5e3,c),this.cb=xr("retryDelaySeedMs",1e4,c),this.Wa=xr("forwardChannelMaxRetries",2,c),this.wa=xr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(c&&c.concurrentRequestLimit),this.Da=new Dd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ul.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,I){wt(0),this.W=c,this.H=g||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=Gu(this,null,this.W),br(this)};function Gt(c){if(xo(c),c.G==3){var g=c.U++,w=Ln(c.I);if(Ze(w,"SID",c.K),Ze(w,"RID",g),Ze(w,"TYPE","terminate"),ri(c,w),g=new dr(c,c.j,g),g.L=2,g.v=Ni(Ln(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Qu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rt(g)}Ku(c)}function yr(c){c.g&&(cl(c),c.g.cancel(),c.g=null)}function xo(c){yr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Oo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function br(c){if(!Dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ne||le(),se||(Ne(),se=!0),he.add(g,c),c.B=0}}function Vd(c,g){return Lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ur(S(c.Ga,c,g),qu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new dr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=C(X),_(X,this.S)):X=this.S),this.m!==null||this.O||($.H=X,X=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Vi(this,$,g),w=Ln(this.I),Ze(w,"RID",c),Ze(w,"CVER",22),this.D&&Ze(w,"X-HTTP-Session-Id",this.D),ri(this,w),X&&(this.O?g="headers="+encodeURIComponent(String(ni(X)))+"&"+g:this.m&&Li(w,this.m,X)),il(this.h,$),this.Ua&&Ze(w,"TYPE","init"),this.P?(Ze(w,"$req",g),Ze(w,"SID","null"),$.T=!0,So($,w,null)):So($,w,g),this.G=2}}else this.G==3&&(c?bo(this,c):this.i.length==0||Dn(this.h)||bo(this))};function bo(c,g){var w;g?w=g.l:w=c.U++;const I=Ln(c.I);Ze(I,"SID",c.K),Ze(I,"RID",w),Ze(I,"AID",c.T),ri(c,I),c.m&&c.o&&Li(I,c.m,c.o),w=new dr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Vi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),il(c.h,w),So(w,I,g)}function ri(c,g){c.H&&Q(c.H,function(w,I){Ze(g,I,w)}),c.l&&Pi({},function(w,I){Ze(g,I,w)})}function Vi(c,g,w){w=Math.min(c.i.length,w);var I=c.l?S(c.l.Na,c.l,c):null;e:{var $=c.i;let X=-1;for(;;){const ae=["count="+w];X==-1?0<w?(X=$[0].g,ae.push("ofs="+X)):X=0:ae.push("ofs="+X);let Je=!0;for(let xt=0;xt<w;xt++){let $e=$[xt].g;const Vt=$[xt].map;if($e-=X,0>$e)X=Math.max(0,$[xt].g-100),Je=!1;else try{zu(Vt,ae,"req"+$e+"_")}catch{I&&I(Vt)}}if(Je){I=ae.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,I}function Ls(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ne||le(),se||(Ne(),se=!0),he.add(g,c),c.v=0}}function No(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ur(S(c.Fa,c),qu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ur(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),yr(this),Wu(this))};function cl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Ln(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),ri(c,g),c.m&&c.o&&Li(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ni(Ln(g)),w.m=null,w.P=!0,nl(w,c)}n.Za=function(){this.C!=null&&(this.C=null,yr(this),No(this),wt(19))};function Oo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Do(c,g){var w=null;if(c.g==g){Oo(c),cl(c),c.g=null;var I=2}else if(fn(c.h,g))w=g.D,Vu(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var $=c.B;I=Cs(),Ct(I,new _o(I,w)),br(c)}else Ls(c);else if($=g.s,$==3||$==0&&0<g.X||!(I==1&&Vd(c,g)||I==2&&No(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),$){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function qu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function ii(c,g){if(c.j.info("Error code "+g),g==2){var w=S(c.fb,c),I=c.Xa;const $=!I;I=new ei(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ns(I,"https"),Ni(I),$?Od(I.toString(),w):$u(I.toString(),w)}else wt(2);c.G=0,c.l&&c.l.sa(g),Ku(c),xo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const g=Mu(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Gu(c,g,w){var I=w instanceof ei?Ln(w):new ei(w);if(I.g!="")g&&(I.g=g+"."+I.g),xi(I,I.s);else{var $=d.location;I=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var X=new ei(null);I&&Ns(X,I),g&&(X.g=g),$&&xi(X,$),w&&(X.l=w),I=X}return w=c.D,g=c.ya,w&&g&&Ze(I,w,g),Ze(I,"VER",c.la),ri(c,I),I}function Qu(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new lt(new ti({eb:w})):new lt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hl(){}n=hl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lo(){}Lo.prototype.g=function(c,g){return new pn(c,g)};function pn(c,g){gt.call(this),this.g=new ul(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Y(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Y(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Nr(this)}D(pn,gt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ga(c),c=w);g.i.push(new Du(g.Ya++,c)),g.G==3&&br(g)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function Yu(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(Yu,kr);function Xu(){vo.call(this),this.status=1}D(Xu,vo);function Nr(c){this.g=c}D(Nr,hl),Nr.prototype.ua=function(){Ct(this.g,"a")},Nr.prototype.ta=function(c){Ct(this.g,new Yu(c))},Nr.prototype.sa=function(c){Ct(this.g,new Xu)},Nr.prototype.ra=function(){Ct(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,D1=function(){return new Lo},O1=function(){return Cs()},N1=Ar,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,ch=Eo,xu.COMPLETE="complete",b1=xu,yo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Wl=yo,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,x1=lt}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Vm("@firebase/firestore");function ha(){return oo.logLevel}function ce(n,...e){if(oo.logLevel<=Ve.DEBUG){const t=e.map(Jm);oo.debug(`Firestore (${Ua}): ${n}`,...t)}}function Si(n,...e){if(oo.logLevel<=Ve.ERROR){const t=e.map(Jm);oo.error(`Firestore (${Ua}): ${n}`,...t)}}function Aa(n,...e){if(oo.logLevel<=Ve.WARN){const t=e.map(Jm);oo.warn(`Firestore (${Ua}): ${n}`,...t)}}function Jm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+n;throw Si(e),new Error(e)}function Ye(n,e){n||Ce()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class cN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hN{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new L1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new un(e)}}class dN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new dN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ye(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new pN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=gN(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function He(n,e){return n<e?-1:n>e?1:0}function Ra(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Lt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Lt(0,0))}static max(){return new Ae(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return cu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ht extends cu{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const yN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends cu{construct(e,t,i){return new Zt(e,t,i)}static isValidIdentifier(e){return yN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}function vN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new Lt(t+1,0):new Lt(t,i));return new ds(o,Ee.empty(),e)}function _N(n){return new ds(n.readTime,n.key,-1)}class ds{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ds(Ae.min(),Ee.empty(),-1)}static max(){return new ds(Ae.max(),Ee.empty(),-1)}}function wN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==EN)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(o=>o?ee.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new ee((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function SN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function za(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hd.oe=-1;function dd(n){return n==null}function Dh(n){return n===0&&1/n==-1/0}function IN(n){return typeof n=="number"&&Number.isInteger(n)&&!Dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i0(e)),e=kN(n.get(t),e);return i0(e)}function kN(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function i0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function M1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=o??Xt.EMPTY,this.right=a??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Xt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new $t(Zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new F1("Invalid base64 string: "+a):a}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const AN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(Ye(!!n),typeof n=="string"){let e=0;const t=AN.exec(n);if(Ye(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ps(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function fd(n){const e=n.mapValue.fields.__previous_value__;return Zm(e)?fd(e):e}function hu(n){const e=fs(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,i,o,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class du{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new du("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc={mapValue:{}};function ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zm(n)?4:xN(n)?9007199254740991:PN(n)?10:11:Ce()}function Qr(n,e){if(n===e)return!0;const t=ms(n);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hu(n).isEqual(hu(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=fs(o.timestampValue),d=fs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ps(o.bytesValue).isEqual(ps(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Tt(o.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Tt(o.integerValue)===Tt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Tt(o.doubleValue),d=Tt(a.doubleValue);return u===d?Dh(u)===Dh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(s0(u)!==s0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Qr(u[f],d[f])))return!1;return!0}(n,e);default:return Ce()}}function fu(n,e){return(n.values||[]).find(t=>Qr(t,e))!==void 0}function Pa(n,e){if(n===e)return 0;const t=ms(n),i=ms(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Tt(a.integerValue||a.doubleValue),f=Tt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return a0(n.timestampValue,e.timestampValue);case 4:return a0(hu(n),hu(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(a,u){const d=ps(a),f=ps(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=He(d[m],f[m]);if(v!==0)return v}return He(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=He(Tt(a.latitude),Tt(u.latitude));return d!==0?d:He(Tt(a.longitude),Tt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return l0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,v;const E=a.fields||{},S=u.fields||{},b=(d=E.value)===null||d===void 0?void 0:d.arrayValue,D=(f=S.value)===null||f===void 0?void 0:f.arrayValue,N=He(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:l0(b,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Zc.mapValue&&u===Zc.mapValue)return 0;if(a===Zc.mapValue)return 1;if(u===Zc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const S=He(f[E],v[E]);if(S!==0)return S;const b=Pa(d[f[E]],m[v[E]]);if(b!==0)return b}return He(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function a0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=fs(n),i=fs(e),o=He(t.seconds,i.seconds);return o!==0?o:He(t.nanos,i.nanos)}function l0(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Pa(t[o],i[o]);if(a)return a}return He(t.length,i.length)}function xa(n){return tm(n)}function tm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=fs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=tm(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${tm(t.fields[u])}`;return o+"}"}(n.mapValue):Ce()}function hh(n){switch(ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+hh(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return vs(i.fields,(a,u)=>{o+=a.length+hh(u)}),o}(n.mapValue);default:throw Ce()}}function nm(n){return!!n&&"integerValue"in n}function eg(n){return!!n&&"arrayValue"in n}function u0(n){return!!n&&"nullValue"in n}function c0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function PN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Xl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}setAll(e){let t=Zt.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=Xl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){vs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Pn(Xl(this.value))}}function B1(n){const e=[];return vs(n.fields,(t,i)=>{const o=new Zt([t]);if(dh(i)){const a=B1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,i,o,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),Pn.empty(),0)}static newFoundDocument(e,t,i,o){return new cn(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new cn(e,2,t,Ae.min(),Ae.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ae.min(),Ae.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function h0(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(u.referenceValue),t.key):i=Pa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function d0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function bN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class Ot extends j1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ON(e,t,i):t==="array-contains"?new VN(e,i):t==="in"?new MN(e,i):t==="not-in"?new FN(e,i):t==="array-contains-any"?new BN(e,i):new Ot(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new DN(e,i):new LN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Pa(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends j1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yr(e,t)}matches(e){return U1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U1(n){return n.op==="and"}function $1(n){return NN(n)&&U1(n)}function NN(n){for(const e of n.filters)if(e instanceof Yr)return!1;return!0}function rm(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+xa(n.value);if($1(n))return n.filters.map(e=>rm(e)).join(",");{const e=n.filters.map(t=>rm(t)).join(",");return`${n.op}(${e})`}}function z1(n,e){return n instanceof Ot?function(i,o){return o instanceof Ot&&i.op===o.op&&i.field.isEqual(o.field)&&Qr(i.value,o.value)}(n,e):n instanceof Yr?function(i,o){return o instanceof Yr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,d)=>a&&z1(u,o.filters[d]),!0):!1}(n,e):void Ce()}function H1(n){return n instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map(H1).join(" ,")+"}"}(n):"Filter"}class ON extends Ot{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class DN extends Ot{constructor(e,t){super(e,"in",t),this.keys=W1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LN extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=W1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function W1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class VN extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&fu(t.arrayValue,this.value)}}class MN extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class FN extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fu(this.value.arrayValue,t)}}class BN extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function f0(n,e=null,t=[],i=[],o=null,a=null,u=null){return new jN(n,e,t,i,o,a,u)}function tg(n){const e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>rm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xa(i)).join(",")),e.ue=t}return e.ue}function ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!z1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d0(n.startAt,e.startAt)&&d0(n.endAt,e.endAt)}function im(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UN(n,e,t,i,o,a,u,d){return new pd(n,e,t,i,o,a,u,d)}function rg(n){return new pd(n)}function p0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $N(n){return n.collectionGroup!==null}function Jl(n){const e=Re(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new $t(Zt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vh(a,i))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new Vh(Zt.keyField(),i))}return e.ce}function qr(n){const e=Re(n);return e.le||(e.le=zN(e,Jl(n))),e.le}function zN(n,e){if(n.limitType==="F")return f0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Vh(o.field,a)});const t=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return f0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function sm(n,e,t){return new pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function md(n,e){return ng(qr(n),qr(e))&&n.limitType===e.limitType}function q1(n){return`${tg(qr(n))}|lt:${n.limitType}`}function da(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>H1(o)).join(", ")}]`),dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>xa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>xa(o)).join(",")),`Target(${i})`}(qr(n))}; limitType=${n.limitType})`}function gd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Jl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,d,f){const m=h0(u,d,f);return u.inclusive?m<=0:m<0}(i.startAt,Jl(i),o)||i.endAt&&!function(u,d,f){const m=h0(u,d,f);return u.inclusive?m>=0:m>0}(i.endAt,Jl(i),o))}(n,e)}function HN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K1(n){return(e,t)=>{let i=!1;for(const o of Jl(n)){const a=WN(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function WN(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Pa(f,m):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new pt(Ee.comparator);function Ii(){return qN}const G1=new pt(Ee.comparator);function ql(...n){let e=G1;for(const t of n)e=e.insert(t.key,t);return e}function Q1(n){let e=G1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Zs(){return Zl()}function Y1(){return Zl()}function Zl(){return new fo(n=>n.toString(),(n,e)=>n.isEqual(e))}const KN=new pt(Ee.comparator),GN=new $t(Ee.comparator);function Me(...n){let e=GN;for(const t of n)e=e.add(t);return e}const QN=new $t(He);function YN(){return QN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function X1(n){return{integerValue:""+n}}function XN(n,e){return IN(e)?X1(e):ig(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function JN(n,e,t){return n instanceof Mh?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Zm(a)&&(a=fd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof pu?Z1(n,e):n instanceof mu?eE(n,e):function(o,a){const u=J1(o,a),d=m0(u)+m0(o.Pe);return nm(u)&&nm(o.Pe)?X1(d):ig(o.serializer,d)}(n,e)}function ZN(n,e,t){return n instanceof pu?Z1(n,e):n instanceof mu?eE(n,e):t}function J1(n,e){return n instanceof Fh?function(i){return nm(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Mh extends yd{}class pu extends yd{constructor(e){super(),this.elements=e}}function Z1(n,e){const t=tE(e);for(const i of n.elements)t.some(o=>Qr(o,i))||t.push(i);return{arrayValue:{values:t}}}class mu extends yd{constructor(e){super(),this.elements=e}}function eE(n,e){let t=tE(e);for(const i of n.elements)t=t.filter(o=>!Qr(o,i));return{arrayValue:{values:t}}}class Fh extends yd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function m0(n){return Tt(n.integerValue||n.doubleValue)}function tE(n){return eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function e4(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof pu&&o instanceof pu||i instanceof mu&&o instanceof mu?Ra(i.elements,o.elements,Qr):i instanceof Fh&&o instanceof Fh?Qr(i.Pe,o.Pe):i instanceof Mh&&o instanceof Mh}(n.transform,e.transform)}class t4{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vd{}function nE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _d(n.key,bn.none()):new Cu(n.key,n.data,bn.none());{const t=n.data,i=Pn.empty();let o=new $t(Zt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new _s(n.key,i,new zn(o.toArray()),bn.none())}}function n4(n,e,t){n instanceof Cu?function(o,a,u){const d=o.value.clone(),f=y0(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(o,a,u){if(!fh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=y0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(rE(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function eu(n,e,t,i){return n instanceof Cu?function(a,u,d,f){if(!fh(a.precondition,u))return d;const m=a.value.clone(),v=v0(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof _s?function(a,u,d,f){if(!fh(a.precondition,u))return d;const m=v0(a.fieldTransforms,f,u),v=u.data;return v.setAll(rE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,u,d){return fh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function r4(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=J1(i.transform,o||null);a!=null&&(t===null&&(t=Pn.empty()),t.set(i.field,a))}return t||null}function g0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ra(i,o,(a,u)=>e4(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cu extends vd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends vd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function y0(n,e,t){const i=new Map;Ye(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,ZN(u,d,t[o]))}return i}function v0(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,JN(a,u,e))}return i}class _d extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i4 extends vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&n4(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=eu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=eu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Y1();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=nE(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,i)=>g0(t,i))&&Ra(this.baseMutations,e.baseMutations,(t,i)=>g0(t,i))}}class sg{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ye(e.mutations.length===i.length);let o=function(){return KN}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new sg(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,ze;function l4(n){switch(n){default:return Ce();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function iE(n){if(n===void 0)return Si("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ce()}}(ze=Rt||(Rt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new no([4294967295,4294967295],0);function _0(n){const e=u4().encode(n),t=new P1;return t.update(e),new Uint8Array(t.digest())}function w0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new no([t,i],0),new no([o,a],0)]}class og{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(i<0)throw new Kl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=no.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(no.fromNumber(i)));return o.compare(c4)===1&&(o=new no([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=_0(e),[i,o]=w0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new og(a,o,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Ie===0)return;const t=_0(e),[i,o]=w0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new wd(Ae.min(),o,new pt(He),Ii(),Me())}}class ku{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ku(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class sE{constructor(e,t){this.targetId=e,this.me=t}}class oE{constructor(e,t,i=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class E0{constructor(){this.fe=0,this.ge=S0(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),i=Me();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce()}}),new ku(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=S0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class h4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=T0(),this.Qe=new pt(He)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(im(a))if(i===0){const u=new Ee(a.path);this.Ue(t,u,cn.newNoDocument(u,Ae.min()))}else Ye(i===1);else{const u=this.Ye(t);if(u!==i){const d=this.Ze(e),f=d?this.Xe(d,e,u):1;if(f!==0){this.je(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=ps(i).toUint8Array()}catch(f){if(f instanceof F1)return Aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new og(u,o,a)}catch(f){return Aa(f instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.tt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(t,a,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Je(u);if(d){if(a.current&&im(d.target)){const f=new Ee(d.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,cn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Me();this.qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new wd(e,t,this.Qe,this.ke,i);return this.ke=Ii(),this.qe=T0(),this.Qe=new pt(He),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new E0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(He),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new E0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function T0(){return new pt(Ee.comparator)}function S0(){return new pt(Ee.comparator)}const d4={asc:"ASCENDING",desc:"DESCENDING"},f4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p4={and:"AND",or:"OR"};class m4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function om(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function Bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function g4(n,e){return Bh(n,e.toTimestamp())}function Kr(n){return Ye(!!n),Ae.fromTimestamp(function(t){const i=fs(t);return new Lt(i.seconds,i.nanos)}(n))}function ag(n,e){return am(n,e).canonicalString()}function am(n,e){const t=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lE(n){const e=ht.fromString(n);return Ye(fE(e)),e}function lm(n,e){return ag(n.databaseId,e.path)}function Ip(n,e){const t=lE(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(cE(t))}function uE(n,e){return ag(n.databaseId,e)}function y4(n){const e=lE(n);return e.length===4?ht.emptyPath():cE(e)}function um(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cE(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function I0(n,e,t){return{name:lm(n,e),fields:t.value.mapValue.fields}}function v4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Ye(v===void 0||typeof v=="string"),en.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array),en.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?ne.UNKNOWN:iE(m.code);return new ye(v,m.message||"")}(u);t=new oE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ip(n,i.document.name),a=Kr(i.document.updateTime),u=i.document.createTime?Kr(i.document.createTime):Ae.min(),d=new Pn({mapValue:{fields:i.document.fields}}),f=cn.newFoundDocument(o,a,u,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new ph(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ip(n,i.document),a=i.readTime?Kr(i.readTime):Ae.min(),u=cn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new ph([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ip(n,i.document),a=i.removedTargetIds||[];t=new ph([],a,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new a4(o,a),d=i.targetId;t=new sE(d,u)}}return t}function _4(n,e){let t;if(e instanceof Cu)t={update:I0(n,e.key,e.value)};else if(e instanceof _d)t={delete:lm(n,e.key)};else if(e instanceof _s)t={update:I0(n,e.key,e.data),updateMask:R4(e.fieldMask)};else{if(!(e instanceof i4))return Ce();t={verify:lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof Mh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Fh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:g4(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(n,e.precondition)),t}function w4(n,e){return n&&n.length>0?(Ye(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Kr(o.updateTime):Kr(a);return u.isEqual(Ae.min())&&(u=Kr(a)),new t4(u,o.transformResults||[])}(t,e))):[]}function E4(n,e){return{documents:[uE(n,e.path)]}}function T4(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=uE(n,o);const a=function(m){if(m.length!==0)return dE(Yr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(S){return{field:fa(S.field),direction:C4(S.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=om(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:o}}function S4(n){let e=y4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ye(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(E){const S=hE(E);return S instanceof Yr&&$1(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(S=>function(D){return new Vh(pa(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,dd(S)?null:S}(t.limit));let f=null;t.startAt&&(f=function(E){const S=!!E.before,b=E.values||[];return new Lh(b,S)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const S=!E.before,b=E.values||[];return new Lh(b,S)}(t.endAt)),UN(e,o,u,a,d,"F",f,m)}function I4(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pa(t.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=pa(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pa(t.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pa(t.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Ot.create(pa(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(i=>hE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function C4(n){return d4[n]}function k4(n){return f4[n]}function A4(n){return p4[n]}function fa(n){return{fieldPath:n.canonicalString()}}function pa(n){return Zt.fromServerFormat(n.fieldPath)}function dE(n){return n instanceof Ot?function(t){if(t.op==="=="){if(c0(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NAN"}};if(u0(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c0(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NAN"}};if(u0(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(t.field),op:k4(t.op),value:t.value}}}(n):n instanceof Yr?function(t){const i=t.getFilters().map(o=>dE(o));return i.length===1?i[0]:{compositeFilter:{op:A4(t.op),filters:i}}}(n):Ce()}function R4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,i,o,a=Ae.min(),u=Ae.min(),d=en.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.ct=e}}function x4(n){const e=S4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.un=new N4}addToCollectionParentIndex(e,t){return this.un.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ds.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class N4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new $t(ht.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rn{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ba(0)}static kn(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0([n,e],[t,i]){const o=He(n,t);return o===0?He(e,i):o}class O4{constructor(e){this.Un=e,this.buffer=new $t(k0),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();k0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){za(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await $a(t)}await this.Hn(3e5)})}}class L4{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(hd.oe);const i=new O4(t);return this.Jn.forEachTarget(e,o=>i.zn(o.sequenceNumber)).next(()=>this.Jn.Zn(e,o=>i.zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(C0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let i,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),ha()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function V4(n,e){return new L4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.changes=new fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&eu(i.mutation,o,zn.empty(),Lt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Me()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=ql();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Me()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,o){let a=Ii();const u=Zl(),d=function(){return Zl()}();return t.forEach((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof _s)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),eu(v.mutation,m,v.mutation.getFieldMask(),Lt.now())):u.set(m.key,zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var E;return d.set(m,new F4(v,(E=u.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Zl();let o=new pt((u,d)=>u-d),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||zn.empty();v=d.applyToLocalView(m,v),i.set(f,v);const E=(o.get(d.batchId)||Me()).add(f);o=o.insert(d.batchId,E)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,E=Y1();v.forEach(S=>{if(!a.has(S)){const b=nE(t.get(S),i.get(S));b!==null&&E.set(S,b),a=a.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ee.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$N(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ee.resolve(Zs());let d=-1,f=a;return u.next(m=>ee.forEach(m,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{f=f.insert(v,S)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Me())).next(v=>({batchId:d,changes:Q1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=ql();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=ql();return this.indexManager.getCollectionParents(e,a).next(d=>ee.forEach(d,f=>{const m=function(E,S){return new pd(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((E,S)=>{u=u.insert(E,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let d=ql();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&eu(v.mutation,m,zn.empty(),Lt.now()),gd(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ee.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:x4(o.bundledQuery),readTime:Kr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.overlays=new pt(Ee.comparator),this.Ir=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Zs();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.ht(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const o=Zs(),a=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new pt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=Zs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return ee.resolve(d)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new o4(t,i));let a=this.Ir.get(t);a===void 0&&(a=Me(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Tr=new $t(jt.Er),this.dr=new $t(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new jt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new jt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Ee(new ht([])),i=new jt(t,e),o=new jt(t,e+1),a=[];return this.dr.forEachInRange([i,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ee(new ht([])),i=new jt(t,e),o=new jt(t,e+1);let a=Me();return this.dr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new jt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class jt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ee.comparator(e.key,t.key)||He(e.wr,t.wr)}static Ar(e,t){return He(e.wr,t.wr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $t(jt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new s4(a,t,i,o);this.mutationQueue.push(u);for(const d of o)this.br=this.br.add(new jt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],u=>{const d=this.Dr(u.wr);a.push(d)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(He);return t.forEach(o=>{const a=new jt(o,0),u=new jt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],d=>{i=i.add(d.wr)})}),ee.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const u=new jt(new Ee(a),0);let d=new $t(He);return this.br.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.wr)),!0)},u),ee.resolve(this.Cr(d))}Cr(e){const t=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ee.forEach(t.mutations,o=>{const a=new jt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new jt(t,0),o=this.br.firstAfterOrEqual(i);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.Mr=e,this.docs=function(){return new pt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let i=Ii();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():cn.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ii();const u=t.path,d=new Ee(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||wN(_N(v),i)<=0||(o.has(v.key)||gd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ce()}Or(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new W4(this)}getSize(e){return ee.resolve(this.size)}}class W4 extends M4{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.persistence=e,this.Nr=new fo(t=>tg(t),ng),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lg,this.targetCount=0,this.kr=ba.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ba(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Kn(t),ee.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t){this.qr={},this.overlays={},this.Qr=new hd(0),this.Kr=!1,this.Kr=!0,this.$r=new $4,this.referenceDelegate=e(this),this.Ur=new q4(this),this.indexManager=new b4,this.remoteDocumentCache=function(o){return new H4(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new P4(t),this.Gr=new j4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new z4(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new K4(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,t){return ee.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class K4 extends TN{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Jr=new lg,this.Yr=null}static Zr(e){return new ug(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,i=>{const o=Ee.fromPath(i);return this.ei(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ee.or([()=>ee.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.ti=new fo(i=>CN(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=V4(this,t)}static Zr(e,t){return new jh(e,t)}zr(){}jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}er(e){let t=0;return this.Zn(e,i=>{t++}).next(()=>t)}Zn(e,t){return ee.forEach(this.ti,(i,o)=>this.nr(e,i,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Or(e,u=>this.nr(e,u,t).next(d=>{d||(i++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ti.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.ti.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),ee.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}nr(e,t,i){return ee.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ti.get(t);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Me(),o=Me();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new cg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kP()?8:SN(hn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new G4;return this.Xi(e,t,u).next(d=>{if(a.result=d,this.zi)return this.es(e,t,u,d.size)})}).next(()=>a.result)}es(e,t,i,o){return i.documentReadCount<this.ji?(ha()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",da(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(ha()<=Ve.DEBUG&&ce("QueryEngine","Query:",da(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(ha()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",da(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):ee.resolve())}Yi(e,t){if(p0(t))return ee.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sm(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Me(...a);return this.Ji.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.ts(t,d);return this.ns(t,m,u,f.readTime)?this.Yi(e,sm(t,null,"F")):this.rs(e,m,t,f)}))})))}Zi(e,t,i,o){return p0(t)||o.isEqual(Ae.min())?ee.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const u=this.ts(t,a);return this.ns(t,u,i,o)?ee.resolve(null):(ha()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),da(t)),this.rs(e,u,t,vN(o,-1)).next(d=>d))})}ts(e,t){let i=new $t(K1(e));return t.forEach((o,a)=>{gd(e,a)&&(i=i.add(a))}),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return ha()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",da(t)),this.Ji.getDocumentsMatchingQuery(e,t,ds.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new pt(He),this._s=new fo(a=>tg(a),ng),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function X4(n,e,t,i){return new Y4(n,e,t,i)}async function mE(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let f=Me();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({hs:m,removedBatchIds:u,addedBatchIds:d}))})})}function J4(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const E=m.batch,S=E.keys();let b=ee.resolve();return S.forEach(D=>{b=b.next(()=>v.getEntry(f,D)).next(N=>{const L=m.docVersions.get(D);Ye(L!==null),N.version.compareTo(L)<0&&(E.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))})}),b.next(()=>d.mutationQueue.removeMutationBatch(f,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Me();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function gE(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Z4(n,e){const t=Re(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const d=[];e.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;d.push(t.Ur.removeMatchingKeys(a,v.removedDocuments,E).next(()=>t.Ur.addMatchingKeys(a,v.addedDocuments,E)));let b=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,i)),o=o.insert(E,b),function(N,L,K){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,b,v)&&d.push(t.Ur.updateTargetData(a,b))});let f=Ii(),m=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(eO(a,u,e.documentUpdates).next(v=>{f=v.Ps,m=v.Is})),!i.isEqual(Ae.min())){const v=t.Ur.getLastRemoteSnapshotVersion(a).next(E=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return ee.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.os=o,a))}function eO(n,e,t){let i=Me(),o=Me();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Ii();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Ps:u,Is:o}})}function tO(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nO(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ur.getTargetData(i,e).next(a=>a?(o=a,ee.resolve(o)):t.Ur.allocateTargetId(i).next(u=>(o=new os(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}async function cm(n,e,t){const i=Re(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!za(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function A0(n,e,t){const i=Re(n);let o=Ae.min(),a=Me();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const E=Re(f),S=E._s.get(v);return S!==void 0?ee.resolve(E.os.get(S)):E.Ur.getTargetData(m,v)}(i,u,qr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>i.ss.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?a:Me())).next(d=>(rO(i,HN(e),d),{documents:d,Ts:a})))}function rO(n,e,t){let i=n.us.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.us.set(e,i)}class R0{constructor(){this.activeTargetIds=YN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iO{constructor(){this.so=new R0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new R0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Cp(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class lO extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,u){const d=Cp(),f=this.xo(t,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${d}:`,f,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,u),this.No(t,f,m,o).then(v=>(ce("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Aa("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",o),v})}Lo(t,i,o,a,u,d){return this.Mo(t,i,o,a,u)}Oo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}xo(t,i){const o=oO[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Cp();return new Promise((u,d)=>{const f=new x1;f.setWithCredentials(!0),f.listenOnce(b1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ch.NO_ERROR:const v=f.getResponseJson();ce(an,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case ch.TIMEOUT:ce(an,`RPC '${e}' ${a} timed out`),d(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const E=f.getStatus();if(ce(an,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const D=function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(b.status);d(new ye(D,b.message))}else d(new ye(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(an,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ce(an,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}Bo(e,t,i){const o=Cp(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=D1(),d=O1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");ce(an,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=u.createWebChannel(v,f);let S=!1,b=!1;const D=new aO({Io:L=>{b?ce(an,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ce(an,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(an,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},To:()=>E.close()}),N=(L,K,Y)=>{L.listen(K,W=>{try{Y(W)}catch(z){setTimeout(()=>{throw z},0)}})};return N(E,Wl.EventType.OPEN,()=>{b||(ce(an,`RPC '${e}' stream ${o} transport opened.`),D.yo())}),N(E,Wl.EventType.CLOSE,()=>{b||(b=!0,ce(an,`RPC '${e}' stream ${o} transport closed`),D.So())}),N(E,Wl.EventType.ERROR,L=>{b||(b=!0,Aa(an,`RPC '${e}' stream ${o} transport errored:`,L),D.So(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),N(E,Wl.EventType.MESSAGE,L=>{var K;if(!b){const Y=L.data[0];Ye(!!Y);const W=Y,z=W.error||((K=W[0])===null||K===void 0?void 0:K.error);if(z){ce(an,`RPC '${e}' stream ${o} received error:`,z);const j=z.status;let Q=function(R){const _=Rt[R];if(_!==void 0)return iE(_)}(j),P=z.message;Q===void 0&&(Q=ne.INTERNAL,P="Unknown error status: "+j+" with message "+z.message),b=!0,D.So(new ye(Q,P)),E.close()}else ce(an,`RPC '${e}' stream ${o} received:`,Y),D.bo(Y)}}),N(d,N1.STAT_EVENT,L=>{L.stat===em.PROXY?ce(an,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===em.NOPROXY&&ce(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return new m4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t,i,o,a,u,d,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===t&&this.P_(i,o)},i=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uO extends vE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=v4(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Kr(u.readTime):Ae.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=um(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=im(f)?{documents:E4(a,f)}:{query:T4(a,f)._t},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=aE(a,u.resumeToken);const m=om(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Bh(a,u.snapshotVersion.toTimestamp());const m=om(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=I4(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=um(this.serializer),t.removeTarget=e,this.a_(t)}}class cO extends vE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=w4(e.writeResults,e.commitTime),i=Kr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=um(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_4(this.serializer,i))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,am(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())})}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Lo(e,am(t,i),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(t),this.D_=!1):ce("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{po(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Re(f);m.L_.add(4),await Au(m),m.q_.set("Unknown"),m.L_.delete(4),await Td(m)}(this))})}),this.q_=new dO(i,o)}}async function Td(n){if(po(n))for(const e of n.B_)await e(!0)}async function Au(n){for(const e of n.B_)await e(!1)}function _E(n,e){const t=Re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),pg(t)?fg(t):Ha(t).r_()&&dg(t,e))}function hg(n,e){const t=Re(n),i=Ha(t);t.N_.delete(e),i.r_()&&wE(t,e),t.N_.size===0&&(i.r_()?i.o_():po(t)&&t.q_.set("Unknown"))}function dg(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ha(n).A_(e)}function wE(n,e){n.Q_.xe(e),Ha(n).R_(e)}function fg(n){n.Q_=new h4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ha(n).start(),n.q_.v_()}function pg(n){return po(n)&&!Ha(n).n_()&&n.N_.size>0}function po(n){return Re(n).L_.size===0}function EE(n){n.Q_=void 0}async function pO(n){n.q_.set("Online")}async function mO(n){n.N_.forEach((e,t)=>{dg(n,e)})}async function gO(n,e){EE(n),pg(n)?(n.q_.M_(e),fg(n)):n.q_.set("Unknown")}async function yO(n,e,t){if(n.q_.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.N_.delete(d),o.Q_.removeTarget(d))}(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uh(n,i)}else if(e instanceof ph?n.Q_.Ke(e):e instanceof sE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ae.min()))try{const i=await gE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const d=a.Q_.rt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.N_.get(m);v&&a.N_.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.N_.get(f);if(!v)return;a.N_.set(f,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),wE(a,f);const E=new os(v.target,f,m,v.sequenceNumber);dg(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await Uh(n,i)}}async function Uh(n,e,t){if(!za(e))throw e;n.L_.add(1),await Au(n),n.q_.set("Offline"),t||(t=()=>gE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Td(n)})}function TE(n,e){return e().catch(t=>Uh(n,t,e))}async function Sd(n){const e=Re(n),t=gs(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vO(e);)try{const o=await tO(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,_O(e,o)}catch(o){await Uh(e,o)}SE(e)&&IE(e)}function vO(n){return po(n)&&n.O_.length<10}function _O(n,e){n.O_.push(e);const t=gs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function SE(n){return po(n)&&!gs(n).n_()&&n.O_.length>0}function IE(n){gs(n).start()}async function wO(n){gs(n).p_()}async function EO(n){const e=gs(n);for(const t of n.O_)e.m_(t.mutations)}async function TO(n,e,t){const i=n.O_.shift(),o=sg.from(i,e,t);await TE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Sd(n)}async function SO(n,e){e&&gs(n).V_&&await async function(i,o){if(function(u){return l4(u)&&u!==ne.ABORTED}(o.code)){const a=i.O_.shift();gs(i).s_(),await TE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Sd(i)}}(n,e),SE(n)&&IE(n)}async function x0(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=po(t);t.L_.add(3),await Au(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Td(t)}async function IO(n,e){const t=Re(n);e?(t.L_.delete(2),await Td(t)):e||(t.L_.add(2),await Au(t),t.q_.set("Unknown"))}function Ha(n){return n.K_||(n.K_=function(t,i,o){const a=Re(t);return a.w_(),new uO(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:pO.bind(null,n),Ro:mO.bind(null,n),mo:gO.bind(null,n),d_:yO.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),pg(n)?fg(n):n.q_.set("Unknown")):(await n.K_.stop(),EE(n))})),n.K_}function gs(n){return n.U_||(n.U_=function(t,i,o){const a=Re(t);return a.w_(),new cO(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wO.bind(null,n),mo:SO.bind(null,n),f_:EO.bind(null,n),g_:TO.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Sd(n)):(await n.U_.stop(),n.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,d=new mg(e,t,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(n,e){if(Si("AsyncQueue",`${e}: ${n}`),za(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=ql(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Ea(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.W_=new pt(Ee.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Na{constructor(e,t,i,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Na(e,t,Ea.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kO{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Re(t),a=o.queries;o.queries=N0(),a.forEach((u,d)=>{for(const f of d.j_)f.onError(i)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function N0(){return new fo(n=>q1(n),md)}async function CE(n,e){const t=Re(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new CO,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=gg(u,`Initialization of query '${da(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&yg(t)}async function kE(n,e){const t=Re(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function AO(n,e){const t=Re(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.j_)d.X_(o)&&(i=!0);u.z_=o}}i&&yg(t)}function RO(n,e,t){const i=Re(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function yg(n){n.Y_.forEach(e=>{e.next()})}var hm,O0;(O0=hm||(hm={})).ea="default",O0.Cache="cache";class AE{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class PE{constructor(e){this.key=e}}class PO{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=K1(e),this.Ra=new Ea(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new b0,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const S=o.get(v),b=gd(this.query,E)?E:null,D=!!S&&this.mutatedKeys.has(S.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let L=!1;S&&b?S.data.isEqual(b.data)?D!==N&&(i.track({type:3,doc:b}),L=!0):this.ga(S,b)||(i.track({type:2,doc:b}),L=!0,(f&&this.Aa(b,f)>0||m&&this.Aa(b,m)<0)&&(d=!0)):!S&&b?(i.track({type:0,doc:b}),L=!0):S&&!b&&(i.track({type:1,doc:S}),L=!0,(f||m)&&(d=!0)),L&&(b?(u=u.add(b),a=N?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{Ra:u,fa:i,ns:d,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((v,E)=>function(b,D){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return N(b)-N(D)}(v.type,E.type)||this.Aa(v.doc,E.doc)),this.pa(i),o=o!=null&&o;const d=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,m=f!==this.Ea;return this.Ea=f,u.length!==0||m?{snapshot:new Na(this.query,e.Ra,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new b0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new PE(i))}),this.da.forEach(i=>{e.has(i)||t.push(new RE(i))}),t}ba(e){this.Ta=e.Ts,this.da=Me();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class bO{constructor(e){this.key=e,this.va=!1}}class NO{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new fo(d=>q1(d),md),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Ee.comparator),this.Na=new Map,this.La=new lg,this.Ba={},this.ka=new Map,this.qa=ba.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function OO(n,e,t=!0){const i=LE(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await xE(i,e,t,!0),o}async function DO(n,e){const t=LE(n);await xE(t,e,!0,!1)}async function xE(n,e,t,i){const o=await nO(n.localStore,qr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await LO(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&_E(n.remoteStore,o),d}async function LO(n,e,t,i,o){n.Ka=(E,S,b)=>async function(N,L,K,Y){let W=L.view.ma(K);W.ns&&(W=await A0(N.localStore,L.query,!1).then(({documents:P})=>L.view.ma(P,W)));const z=Y&&Y.targetChanges.get(L.targetId),j=Y&&Y.targetMismatches.get(L.targetId)!=null,Q=L.view.applyChanges(W,N.isPrimaryClient,z,j);return L0(N,L.targetId,Q.wa),Q.snapshot}(n,E,S,b);const a=await A0(n.localStore,e,!0),u=new PO(e,a.Ts),d=u.ma(a.documents),f=ku.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);L0(n,t,m.wa);const v=new xO(e,t,u);return n.Fa.set(e,v),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function VO(n,e,t){const i=Re(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(u=>!md(u,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&hg(i.remoteStore,o.targetId),dm(i,o.targetId)}).catch($a)):(dm(i,o.targetId),await cm(i.localStore,o.targetId,!0))}async function MO(n,e){const t=Re(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),hg(t.remoteStore,i.targetId))}async function FO(n,e,t){const i=WO(n);try{const o=await function(u,d){const f=Re(u),m=Lt.now(),v=d.reduce((b,D)=>b.add(D.key),Me());let E,S;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let D=Ii(),N=Me();return f.cs.getEntries(b,v).next(L=>{D=L,D.forEach((K,Y)=>{Y.isValidDocument()||(N=N.add(K))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,D)).next(L=>{E=L;const K=[];for(const Y of d){const W=r4(Y,E.get(Y.key).overlayedDocument);W!=null&&K.push(new _s(Y.key,W,B1(W.value.mapValue),bn.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,K,d)}).next(L=>{S=L;const K=L.applyToLocalDocumentSet(E,N);return f.documentOverlayCache.saveOverlays(b,L.batchId,K)})}).then(()=>({batchId:S.batchId,changes:Q1(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Ba[u.currentUser.toKey()];m||(m=new pt(He)),m=m.insert(d,f),u.Ba[u.currentUser.toKey()]=m}(i,o.batchId,t),await Ru(i,o.changes),await Sd(i.remoteStore)}catch(o){const a=gg(o,"Failed to persist write");t.reject(a)}}async function bE(n,e){const t=Re(n);try{const i=await Z4(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Na.get(a);u&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Ye(u.va):o.removedDocuments.size>0&&(Ye(u.va),u.va=!1))}),await Ru(t,i,e)}catch(i){await $a(i)}}function D0(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach((a,u)=>{const d=u.view.Z_(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Re(u);f.onlineState=d;let m=!1;f.queries.forEach((v,E)=>{for(const S of E.j_)S.Z_(d)&&(m=!0)}),m&&yg(f)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function BO(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let u=new pt(Ee.comparator);u=u.insert(a,cn.newNoDocument(a,Ae.min()));const d=Me().add(a),f=new wd(Ae.min(),new Map,new pt(He),u,d);await bE(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),vg(i)}else await cm(i.localStore,e,!1).then(()=>dm(i,e,t)).catch($a)}async function jO(n,e){const t=Re(n),i=e.batch.batchId;try{const o=await J4(t.localStore,e);OE(t,i,null),NE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ru(t,o)}catch(o){await $a(o)}}async function UO(n,e,t){const i=Re(n);try{const o=await function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(E=>(Ye(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(i.localStore,e);OE(i,e,t),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ru(i,o)}catch(o){await $a(o)}}function NE(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function OE(n,e,t){const i=Re(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function dm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||DE(n,i)})}function DE(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(hg(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),vg(n))}function L0(n,e,t){for(const i of t)i instanceof RE?(n.La.addReference(i.key,e),$O(n,i)):i instanceof PE?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||DE(n,i.key)):Ce()}function $O(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.xa.add(i),vg(n))}function vg(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ee(ht.fromString(e)),i=n.qa.next();n.Na.set(i,new bO(t)),n.Oa=n.Oa.insert(t,i),_E(n.remoteStore,new os(qr(rg(t.path)),i,"TargetPurposeLimboResolution",hd.oe))}}async function Ru(n,e,t){const i=Re(n),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((d,f)=>{u.push(i.Ka(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=cg.Wi(f.targetId,m);a.push(E)}}))}),await Promise.all(u),i.Ca.d_(o),await async function(f,m){const v=Re(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(m,S=>ee.forEach(S.$i,b=>v.persistence.referenceDelegate.addReference(E,S.targetId,b)).next(()=>ee.forEach(S.Ui,b=>v.persistence.referenceDelegate.removeReference(E,S.targetId,b)))))}catch(E){if(!za(E))throw E;ce("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const S=E.targetId;if(!E.fromCache){const b=v.os.get(S),D=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(D);v.os=v.os.insert(S,N)}}}(i.localStore,a))}async function zO(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await mE(t.localStore,e);t.currentUser=e,function(a,u){a.ka.forEach(d=>{d.forEach(f=>{f.reject(new ye(ne.CANCELLED,u))})}),a.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ru(t,i.hs)}}function HO(n,e){const t=Re(n),i=t.Na.get(e);if(i&&i.va)return Me().add(i.key);{let o=Me();const a=t.Ma.get(e);if(!a)return o;for(const u of a){const d=t.Fa.get(u);o=o.unionWith(d.view.Va)}return o}}function LE(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.Ca.d_=AO.bind(null,e.eventManager),e.Ca.$a=RO.bind(null,e.eventManager),e}function WO(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return X4(this.persistence,new Q4,e.initialUser,this.serializer)}Ga(e){return new pE(ug.Zr,this.serializer)}Wa(e){return new iO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class qO extends $h{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){Ye(this.persistence.referenceDelegate instanceof jh);const i=this.persistence.referenceDelegate.garbageCollector;return new D4(i,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new pE(i=>jh.Zr(i,t),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,this.syncEngine),await IO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kO}()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=function(a){return new lO(a)}(e.databaseInfo);return function(a,u,d,f){return new hO(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,d){return new fO(i,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>D0(this.syncEngine,t,0),function(){return P0.D()?new P0:new sO}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const E=new NO(o,a,u,d,f,m);return v&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Re(o);ce("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Au(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=V1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=gg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ap(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await mE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function V0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GO(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>x0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>x0(e.remoteStore,o)),n._onlineComponents=e}async function GO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ap(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),await Ap(n,new $h)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Ap(n,new qO(void 0));return n._offlineComponents}async function ME(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await V0(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await V0(n,new fm))),n._onlineComponents}function QO(n){return ME(n).then(e=>e.syncEngine)}async function FE(n){const e=await ME(n),t=e.eventManager;return t.onListen=OO.bind(null,e.syncEngine),t.onUnlisten=VO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MO.bind(null,e.syncEngine),t}function YO(n,e,t={}){const i=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new VE({next:S=>{v.Za(),u.enqueueAndForget(()=>kE(a,E));const b=S.docs.has(d);!b&&S.fromCache?m.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&S.fromCache&&f&&f.source==="server"?m.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),E=new AE(rg(d.path),v,{includeMetadataChanges:!0,_a:!0});return CE(a,E)}(await FE(n),n.asyncQueue,e,t,i)),i.promise}function XO(n,e,t={}){const i=new _i;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new VE({next:S=>{v.Za(),u.enqueueAndForget(()=>kE(a,E)),S.fromCache&&f.source==="server"?m.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),E=new AE(d,v,{includeMetadataChanges:!0,_a:!0});return CE(a,E)}(await FE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JO(n,e,t,i){if(e===!0&&i===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F0(n){if(!Ee.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function B0(n){if(Ee.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _g(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function Ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_g(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uN;switch(i.type){case"firstParty":return new fN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=M0.get(t);i&&(ce("ComponentProvider","Removing Datastore"),M0.delete(t),i.terminate())}(this),Promise.resolve()}}function ZO(n,e,t,i={}){var o;const a=(n=Ir(n,Id))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=un.MOCK_USER;else{d=_P(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new un(m)}n._authCredentials=new cN(new L1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Cd(this.firestore,e,this._query)}}class Nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class cs extends Cd{constructor(e,t,i){super(e,t,rg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Ee(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function UE(n,e,...t){if(n=zt(n),jE("collection","path",e),n instanceof Id){const i=ht.fromString(e,...t);return B0(i),new cs(n,null,i)}{if(!(n instanceof Nn||n instanceof cs))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return B0(i),new cs(n.firestore,null,i)}}function zr(n,e,...t){if(n=zt(n),arguments.length===1&&(e=V1.newId()),jE("doc","path",e),n instanceof Id){const i=ht.fromString(e,...t);return F0(i),new Nn(n,null,new Ee(i))}{if(!(n instanceof Nn||n instanceof cs))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return F0(i),new Nn(n.firestore,n instanceof cs?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yE(this,"async_queue_retry"),this.Vu=()=>{const i=kp();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new _i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!za(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw Si("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=mg.createAndSchedule(this,e,t,i,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class mo extends Id{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new U0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U0(e),this._firestoreClient=void 0,await e}}}function eD(n,e){const t=typeof n=="object"?n:qw(),i=typeof n=="string"?n:"(default)",o=Fm(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=yP("firestore");a&&ZO(o,...a)}return o}function kd(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tD(n),n._firestoreClient}function tD(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,m,v){return new RN(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,BE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new KO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(en.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class rD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cu(e,this.data,t,this.fieldTransforms)}}class $E{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Sg{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zE(this.Cu)&&nD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}Qu(e,t,i,o=!1){return new Sg({Cu:e,methodName:t,qu:i,path:Zt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new iD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HE(n,e,t,i,o,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);Cg("Data must be an object, but it was:",u,i);const d=KE(i,u);let f,m;if(a.merge)f=new zn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const S=pm(e,E,t);if(!u.contains(S))throw new ye(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QE(v,S)||v.push(S)}f=new zn(v),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new rD(new Pn(d),f,m)}class Ad extends wg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function WE(n,e,t,i){const o=n.Qu(1,e,t);Cg("Data must be an object, but it was:",o,i);const a=[],u=Pn.empty();vs(i,(f,m)=>{const v=kg(e,f,t);m=zt(m);const E=o.Nu(v);if(m instanceof Ad)a.push(v);else{const S=Rd(m,E);S!=null&&(a.push(v),u.set(v,S))}});const d=new zn(a);return new $E(u,d,o.fieldTransforms)}function qE(n,e,t,i,o,a){const u=n.Qu(1,e,t),d=[pm(e,i,t)],f=[o];if(a.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(pm(e,a[S])),f.push(a[S+1]);const m=[],v=Pn.empty();for(let S=d.length-1;S>=0;--S)if(!QE(m,d[S])){const b=d[S];let D=f[S];D=zt(D);const N=u.Nu(b);if(D instanceof Ad)m.push(b);else{const L=Rd(D,N);L!=null&&(m.push(b),v.set(b,L))}}const E=new zn(m);return new $E(v,E,u.fieldTransforms)}function Rd(n,e){if(GE(n=zt(n)))return Cg("Unsupported field value:",e,n),KE(n,e);if(n instanceof wg)return function(i,o){if(!zE(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const d of i){let f=Rd(d,o.Lu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Lt.fromDate(i);return{timestampValue:Bh(o.serializer,a)}}if(i instanceof Lt){const a=new Lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,a)}}if(i instanceof Eg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oa)return{bytesValue:aE(o.serializer,i._byteString)};if(i instanceof Nn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ag(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Tg)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return ig(d.serializer,f)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${_g(i)}`)}(n,e)}function KE(n,e){const t={};return M1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(n,(i,o)=>{const a=Rd(o,e.Mu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function GE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof Eg||n instanceof Oa||n instanceof Nn||n instanceof wg||n instanceof Tg)}function Cg(n,e,t){if(!GE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=_g(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function pm(n,e,t){if((e=zt(e))instanceof Pu)return e._internalPath;if(typeof e=="string")return kg(n,e);throw zh("Field path arguments must be of type string or ",n,!1,void 0,t)}const sD=new RegExp("[~\\*/\\[\\]]");function kg(n,e,t){if(e.search(sD)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pu(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zh(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new ye(ne.INVALID_ARGUMENT,d+n+f)}function QE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oD extends YE{data(){return super.data()}}function XE(n,e){return typeof e=="string"?kg(n,e):e instanceof Pu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lD{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return vs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Tt(u.doubleValue));return new Tg(a)}convertGeoPoint(e){return new Eg(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Ye(fE(i));const o=new du(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(t)||Si(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZE extends YE{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mh extends ZE{data(e={}){return super.data(e)}}class uD{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mh(this._firestore,this._userDataWriter,i.key,i,new Gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Gl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:cD(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(n){n=Ir(n,Nn);const e=Ir(n.firestore,mo);return YO(kd(e),n._key).then(t=>hD(e,n,t))}class eT extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function tT(n){n=Ir(n,Cd);const e=Ir(n.firestore,mo),t=kd(e),i=new eT(e);return aD(n._query),XO(t,n._query).then(o=>new uD(e,i,n,o))}function Ta(n,e,t){n=Ir(n,Nn);const i=Ir(n.firestore,mo),o=JE(n.converter,e,t);return Pd(i,[HE(Ig(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,bn.none())])}function tu(n,e,t,...i){n=Ir(n,Nn);const o=Ir(n.firestore,mo),a=Ig(o);let u;return u=typeof(e=zt(e))=="string"||e instanceof Pu?qE(a,"updateDoc",n._key,e,t,i):WE(a,"updateDoc",n._key,e),Pd(o,[u.toMutation(n._key,bn.exists(!0))])}function Ag(n){return Pd(Ir(n.firestore,mo),[new _d(n._key,bn.none())])}function Pd(n,e){return function(i,o){const a=new _i;return i.asyncQueue.enqueueAndForget(async()=>FO(await QO(i),o,a)),a.promise}(kd(n),e)}function hD(n,e,t){const i=t.docs.get(e._key),o=new eT(n);return new ZE(n,o,e._key,i,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ig(e)}set(e,t,i){this._verifyNotCommitted();const o=Rp(e,this._firestore),a=JE(o.converter,t,i),u=HE(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,i);return this._mutations.push(u.toMutation(o._key,bn.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const a=Rp(e,this._firestore);let u;return u=typeof(t=zt(t))=="string"||t instanceof Pu?qE(this._dataReader,"WriteBatch.update",a._key,t,i,o):WE(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rp(e,this._firestore);return this._mutations=this._mutations.concat(new _d(t._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rp(n,e){if((n=zt(n)).firestore!==e)throw new ye(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(n){return kd(n=Ir(n,mo)),new dD(n,e=>Pd(n,e))}(function(e,t=!0){(function(o){Ua=o})(Ba),Ca(new io("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new mo(new hN(i.getProvider("auth-internal")),new mN(i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),us(r0,"4.7.4",e),us(r0,"4.7.4","esm2017")})();const pD={apiKey:"AIzaSyBXUMvPv2VxeSdz-Jdw5_ZzRjO3GFmKYx4",authDomain:"myshelf-95c60.firebaseapp.com",projectId:"myshelf-95c60",storageBucket:"myshelf-95c60.appspot.com",messagingSenderId:"217816950852",appId:"1:217816950852:web:9881c761c45c6f45723411"},mD=Ww(pD),Ci=jb(),Hn=eD(mD),gD=({book:n,setCurrentBook:e,setCurrentAuthor:t})=>{const i=ao(),[o]=ho(Ci),[a,u]=U.useState(!1);U.useEffect(()=>{o&&v()},[o]);const d=E=>{e&&e(E),i("/myShelf/book")},f=E=>{const S=Array.isArray(E.author)?E.author[0]:E.author;t(S)},m=async()=>{if(!o)return;const E=zr(Hn,"users",o.uid,"books",n.id);try{a?(await Ag(E),u(!1)):(await Ta(E,{title:n.title,author:n.author,img:n.img,category:n.category,description:n.description,year:n.year,rating:0,isLiked:!0}),u(!0))}catch(S){console.error("Error adding/removing book from Firestore: ",S)}},v=async()=>{if(o)try{const E=zr(Hn,"users",o.uid,"books",n.id),S=await Hh(E);S.exists()&&S.data().isLiked===!0?u(!0):u(!1)}catch(E){console.error("Error checking if book is liked: ",E)}};return k.jsxs("div",{className:pi.bookCard,children:[k.jsxs("div",{className:pi.imageContainer,children:[n.img&&k.jsx("img",{src:n.img,className:pi.bookImg,alt:"book cover image",onClick:()=>d(n)}),!n.img&&k.jsx("div",{className:pi.noBookImgContainer,children:n.title})]}),k.jsxs("div",{className:pi.bookCardContent,children:[k.jsx("h2",{onClick:()=>d(n),children:n.title}),k.jsx("p",{className:pi.author,onClick:()=>f(n),children:k.jsx("strong",{children:n.author})}),k.jsxs("p",{children:[k.jsx("strong",{children:"Published: "}),n.year]}),k.jsx("p",{children:n.category}),k.jsx("p",{children:n.description})]}),k.jsxs("button",{className:pi.likeButton,onClick:()=>m(),children:[!a&&k.jsx(Xm,{className:pi.heart}),a&&k.jsx(Ym,{className:pi.heartActive})]})]})},yD="_bookList_97db3_1",vD="_bookCardContainer_97db3_8",$0={bookList:yD,bookCardContainer:vD},_D=({books:n,setCurrentBook:e,setCurrentAuthor:t})=>k.jsx("div",{className:$0.bookList,children:k.jsx("div",{className:$0.bookCardContainer,children:n.length>0?n.map((i,o)=>k.jsx(gD,{book:i,setCurrentBook:e,setCurrentAuthor:t},`${i.id}-${o}`)):k.jsx("p",{children:"No books available."})})}),Pp=({currentPage:n,totalPages:e,onPageChange:t})=>k.jsx(k.Fragment,{children:k.jsx(qR,{sx:{".MuiPaginationItem-root":{color:"white"}},count:e,page:n,onChange:t,color:"primary",size:"large"})}),wD=({searchTerm:n,searchResult:e,setCurrentBook:t,setCurrentAuthor:i,loading:o,setStartIndex:a,currentPage:u,setCurrentPage:d})=>{const f=n,m=10,v=async(E,S)=>{d(S),a(S===1?0:(S-1)*20)};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:gp.contentBody,children:[k.jsxs("h2",{children:["Results for: ",f]}),e.length>0&&k.jsx("div",{className:gp.pagination,children:k.jsx(Pp,{currentPage:u,totalPages:m,onPageChange:v})}),o?k.jsxs(k.Fragment,{children:[k.jsx(Pp,{currentPage:u,totalPages:m,onPageChange:v}),k.jsx(Lm,{color:"inherit",style:{position:"absolute",top:"200px",padding:0}})]}):k.jsx(k.Fragment,{children:k.jsx(_D,{books:e,setCurrentBook:t,setCurrentAuthor:i,setStartIndex:a,setCurrentPage:d,currentPage:u})}),e.length>0&&k.jsx("div",{className:gp.pagination,children:k.jsx(Pp,{currentPage:u,totalPages:m,onPageChange:v})})]})})},ED="_logoContainer_w1zvn_1",TD="_logo_w1zvn_1",SD="_searchBar_w1zvn_18",ID="_searchContainer_w1zvn_29",CD="_searchIcon_w1zvn_33",kD="_upperNav_w1zvn_41",AD="_lowerNav_w1zvn_48",RD="_navBar_w1zvn_75",PD="_navMenu_w1zvn_87",xD="_userAvatar_w1zvn_101",bD="_hamburger_w1zvn_106",ND="_line_w1zvn_117",OD="_dropdownMenu_w1zvn_125",DD="_visible_w1zvn_139",LD="_hidden_w1zvn_144",VD="_dropDownButtons_w1zvn_172",MD="_open_w1zvn_177",FD="_title_w1zvn_190",BD="_myAccountButton_w1zvn_219",jD="_accountButtonText_w1zvn_219",UD="_myBooksButton_w1zvn_233",$D="_signInButton_w1zvn_241",nt={logoContainer:ED,logo:TD,searchBar:SD,searchContainer:ID,searchIcon:CD,upperNav:kD,lowerNav:AD,navBar:RD,navMenu:PD,userAvatar:xD,hamburger:bD,line:ND,dropdownMenu:OD,visible:DD,hidden:LD,dropDownButtons:VD,open:MD,title:FD,myAccountButton:BD,accountButtonText:jD,myBooksButton:UD,signInButton:$D};function zD(n){return Cr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(n)}function HD(n){return Cr({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M104,34H56A14,14,0,0,0,42,48V208a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V48A14,14,0,0,0,104,34ZM54,78h52V178H54Zm2-32h48a2,2,0,0,1,2,2V66H54V48A2,2,0,0,1,56,46Zm48,164H56a2,2,0,0,1-2-2V190h52v18A2,2,0,0,1,104,210Zm125.7-15L196.51,37.16a14,14,0,0,0-16.63-10.85L133.07,36.37A14.09,14.09,0,0,0,122.3,53l33.19,157.81a14,14,0,0,0,6.1,8.9,13.85,13.85,0,0,0,7.57,2.26,13.55,13.55,0,0,0,3-.32l46.81-10.05A14.09,14.09,0,0,0,229.7,195Zm-82.81-83.32,50.73-10.9,14.12,67.16L161,178.81Zm-6.63-31.56L191,69.19,195.15,89l-50.73,10.9Zm-4.66-32,46.8-10.05a2.18,2.18,0,0,1,.42,0,1.89,1.89,0,0,1,1.05.32,2,2,0,0,1,.89,1.31l3.75,17.82L137.79,68.34l-3.74-17.78A2.07,2.07,0,0,1,135.6,48.1Zm80.81,151.8L169.6,210a1.92,1.92,0,0,1-1.47-.27,2,2,0,0,1-.89-1.31l-3.75-17.82,50.72-10.9L218,197.43A2.07,2.07,0,0,1,216.41,199.9Z"},child:[]}]})(n)}function z0(n){return Cr({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M229.66,58.34l-32-32a8,8,0,0,0-11.32,0l-96,96A8,8,0,0,0,88,128v32a8,8,0,0,0,8,8h32a8,8,0,0,0,5.66-2.34l96-96A8,8,0,0,0,229.66,58.34ZM124.69,152H104V131.31l64-64L188.69,88ZM200,76.69,179.31,56,192,43.31,212.69,64ZM224,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32h80a8,8,0,0,1,0,16H48V208H208V128a8,8,0,0,1,16,0Z"},child:[]}]})(n)}const WD=({handleSetSearchQuery:n,setBestSellerListIndex:e})=>{const t=ao(),[i,o]=U.useState(""),[a]=ho(Ci),[u,d]=U.useState(!1),f=()=>{d(!u)},m=S=>{o(S.target.value)},v=()=>{i&&(n(i),t("/myShelf/search"))},E=S=>{d(!1),e(S),t("/myShelf/")};return k.jsxs("div",{className:nt.navBar,children:[k.jsxs("div",{className:nt.upperNav,children:[k.jsxs("div",{className:nt.logoContainer,onClick:()=>t("/myShelf/"),children:[k.jsx(HD,{className:nt.logo}),k.jsx("h2",{className:nt.title,children:"MYSHELF"})]}),k.jsxs("div",{className:nt.searchContainer,children:[k.jsx("input",{type:"text",placeholder:"Books, authors...","aria-label":"Search for books or authors",value:i,onChange:m,onKeyDown:S=>{S.key==="Enter"&&i&&v()},className:nt.searchBar}),k.jsx(zD,{className:nt.searchIcon,onClick:v})]}),k.jsxs("div",{className:nt.navMenu,children:[a?k.jsxs(k.Fragment,{children:[k.jsx("button",{className:nt.myBooksButton,onClick:()=>t("/myShelf/my-books"),children:"My Books"}),k.jsxs("button",{className:nt.myAccountButton,onClick:()=>t("/myShelf/account"),children:[k.jsx("span",{className:nt.accountButtonText,children:"Account"}),k.jsx("img",{src:a.photoURL||"",alt:"User Avatar",className:nt.userAvatar})]})]}):k.jsx("button",{className:nt.signInButton,onClick:()=>t("/myShelf/login"),children:"Sign In"}),k.jsxs("div",{className:`${nt.dropdownMenu} ${u?nt.visible:nt.hidden}`,children:[a?k.jsxs("div",{className:nt.dropDownButtons,children:[k.jsx("button",{className:nt.dropdownMyBooks,onClick:()=>{d(!1),t("/myShelf/my-books")},children:"My Books"}),k.jsxs("button",{className:nt.dropdownAccount,onClick:()=>{d(!1),t("/myShelf/account")},children:["Account",k.jsx("img",{src:a.photoURL||"",alt:"User Avatar",className:nt.userAvatar})]})]}):k.jsx("button",{onClick:()=>{d(!1),t("/myShelf/login")},children:"Sign In"}),k.jsxs("ul",{children:[k.jsx("li",{onClick:()=>E(0),children:"Fiction"}),k.jsx("li",{onClick:()=>E(1),children:"Non-Fiction"}),k.jsx("li",{onClick:()=>E(25),children:"Young Adult"}),k.jsx("li",{onClick:()=>E(17),children:"Children"}),k.jsx("li",{onClick:()=>E(55),children:"Lifestyle"})]})]}),k.jsxs("div",{className:`${nt.hamburger} ${u?nt.open:""}`,onClick:f,children:[k.jsx("div",{className:nt.line}),k.jsx("div",{className:nt.line}),k.jsx("div",{className:nt.line})]})]})]}),k.jsx("div",{className:nt.lowerNav,children:k.jsxs("ul",{children:[k.jsx("li",{onClick:()=>E(0),children:"Fiction"}),k.jsx("li",{onClick:()=>E(1),children:"Non-Fiction"}),k.jsx("li",{onClick:()=>E(25),children:"Young Adult"}),k.jsx("li",{onClick:()=>E(17),children:"Children"}),k.jsx("li",{onClick:()=>E(55),children:"Lifestyle"})]})})]})},qD="_contentBody_keti5_1",KD="_infoHeader_keti5_14",GD="_bookContainer_keti5_20",QD="_likeButton_keti5_34",YD="_heart_keti5_48",XD="_heartActive_keti5_53",JD="_reviewIcon_keti5_58",ZD="_bookButtonsContainer_keti5_77",eL="_ratingContainer_keti5_84",tL="_reviewButton_keti5_96",nL="_reviewContainer_keti5_103",rL="_reviewButtons_keti5_115",Un={contentBody:qD,infoHeader:KD,bookContainer:GD,likeButton:QD,heart:YD,heartActive:XD,reviewIcon:JD,bookButtonsContainer:ZD,ratingContainer:eL,reviewButton:tL,reviewContainer:nL,reviewButtons:rL},nT=({handleRating:n,value:e})=>k.jsx(sP,{name:n?"half-rating":"read-only",size:n?"large":"small",value:e,precision:.5,readOnly:!n,onChange:(t,i)=>{i!==null&&n&&n(i)}}),iL="_overlay_iawjl_1",sL="_popup_iawjl_14",oL="_reviewTextArea_iawjl_32",aL="_saveButton_iawjl_42",lL="_buttons_iawjl_46",jl={overlay:iL,popup:sL,reviewTextArea:oL,saveButton:aL,buttons:lL},uL=({book:n,isOpen:e,onConfirm:t,onCancel:i,review:o})=>{if(!e)return null;let a=o;const u=f=>{a=f.target.value},d=()=>{t(a)};return k.jsx("div",{className:jl.overlay,children:k.jsxs("div",{className:jl.popup,children:[k.jsx("h2",{children:n.title}),k.jsx("textarea",{className:jl.reviewTextArea,name:"review",id:"review",placeholder:"Write a review...",onChange:u,defaultValue:a}),k.jsxs("div",{className:jl.buttons,children:[k.jsx("button",{className:jl.saveButton,onClick:d,children:"Save Review"}),k.jsx("button",{onClick:i,children:"Cancel"})]})]})})};function cL(n){return Cr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(n)}function hL(n){return Cr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8ZM6 10V20H18V10H6ZM9 12H11V18H9V12ZM13 12H15V18H13V12ZM7 5V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V5H22V7H2V5H7ZM9 4V5H15V4H9Z"},child:[]}]})(n)}function dL(n){return Cr({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64Zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372Zm128.013 198.826c.023.007.042.018.083.059l45.02 45.019c.04.04.05.06.058.083a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082L557.254 512l127.861 127.862a.268.268 0 0 1 .05.06l.009.023a.118.118 0 0 1 0 .07c-.007.022-.018.041-.059.082l-45.019 45.02c-.04.04-.06.05-.083.058a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059L512 557.254 384.14 685.115c-.042.041-.06.052-.084.059a.118.118 0 0 1-.07 0c-.022-.007-.041-.018-.082-.059l-45.02-45.019c-.04-.04-.05-.06-.058-.083a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082L466.745 512l-127.86-127.86a.268.268 0 0 1-.05-.061l-.009-.023a.118.118 0 0 1 0-.07c.007-.022.018-.041.059-.082l45.019-45.02c.04-.04.06-.05.083-.058a.118.118 0 0 1 .07 0c.022.007.041.018.082.059L512 466.745l127.862-127.86c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(n)}const fL="_overlay_1n1zy_1",pL="_popup_1n1zy_14",mL="_buttons_1n1zy_33",gL="_divHeader_1n1zy_42",yL="_closeButton_1n1zy_49",Ul={overlay:fL,popup:pL,buttons:mL,divHeader:gL,closeButton:yL},vL=({isOpen:n,onLogin:e,onCancel:t})=>{if(n)return k.jsx("div",{className:Ul.overlay,children:k.jsxs("div",{className:Ul.popup,children:[k.jsxs("div",{className:Ul.divHeader,children:[k.jsx("h2",{children:"Please log in"}),k.jsx(dL,{className:Ul.closeButton,onClick:t})]}),k.jsx("p",{children:"Adding, rating and reviewing books requires logging in. "}),k.jsxs("div",{className:Ul.buttons,children:[k.jsx("button",{onClick:t,children:"Cancel"}),k.jsx("button",{onClick:e,children:"Log in"})]})]})})},_L=({book:n,setCurrentAuthor:e})=>{const[t,i]=U.useState(!1),[o,a]=U.useState(0),[u,d]=U.useState(""),[f,m]=U.useState(!1),[v,E]=ho(Ci),[S,b]=U.useState(!1),D=ao(),N=Q=>{a(Q)},L=async Q=>{if(!v){b(!0);return}const P=zr(Hn,"users",v.uid,"books",n.id);try{t?await tu(P,{rating:Q}):await Ta(P,{title:n.title,author:n.author,img:n.img,category:n.category,description:n.description,rating:Q,isLiked:!1,review:u}),N(Q)}catch(C){console.error("Error setting rating: ",C)}},K=async Q=>{if(!v){b(!0);return}if(u===Q){m(!1);return}const P=zr(Hn,"users",v.uid,"books",n.id);try{t?(await tu(P,{review:Q}),d(Q)):await Ta(P,{title:n.title,author:n.author,img:n.img,category:n.category,description:n.description,rating:o,isLiked:!1,review:Q}),d(Q),m(!1)}catch(C){console.error("Error adding review: ",C)}},Y=()=>{D("/myShelf/login")},W=()=>{const Q=Array.isArray(n.author)?n.author[0]:n.author;e(Q),D("/myShelf/search")},z=async()=>{if(!v){b(!0);return}const Q=zr(Hn,"users",v.uid,"books",n.id);try{t?(o!==0||u!==""?await tu(Q,{isLiked:!1}):await Ag(Q),i(!1)):(await Ta(Q,{title:n.title,author:n.author,img:n.img,category:n.category,description:n.description,year:n.year,rating:o,isLiked:!0,review:""}),i(!0))}catch(P){console.error("Error handling book like/unlike in Firestore:",P)}};U.useEffect(()=>{v&&j()},[v,n.id]);const j=async()=>{if(v)try{const Q=zr(Hn,"users",v.uid,"books",n.id),P=await Hh(Q);if(P.exists()){const C=P.data();i(C.isLiked===!0),a(C.rating||0),d(C.review||"")}}catch(Q){console.error("Error fetching book data: ",Q)}};return E?k.jsx("p",{children:"Loading..."}):k.jsxs("div",{className:Un.contentBody,children:[k.jsxs("div",{className:Un.bookContainer,children:[k.jsxs("div",{className:Un.infoHeader,children:[k.jsx("img",{src:n.img,alt:n.title}),k.jsxs("div",{children:[k.jsx("h2",{children:n.title}),k.jsx("h3",{onClick:W,children:n.author}),k.jsxs("p",{children:[k.jsx("strong",{children:"Published:"})," ",n.year]}),n.category!=="No category"&&k.jsxs("p",{children:[k.jsx("strong",{children:"Category: "}),n.category]}),k.jsxs("div",{className:Un.bookButtonsContainer,children:[t?k.jsxs("button",{className:Un.likeButton,onClick:z,children:[k.jsx(Ym,{className:Un.heartActive}),k.jsx("p",{children:"Remove from my collection"})]}):k.jsxs("button",{className:Un.likeButton,onClick:z,children:[k.jsx(Xm,{className:Un.heart}),k.jsx("p",{children:"Add to my books"})]}),k.jsxs("button",{className:Un.reviewButton,onClick:()=>{v?m(!0):b(!0)},children:[k.jsx(z0,{className:Un.reviewIcon}),"Review"]})]}),k.jsxs("div",{className:Un.ratingContainer,children:[k.jsx("p",{children:k.jsx("strong",{children:"Your rating: "})}),k.jsx(nT,{handleRating:L,value:o})]})]})]}),k.jsx("p",{children:k.jsx("strong",{children:"Description:"})}),k.jsx("p",{children:n.description})]}),u!==""&&k.jsxs("div",{className:Un.reviewContainer,children:[k.jsx("h2",{children:"Your review"}),k.jsx("p",{children:u}),k.jsxs("div",{className:Un.reviewButtons,children:[k.jsxs("button",{onClick:()=>{v?m(!0):b(!0)},children:[k.jsx(z0,{}),"Edit"]}),k.jsxs("button",{onClick:()=>{K("")},children:[k.jsx(hL,{}),"Remove"]})]})]}),k.jsx(vL,{isOpen:S,onCancel:()=>b(!1),onLogin:Y}),k.jsx(uL,{book:n,isOpen:f,review:u,onConfirm:Q=>K(Q),onCancel:()=>m(!1)})]})},wL="_contentBody_la05q_1",EL="_loginContainer_la05q_11",TL="_loginButton_la05q_23",SL="_googleIcon_la05q_33",ua={contentBody:wL,loginContainer:EL,loginButton:TL,googleIcon:SL};function IL(n){return Cr({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const CL=()=>{const[n,e]=ho(Ci),t=ao();U.useEffect(()=>{n&&t("/myShelf/account")},[n,t]);const i=async u=>{try{await Ta(zr(Hn,"users",u.uid),{uid:u.uid,name:u.displayName,email:u.email,photoURL:u.photoURL})}catch(d){console.error("Error adding user to Firestore:",d)}},o=new Ur,a=async()=>{try{const u=await Gx(Ci,o);u.user&&(await i(u.user),t("/myShelf/account"))}catch(u){console.error("Google sign-in error:",u)}};return k.jsx("div",{className:ua.contentBody,children:e?k.jsx("div",{className:ua.spinnerDiv,children:k.jsx("span",{className:ua.loader})}):k.jsxs("div",{className:ua.loginContainer,children:[k.jsx("h2",{children:"Login"}),k.jsx("p",{children:"Sign in using one of the providers"}),k.jsx("button",{className:ua.loginButton,onClick:a,children:k.jsxs("h3",{children:[k.jsx(IL,{className:ua.googleIcon}),"Sign in using Google"]})})]})})},kL="_contentBody_j8i9l_1",AL="_userInfo_j8i9l_9",RL="_userInfoHeader_j8i9l_29",PL="_userAvatar_j8i9l_34",xL="_userButtons_j8i9l_39",bL="_deleteButton_j8i9l_50",ca={contentBody:kL,userInfo:AL,userInfoHeader:RL,userAvatar:PL,userButtons:xL,deleteButton:bL},NL="_overlay_lfs1l_1",OL="_popup_lfs1l_14",DL="_deleteButton_lfs1l_32",LL="_buttons_lfs1l_36",th={overlay:NL,popup:OL,deleteButton:DL,buttons:LL},VL=({isOpen:n,onConfirm:e,onCancel:t})=>n?k.jsx("div",{className:th.overlay,children:k.jsxs("div",{className:th.popup,children:[k.jsx("h2",{children:"Confirm deletion?"}),k.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."}),k.jsxs("div",{className:th.buttons,children:[k.jsx("button",{className:th.deleteButton,onClick:e,children:"Delete Account"}),k.jsx("button",{onClick:t,children:"Cancel"})]})]})}):null,ML=()=>{const[n,e]=ho(Ci),t=ao(),[i,o]=U.useState(!1),a=async()=>{if(n){const f=new Ur;try{await Qx(n,f),await d(n.uid),await n.delete(),console.log("User successfully deleted")}catch(m){console.error("Error deleting user: ",m)}}o(!1)},u=()=>{o(!1)},d=async f=>{try{const m=UE(Hn,`users/${f}/books`),v=await tT(m),E=fD(Hn);v.forEach(b=>{E.delete(b.ref)});const S=zr(Hn,"users",f);E.delete(S),await E.commit(),console.log("User and all associated books deleted successfully")}catch(m){console.error("Error deleting user data",m)}};return U.useEffect(()=>{n||t("/myShelf/login")},[n]),e?k.jsx("h1",{children:"Loading..."}):k.jsxs(k.Fragment,{children:[k.jsx(VL,{isOpen:i,onConfirm:a,onCancel:u}),k.jsx("div",{className:ca.contentBody,children:k.jsxs("div",{className:ca.userInfo,children:[k.jsx("h2",{children:"My Account"}),k.jsxs("h3",{className:ca.userInfoHeader,children:["Welcome ",n==null?void 0:n.displayName," ",k.jsx("img",{src:(n==null?void 0:n.photoURL)||"",className:ca.userAvatar,alt:""})]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Email: "}),n==null?void 0:n.email]}),k.jsxs("div",{className:ca.userButtons,children:[k.jsx("button",{onClick:()=>Ci.signOut(),children:"Log out"}),k.jsx("button",{className:ca.deleteButton,onClick:()=>{o(!0)},children:"Delete Account"})]})]})})]})},FL="_contentBody_1fgxj_1",BL="_collectionBody_1fgxj_13",jL="_ratedBooks_1fgxj_23",UL="_shelf_1fgxj_31",$l={contentBody:FL,collectionBody:BL,ratedBooks:jL,shelf:UL},$L="_bookCard_1a84x_1",zL="_bookCardContent_1a84x_13",HL="_author_1a84x_46",WL="_noBookImgContainer_1a84x_51",qL="_bookImg_1a84x_61",KL="_likeButton_1a84x_72",GL="_ratingLikeContainer_1a84x_78",QL="_heart_1a84x_86",YL="_heartActive_1a84x_91",Fr={bookCard:$L,bookCardContent:zL,author:HL,noBookImgContainer:WL,bookImg:qL,likeButton:KL,ratingLikeContainer:GL,heart:QL,heartActive:YL},H0=({book:n,setCurrentBook:e,setCurrentAuthor:t})=>{const i=ao(),[o]=ho(Ci),[a,u]=U.useState(!1);U.useEffect(()=>{o&&v()},[o]);const d=E=>{e&&e(E),i("/myShelf/book")},f=E=>{const S=Array.isArray(E.author)?E.author[0]:E.author;t(S),i("/myShelf/search")},m=async()=>{if(!o)return;const E=zr(Hn,"users",o.uid,"books",n.id);try{(await Hh(E)).exists()?a?(n.rating!==0?await tu(E,{isLiked:!1}):await Ag(E),u(!1)):(await tu(E,{isLiked:!0}),u(!0)):(await Ta(E,{title:n.title,author:n.author,img:n.img,category:n.category,description:n.description,rating:n.rating||0,isLiked:!0}),u(!0))}catch(S){console.error("Error handling book like/unlike in Firestore:",S)}},v=async()=>{if(o)try{const E=zr(Hn,"users",o.uid,"books",n.id),S=await Hh(E);S.exists()&&S.data().isLiked===!0?u(!0):u(!1)}catch(E){console.error("Error checking if book is liked: ",E)}};return k.jsxs("div",{className:Fr.bookCard,children:[k.jsxs("div",{className:Fr.imageContainer,children:[n.img&&k.jsx("img",{src:n.img,className:Fr.bookImg,alt:"book cover image",onClick:()=>d(n)}),!n.img&&k.jsx("div",{className:Fr.noBookImgContainer,onClick:()=>d(n),children:n.title})]}),k.jsxs("div",{className:Fr.bookCardContent,children:[k.jsx("h2",{onClick:()=>d(n),children:n.title}),k.jsx("p",{className:Fr.author,onClick:()=>f(n),children:k.jsx("strong",{children:n.author})}),k.jsxs("p",{children:[k.jsx("strong",{children:"Published: "}),n.year]}),k.jsx("p",{children:n.category}),k.jsxs("div",{className:Fr.ratingLikeContainer,children:[k.jsx(nT,{value:n.rating}),k.jsx("button",{className:Fr.likeButton,onClick:()=>m(),children:a?k.jsx(Ym,{className:Fr.heartActive}):k.jsx(Xm,{className:Fr.heart})})]})]})]})};function xp(n){return Cr({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M8.2 275.4c0-8.6 3.4-17.401 10-24.001 13.2-13.2 34.8-13.2 48 0l451.8 451.8 445.2-445.2c13.2-13.2 34.8-13.2 48 0s13.2 34.8 0 48L542 775.399c-13.2 13.2-34.8 13.2-48 0l-475.8-475.8c-6.8-6.8-10-15.4-10-24.199z"},child:[]}]})(n)}function bp(n){return Cr({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M8.2 751.4c0 8.6 3.4 17.401 10 24.001 13.2 13.2 34.8 13.2 48 0l451.8-451.8 445.2 445.2c13.2 13.2 34.8 13.2 48 0s13.2-34.8 0-48L542 251.401c-13.2-13.2-34.8-13.2-48 0l-475.8 475.8c-6.8 6.8-10 15.4-10 24.2z"},child:[]}]})(n)}const XL="_sortContainer_wr1bs_1",JL="_sortTitle_wr1bs_16",ZL="_active_wr1bs_30",eV="_sortButtons_wr1bs_35",tV="_closeIcon_wr1bs_41",nV="_closeButton_wr1bs_53",es={sortContainer:XL,sortTitle:JL,active:ZL,sortButtons:eV,closeIcon:tV,closeButton:nV},rV=({setSortOption:n,setSortDirection:e})=>{const[t,i]=U.useState(""),[o,a]=U.useState("asc"),u=f=>{if(t===f){const m=o==="asc"?"desc":"asc";a(m),e(m)}else i(f),a("asc"),n(f),e("asc")},d=()=>{i(""),a("asc"),n(""),e("asc")};return k.jsxs("div",{className:es.sortContainer,children:[k.jsx("p",{className:es.sortTitle,children:k.jsx("strong",{children:"Sort by:"})}),k.jsxs("div",{className:es.sortButtons,children:[k.jsxs("button",{className:t==="author"?es.active:"",onClick:()=>u("author"),children:["Author"," ",t==="author"&&(o==="asc"?k.jsx(bp,{}):k.jsx(xp,{}))]}),k.jsxs("button",{className:t==="year"?es.active:"",onClick:()=>u("year"),children:["Year"," ",t==="year"&&(o==="asc"?k.jsx(bp,{}):k.jsx(xp,{}))]}),k.jsxs("button",{className:t==="rating"?es.active:"",onClick:()=>u("rating"),children:["Rating"," ",t==="rating"&&(o==="asc"?k.jsx(bp,{}):k.jsx(xp,{}))]}),t&&k.jsxs("button",{className:es.closeButton,onClick:d,children:[k.jsx("p",{children:"Close"}),k.jsx(cL,{className:es.closeIcon})]})]})]})},W0="/myShelf/assets/shelf-CWlw8pIY.webp",iV=({setCurrentAuthor:n,setCurrentBook:e})=>{const[t]=ho(Ci),[i,o]=U.useState([]),[a,u]=U.useState([]),[d,f]=U.useState(!1),[m,v]=U.useState(""),[E,S]=U.useState(""),[b,D]=U.useState(3);U.useEffect(()=>{const Y=()=>{window.innerWidth>2428?D(6):window.innerWidth>1820?D(5):window.innerWidth>1455?D(4):window.innerWidth>1091?D(3):window.innerWidth>727?D(2):D(1)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),U.useEffect(()=>{(async()=>{if(t){f(!0);try{const W=UE(Hn,"users",t.uid,"books"),j=(await tT(W)).docs.map(C=>({id:C.id,...C.data()})),Q=j.filter(C=>C.isLiked===!0),P=j.filter(C=>C.isLiked===!1&&C.rating!==void 0);o(Q),u(P)}catch(W){console.error("Error fetching books",W)}finally{f(!1)}}})()},[t]);const N=(Y,W,z)=>{const j=[...Y].sort((Q,P)=>{switch(W){case"author":const C=Array.isArray(Q.author)?Q.author.join(", "):Q.author,R=Array.isArray(P.author)?P.author.join(", "):P.author;return C.localeCompare(R);case"year":return(Q.year||0)-(P.year||0);case"rating":return(P.rating||0)-(Q.rating||0);default:return 0}});return z==="desc"?j.reverse():j},L=N(i,m,E),K=N(a,m,E);return k.jsx(k.Fragment,{children:k.jsxs("div",{className:$l.contentBody,children:[k.jsx("h1",{children:"My Collection"}),d&&k.jsx(Lm,{color:"inherit",style:{position:"absolute",top:"250px",padding:0}}),i.length>0&&k.jsx(rV,{setSortOption:v,setSortDirection:S}),k.jsx("div",{className:$l.collectionBody,children:L.length>0?k.jsxs(k.Fragment,{children:[L.map((Y,W)=>k.jsxs(xn.Fragment,{children:[k.jsx(H0,{book:Y,setCurrentBook:e,setCurrentAuthor:n}),(W+1)%b===0&&k.jsx("img",{src:W0,className:$l.shelf,alt:""})]},`${Y.id}-${W}`)),L.length%3!==0&&k.jsx("img",{src:W0,className:$l.shelf,alt:""})]}):k.jsx("h3",{children:"You have no saved books. Try searching for one of your favorites!"})}),K.length>0&&k.jsxs(k.Fragment,{children:[k.jsx("h2",{children:"Not in your collection"}),k.jsx("div",{className:$l.ratedBooks,children:K.map((Y,W)=>k.jsx(H0,{book:Y,setCurrentBook:e,setCurrentAuthor:n},`${Y.id}-${W}`))})]})]})})},sV=()=>{const[n,e]=U.useState([]),[t,i]=U.useState(""),[o,a]=U.useState(null),[u,d]=U.useState(""),[f,m]=U.useState(1),[v,E]=U.useState(0),[S,b]=U.useState(!1),[D,N]=U.useState(0),L=z=>{i(z)},K=z=>{a(z)},Y=z=>{i(z),d(z)};U.useEffect(()=>{i(u),u!==""&&W()},[u]),U.useEffect(()=>{if(!t)return;(async()=>{e([]),b(!0);try{const j=await Np.fetchBooks({searchQuery:t,startIndex:v});e(j),b(!1)}catch(j){console.error("Error fetching books: ",j),b(!1)}})()},[t,v]);const W=async()=>{e([]),b(!0);try{const z=await Np.fetchAuthor({currentAuthor:u});e(z),b(!1)}catch(z){console.error("Error fetching books: ",z),b(!1)}};return k.jsxs(mI,{children:[k.jsx(WD,{handleSetSearchQuery:L,setBestSellerListIndex:N}),k.jsxs(dI,{children:[k.jsx(Qs,{path:"/myShelf",element:k.jsx(aP,{setCurrentAuthor:d,setCurrentBook:a,bestsellerListIndex:D})}),k.jsx(Qs,{path:"/myShelf/book",element:o?k.jsx(_L,{book:o,setCurrentAuthor:Y}):k.jsx("p",{children:"No book selected."})}),k.jsx(Qs,{path:"/myShelf/login",element:k.jsx(CL,{})}),k.jsx(Qs,{path:"/myShelf/account",element:k.jsx(ML,{})}),k.jsx(Qs,{path:"/myShelf/my-books",element:k.jsx(iV,{setCurrentBook:a,setCurrentAuthor:d})}),k.jsx(Qs,{path:"/myShelf/search",element:k.jsx(wD,{setCurrentBook:K,setCurrentAuthor:Y,searchTerm:t,searchResult:n,loading:S,setStartIndex:E,currentPage:f,setCurrentPage:m})})]})]})};yS.createRoot(document.getElementById("root")).render(k.jsx(U.StrictMode,{children:k.jsx(sV,{})}));
